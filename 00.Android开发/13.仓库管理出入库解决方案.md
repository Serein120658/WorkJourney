# RFIDæ‰¹é‡å…¥åº“ä¼˜åŒ–æ–¹æ¡ˆ - é’ˆå¯¹å®é™…åœºæ™¯æ”¹è¿›

## ä¸€ã€åœºæ™¯åˆ†æä¸ç—›ç‚¹

### 1.1 ä½ çš„å®é™…æƒ…å†µ

```
âœ“ å®šåˆ¶æ ‡ç­¾ï¼šæ¯ä¸ªå®¢æˆ·ï¼ˆå¹¼å„¿å›­ï¼‰å®šåˆ¶1000ä¸ªé¢„ç¼–ç æ ‡ç­¾
âœ“ å•†å“åˆ—è¡¨é•¿ï¼šå¯èƒ½æœ‰å‡ ç™¾ç§å•†å“
âœ“ æ‰‹æŒæœºæ“ä½œï¼šå°å±å¹•ä¸é€‚åˆé•¿åˆ—è¡¨é€‰æ‹©
âœ“ æ˜“å‡ºé”™ï¼šäººå·¥é€‰æ‹©å•†å“å®¹æ˜“é€‰é”™

æ ¸å¿ƒé—®é¢˜ï¼š
å¦‚ä½•åœ¨æ‰‹æŒæœºä¸Šå¿«é€Ÿã€å‡†ç¡®åœ°å°†æ ‡ç­¾å…³è”åˆ°æ­£ç¡®çš„å•†å“ï¼Ÿ
```

------

## äºŒã€ä¼˜åŒ–æ–¹æ¡ˆè®¾è®¡

### æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ                  | æ“ä½œæ–¹å¼                     | ä¼˜ç‚¹               | ç¼ºç‚¹         | æ¨èåº¦ |
| --------------------- | ---------------------------- | ------------------ | ------------ | ------ |
| **æ–¹æ¡ˆ1ï¼šæ‰«ç å…³è”**   | æ‰«å•†å“æ¡ç â†’æ‰«RFIDæ ‡ç­¾        | å‡†ç¡®ç‡é«˜ï¼Œæ“ä½œç®€å• | éœ€é€ä¸ªæ‰«æ   | â­â­â­â­â­  |
| **æ–¹æ¡ˆ2ï¼šPCç«¯é¢„å…³è”** | ç”µè„‘å½•å…¥â†’æ‰‹æŒæœºåŒæ­¥â†’ç°åœºè´´æ ‡ | å¤§å±å¹•æ“ä½œèˆ’é€‚     | éœ€æå‰å‡†å¤‡   | â­â­â­â­â­  |
| **æ–¹æ¡ˆ3ï¼šè¯­éŸ³/æœç´¢**  | è¯­éŸ³æˆ–æœç´¢å•†å“               | å¿«é€ŸæŸ¥æ‰¾           | ä»éœ€äººå·¥æ ¸å¯¹ | â­â­â­    |
| **æ–¹æ¡ˆ4ï¼šäºŒç»´ç å…³è”** | æ‰“å°å•†å“äºŒç»´ç è´´åˆ°è´§ç‰©       | æ‰«ç å³å…³è”         | éœ€é¢å¤–æ ‡ç­¾   | â­â­â­â­   |

------

## ä¸‰ã€æ¨èæ–¹æ¡ˆè¯¦è§£

### ğŸ¯ æ–¹æ¡ˆ1ï¼šæ¡å½¢ç +RFIDåŒæ‰«æï¼ˆæœ€æ¨èï¼‰

#### 3.1.1 æ ¸å¿ƒæ€è·¯

```
å•†å“æœ¬èº«çš„æ¡å½¢ç  + RFIDæ ‡ç­¾ = å¤©ç„¶çš„åŒé‡æ ‡è¯†
```

**æ“ä½œæµç¨‹ï¼š**

```
1. è´§ç‰©åˆ°è¾¾ï¼Œå…ˆè´´RFIDæ ‡ç­¾ï¼ˆä¸å…³è”ï¼‰
2. æ‰‹æŒæœºåˆ‡æ¢åˆ°"æ‰«ç å…¥åº“æ¨¡å¼"
3. æ‰«æå•†å“åŸæœ‰æ¡å½¢ç  â†’ è‡ªåŠ¨è¯†åˆ«å•†å“
4. æ‰«æRFIDæ ‡ç­¾ â†’ è‡ªåŠ¨å…³è”
5. è¾“å…¥æ•°é‡ã€ä½ç½® â†’ å®Œæˆå…¥åº“
6. é‡å¤æ­¥éª¤3-5...

æ•ˆç‡ï¼šæ¯ä¸ªè´§ç‰© 5-10ç§’ï¼ˆæ‰«ç 2ç§’ + æ‰«RFID 1ç§’ + è¾“å…¥æ•°é‡2ç§’ï¼‰
å‡†ç¡®ç‡ï¼š99.9%ï¼ˆæ¡å½¢ç è‡ªåŠ¨è¯†åˆ«ï¼Œæ— éœ€äººå·¥é€‰æ‹©ï¼‰
```

#### 3.1.2 ç•Œé¢è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    æ‰«ç å…¥åº“æ¨¡å¼                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  æ­¥éª¤1: æ‰«æå•†å“æ¡å½¢ç                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  [â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡â–¡]  ç­‰å¾…æ‰«æ... â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  è¯†åˆ«ç»“æœï¼š                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å•†å“ï¼šä¼Šåˆ©çº¯ç‰›å¥¶                â”‚ â”‚
â”‚  â”‚  è§„æ ¼ï¼š24ç›’/ç®±ï¼Œ250ml/ç›’        â”‚ â”‚
â”‚  â”‚  å•ä»·ï¼šÂ¥89.90                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  æ­¥éª¤2: æ‰«æRFIDæ ‡ç­¾                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  EPC: E28011700000001         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  æ•°é‡: [24] ç›’                     â”‚
â”‚  ä½ç½®: [AåŒº-01-03] â–¼               â”‚
â”‚                                    â”‚
â”‚  [ç¡®è®¤å…¥åº“]  [å–æ¶ˆ]                 â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.1.3 ä»£ç å®ç°

```java
/**
 * æ‰«ç å…¥åº“Activity
 * æµç¨‹ï¼šæ‰«å•†å“æ¡ç  â†’ è¯†åˆ«å•†å“ â†’ æ‰«RFID â†’ å…³è”å…¥åº“
 */
public class BarcodeRfidInboundActivity extends AppCompatActivity {

    private EditText etBarcode, etRfid, etQuantity, etLocation;
    private TextView tvProductInfo;
    private Button btnConfirm, btnReset;
    
    private Product currentProduct;
    private String currentEpc;
    private LocalDatabase localDB;
    
    // æ‰«ææ¨¡å¼ï¼š1=æ‰«æ¡å½¢ç   2=æ‰«RFID
    private int scanMode = 1;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_barcode_rfid_inbound);
        
        initViews();
        initRFID();
        setupBarcodeScanner();
    }

    /**
     * æ¡å½¢ç æ‰«æç›‘å¬
     */
    private void setupBarcodeScanner() {
        // æ–¹å¼1ï¼šä½¿ç”¨æ‰‹æŒæœºçš„ç¡¬ä»¶æ‰«ç é”®è§¦å‘
        etBarcode.setOnKeyListener((v, keyCode, event) -> {
            if (keyCode == KeyEvent.KEYCODE_ENTER && event.getAction() == KeyEvent.ACTION_UP) {
                String barcode = etBarcode.getText().toString().trim();
                onBarcodeScanned(barcode);
                return true;
            }
            return false;
        });
        
        // æ–¹å¼2ï¼šé›†æˆæ‰«ç SDKï¼ˆå¦‚æœæ‰‹æŒæœºæä¾›ï¼‰
        // ScanManager.startScan(barcode -> onBarcodeScanned(barcode));
    }

    /**
     * æ¡å½¢ç æ‰«ææˆåŠŸ
     */
    private void onBarcodeScanned(String barcode) {
        showProgressDialog("æŸ¥è¯¢å•†å“...");
        
        // æ–¹æ¡ˆAï¼šä»æœ¬åœ°æ•°æ®åº“æŸ¥è¯¢
        new Thread(() -> {
            Product product = localDB.getProductByBarcode(barcode);
            
            runOnUiThread(() -> {
                hideProgressDialog();
                
                if (product != null) {
                    currentProduct = product;
                    displayProductInfo(product);
                    
                    // è‡ªåŠ¨åˆ‡æ¢åˆ°æ‰«RFIDæ¨¡å¼
                    scanMode = 2;
                    etRfid.requestFocus();
                    startRfidScan();
                    
                    showToast("å•†å“è¯†åˆ«æˆåŠŸï¼Œè¯·æ‰«æRFIDæ ‡ç­¾");
                } else {
                    showToast("æœªæ‰¾åˆ°å•†å“ï¼Œè¯·æ£€æŸ¥æ¡å½¢ç ");
                }
            });
        }).start();
        
        // æ–¹æ¡ˆBï¼šä»æœåŠ¡å™¨æŸ¥è¯¢ï¼ˆå¦‚æœéœ€è¦ï¼‰
        // apiService.getProductByBarcode(barcode, callback);
    }

    /**
     * æ˜¾ç¤ºå•†å“ä¿¡æ¯
     */
    private void displayProductInfo(Product product) {
        String info = String.format(
            "å•†å“ï¼š%s\nè§„æ ¼ï¼š%s\nå•ä»·ï¼šÂ¥%.2f",
            product.getProductName(),
            product.getSpec(),
            product.getUnitPrice()
        );
        tvProductInfo.setText(info);
        tvProductInfo.setVisibility(View.VISIBLE);
        
        // è‡ªåŠ¨å¡«å……é»˜è®¤æ•°é‡
        if (product.getSpec().contains("24")) {
            etQuantity.setText("24");
        }
    }

    /**
     * å¼€å§‹RFIDæ‰«æ
     */
    private void startRfidScan() {
        UHFEngine.getEngine().inventoryRealTime(new UHFEngine.InventoryListener() {
            @Override
            public void onInventoryTag(Tag tag) {
                String epc = tag.getEpc();
                
                runOnUiThread(() -> {
                    // è‡ªåŠ¨åœæ­¢æ‰«æ
                    UHFEngine.getEngine().stopInventory();
                    
                    // æ£€æŸ¥æ ‡ç­¾æ˜¯å¦å·²ä½¿ç”¨
                    if (localDB.isEpcExists(epc)) {
                        showToast("è­¦å‘Šï¼šè¯¥æ ‡ç­¾å·²è¢«ä½¿ç”¨ï¼");
                        etRfid.setText(epc + " (å·²ä½¿ç”¨)");
                        etRfid.setTextColor(Color.RED);
                        btnConfirm.setEnabled(false);
                    } else {
                        currentEpc = epc;
                        etRfid.setText(epc);
                        etRfid.setTextColor(Color.GREEN);
                        btnConfirm.setEnabled(true);
                        
                        // è‡ªåŠ¨èšç„¦åˆ°æ•°é‡è¾“å…¥
                        etQuantity.requestFocus();
                        etQuantity.selectAll();
                    }
                });
            }

            @Override
            public void onInventoryStatus(int status) {}
        });
    }

    /**
     * ç¡®è®¤å…¥åº“
     */
    private void confirmInbound() {
        if (currentProduct == null || currentEpc == null) {
            showToast("è¯·å…ˆæ‰«æå•†å“å’Œæ ‡ç­¾");
            return;
        }
        
        String quantityStr = etQuantity.getText().toString().trim();
        String location = etLocation.getText().toString().trim();
        
        if (quantityStr.isEmpty()) {
            showToast("è¯·è¾“å…¥æ•°é‡");
            return;
        }
        
        int quantity = Integer.parseInt(quantityStr);
        
        // ä¿å­˜åˆ°æ•°æ®åº“
        RfidInventory inventory = new RfidInventory();
        inventory.setEpcCode(currentEpc);
        inventory.setProductId(currentProduct.getProductId());
        inventory.setProductName(currentProduct.getProductName());
        inventory.setOriginalQuantity(quantity);
        inventory.setCurrentQuantity(quantity);
        inventory.setLocation(location);
        inventory.setInboundTime(new Date());
        inventory.setOperator(getCurrentUser());
        inventory.setStatus("åœ¨åº“");
        
        long id = localDB.insertInventory(inventory);
        
        if (id > 0) {
            // è®°å½•æ—¥å¿—
            OperationLog log = new OperationLog();
            log.setEpcCode(currentEpc);
            log.setProductId(currentProduct.getProductId());
            log.setOperationType("å…¥åº“");
            log.setQuantityChange(quantity);
            log.setOperator(getCurrentUser());
            localDB.insertLog(log);
            
            showToast("å…¥åº“æˆåŠŸï¼");
            
            // é‡ç½®ç•Œé¢ï¼Œå‡†å¤‡ä¸‹ä¸€ä¸ª
            resetForm();
            
            // å¯é€‰ï¼šéœ‡åŠ¨åé¦ˆ
            vibrate(100);
        } else {
            showToast("å…¥åº“å¤±è´¥ï¼");
        }
    }

    /**
     * é‡ç½®è¡¨å•
     */
    private void resetForm() {
        etBarcode.setText("");
        etRfid.setText("");
        etQuantity.setText("");
        tvProductInfo.setVisibility(View.GONE);
        
        currentProduct = null;
        currentEpc = null;
        scanMode = 1;
        
        etBarcode.requestFocus();
        btnConfirm.setEnabled(false);
    }
}
```

#### 3.1.4 ä¼˜ç‚¹åˆ†æ

```
âœ… å‡†ç¡®ç‡é«˜ï¼šæ¡å½¢ç è‡ªåŠ¨è¯†åˆ«ï¼Œæ— éœ€æ‰‹åŠ¨é€‰æ‹©
âœ… æ“ä½œç®€å•ï¼šæ‰«ä¸¤æ¬¡å³å¯ï¼ˆæ¡ç +RFIDï¼‰
âœ… é˜²é‡å¤ï¼šè‡ªåŠ¨æ£€æµ‹æ ‡ç­¾æ˜¯å¦å·²ä½¿ç”¨
âœ… é€Ÿåº¦å¿«ï¼š5-10ç§’/ä»¶
âœ… æ˜“åŸ¹è®­ï¼šæ“ä½œé€»è¾‘æ¸…æ™°
âœ… æ— éœ€é¢å¤–æˆæœ¬ï¼šåˆ©ç”¨å•†å“åŸæœ‰æ¡å½¢ç 
```

------

### ğŸ¯ æ–¹æ¡ˆ2ï¼šPCç«¯é¢„å…³è” + æ‰‹æŒæœºéªŒè¯ï¼ˆæœ€é«˜æ•ˆï¼‰

#### 3.2.1 æ ¸å¿ƒæ€è·¯

```
åŠå…¬å®¤ç”µè„‘ï¼ˆå¤§å±å¹•ï¼‰ â†’ æå‰å½•å…¥å…³è”å…³ç³» â†’ æ‰‹æŒæœºä¸‹è½½ â†’ ç°åœºå¿«é€Ÿè´´æ ‡
```

**å®Œæ•´æµç¨‹ï¼š**

```
é˜¶æ®µ1ï¼šè´§åˆ°å‰ï¼ˆåŠå…¬å®¤æ“ä½œï¼‰
â”œâ”€ ä¾›åº”å•†å‘è´§é€šçŸ¥ï¼ˆè®¢å•æ˜ç»†ï¼‰
â”œâ”€ PCç«¯å½•å…¥ç³»ç»Ÿï¼š
â”‚   â”œâ”€ ä¼Šåˆ©çº¯ç‰›å¥¶ Ã— 50ç®±
â”‚   â”œâ”€ å¯å£å¯ä¹   Ã— 30ç®±
â”‚   â””â”€ å†œå¤«å±±æ³‰   Ã— 20ç®±
â”œâ”€ ç³»ç»Ÿç”Ÿæˆå…¥åº“å•ï¼š#IB20241030001
â””â”€ åˆ†é…100ä¸ªRFIDæ ‡ç­¾ï¼ˆä»æ ‡ç­¾æ± ï¼‰

é˜¶æ®µ2ï¼šè´§åˆ°æ—¶ï¼ˆä»“åº“æ“ä½œï¼‰
â”œâ”€ æ‰‹æŒæœºåŒæ­¥å…¥åº“å•
â”œâ”€ æ‰«æå…¥åº“å•äºŒç»´ç  â†’ åŠ è½½å•†å“æ¸…å•
â”œâ”€ æ‰¹é‡æ‰«æRFIDæ ‡ç­¾ï¼ˆ1ç§’100ä¸ªï¼‰
â””â”€ ç³»ç»Ÿè‡ªåŠ¨æŒ‰é¡ºåºå…³è”ï¼š
    â”œâ”€ æ ‡ç­¾001-050 â†’ ä¼Šåˆ©çº¯ç‰›å¥¶
    â”œâ”€ æ ‡ç­¾051-080 â†’ å¯å£å¯ä¹
    â””â”€ æ ‡ç­¾081-100 â†’ å†œå¤«å±±æ³‰

é˜¶æ®µ3ï¼šéªŒè¯è´´æ ‡
â”œâ”€ é€ä¸ªè´´æ ‡ç­¾åˆ°è´§ç‰©
â”œâ”€ å¯é€‰éªŒè¯ï¼šæ‰«ææ ‡ç­¾ â†’ æ˜¾ç¤ºå…³è”å•†å“ â†’ ç¡®è®¤æ­£ç¡®
â””â”€ å®Œæˆå…¥åº“

ä¼˜ç‚¹ï¼š
âœ“ PCç«¯æ“ä½œèˆ’é€‚ï¼ˆå¤§å±å¹•ã€é”®ç›˜é¼ æ ‡ï¼‰
âœ“ ç°åœºæ“ä½œæç®€ï¼ˆåªè´´æ ‡ç­¾ï¼Œæˆ–ç®€å•éªŒè¯ï¼‰
âœ“ å‡†ç¡®ç‡é«˜ï¼ˆæå‰è§„åˆ’å¥½ï¼‰
âœ“ é€‚åˆå¤§æ‰¹é‡å…¥åº“
```

#### 3.2.2 PCç«¯ç®¡ç†ç³»ç»Ÿç•Œé¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  åˆ›å»ºå…¥åº“å• - #IB20241030001                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  ä¾›åº”å•†: [ä¼Šåˆ©é›†å›¢] â–¼      é¢„è®¡åˆ°è´§: [2024-10-30] ğŸ“…   â”‚
â”‚  ä»“åº“ä½ç½®: [AåŒº] â–¼         æ“ä½œå‘˜: [å¼ ä¸‰] â–¼            â”‚
â”‚                                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  å•†å“åˆ—è¡¨                                         â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ åºå·â”‚ å•†å“åç§°  â”‚æ•°é‡â”‚å•ä½â”‚ åˆ†é…æ ‡ç­¾              â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ 1  â”‚ä¼Šåˆ©çº¯ç‰›å¥¶ â”‚ 50 â”‚ ç®± â”‚ [åˆ†é…æ ‡ç­¾] (å·²åˆ†é…50) â”‚ â”‚
â”‚  â”‚ 2  â”‚å¯å£å¯ä¹   â”‚ 30 â”‚ ç®± â”‚ [åˆ†é…æ ‡ç­¾] (å·²åˆ†é…30) â”‚ â”‚
â”‚  â”‚ 3  â”‚å†œå¤«å±±æ³‰   â”‚ 20 â”‚ ç®± â”‚ [åˆ†é…æ ‡ç­¾] (å·²åˆ†é…20) â”‚ â”‚
â”‚  â”‚ 4  â”‚           â”‚    â”‚    â”‚ [+ æ·»åŠ å•†å“]          â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚  æ ‡ç­¾åˆ†é…è¯¦æƒ…ï¼š                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ä¼Šåˆ©çº¯ç‰›å¥¶ (50ç®±):                                 â”‚ â”‚
â”‚  â”‚ â€¢ E28011700000001 ~ E28011700000050               â”‚ â”‚
â”‚  â”‚                                                   â”‚ â”‚
â”‚  â”‚ å¯å£å¯ä¹ (30ç®±):                                   â”‚ â”‚
â”‚  â”‚ â€¢ E28011700000051 ~ E28011700000080               â”‚ â”‚
â”‚  â”‚                                                   â”‚ â”‚
â”‚  â”‚ å†œå¤«å±±æ³‰ (20ç®±):                                   â”‚ â”‚
â”‚  â”‚ â€¢ E28011700000081 ~ E28011700000100               â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                        â”‚
â”‚  [ä¿å­˜è‰ç¨¿] [ç”ŸæˆäºŒç»´ç ] [æ‰“å°æ ‡ç­¾æ¸…å•] [æäº¤]         â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç”Ÿæˆå…¥åº“å•äºŒç»´ç ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚  â†’ æ‰‹æŒæœºæ‰«æåè‡ªåŠ¨åŠ è½½å…¥åº“å•
â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚
â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 #IB20241030001
```

#### 3.2.3 æ‰‹æŒæœºç«¯å®ç°

```java
/**
 * é¢„å…³è”å…¥åº“Activity
 * æµç¨‹ï¼šæ‰«æå…¥åº“å•äºŒç»´ç  â†’ åŠ è½½å•†å“æ¸…å• â†’ æ‰¹é‡æ‰«ææ ‡ç­¾ â†’ è‡ªåŠ¨å…³è”
 */
public class PreAssociateInboundActivity extends AppCompatActivity {

    private TextView tvInboundNo, tvStatus;
    private RecyclerView recyclerView;
    private Button btnScanQR, btnBatchScan, btnSubmit;
    
    private InboundOrder currentOrder;  // å½“å‰å…¥åº“å•
    private List<OrderItem> orderItems;  // å•†å“æ¸…å•
    private Set<String> scannedEpcs = new LinkedHashSet<>();
    
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_pre_associate_inbound);
        
        initViews();
        setupListeners();
    }

    /**
     * æ‰«æå…¥åº“å•äºŒç»´ç 
     */
    private void scanInboundQR() {
        // è°ƒç”¨äºŒç»´ç æ‰«æ
        Intent intent = new Intent(this, QRScanActivity.class);
        startActivityForResult(intent, REQUEST_SCAN_QR);
    }

    @Override
    protected void onActivityResult(int requestCode, int resultCode, Intent data) {
        super.onActivityResult(requestCode, resultCode, data);
        
        if (requestCode == REQUEST_SCAN_QR && resultCode == RESULT_OK) {
            String inboundNo = data.getStringExtra("qr_content");
            loadInboundOrder(inboundNo);
        }
    }

    /**
     * åŠ è½½å…¥åº“å•
     */
    private void loadInboundOrder(String inboundNo) {
        showProgressDialog("åŠ è½½å…¥åº“å•...");
        
        // ä»æœåŠ¡å™¨åŠ è½½
        apiService.getInboundOrder(inboundNo, new Callback<InboundOrder>() {
            @Override
            public void onSuccess(InboundOrder order) {
                runOnUiThread(() -> {
                    hideProgressDialog();
                    currentOrder = order;
                    orderItems = order.getItems();
                    
                    displayOrderInfo();
                    btnBatchScan.setEnabled(true);
                    
                    showToast("å…¥åº“å•åŠ è½½æˆåŠŸ");
                });
            }

            @Override
            public void onError(String error) {
                runOnUiThread(() -> {
                    hideProgressDialog();
                    showToast("åŠ è½½å¤±è´¥: " + error);
                });
            }
        });
    }

    /**
     * æ˜¾ç¤ºå…¥åº“å•ä¿¡æ¯
     */
    private void displayOrderInfo() {
        tvInboundNo.setText("å…¥åº“å•: " + currentOrder.getInboundNo());
        
        // æ˜¾ç¤ºå•†å“æ¸…å•
        OrderItemAdapter adapter = new OrderItemAdapter(orderItems);
        recyclerView.setAdapter(adapter);
    }

    /**
     * æ‰¹é‡æ‰«ææ ‡ç­¾
     */
    private void startBatchScan() {
        scannedEpcs.clear();
        tvStatus.setText("æ‰«æä¸­...");
        
        UHFEngine.getEngine().inventoryRealTime(new UHFEngine.InventoryListener() {
            @Override
            public void onInventoryTag(Tag tag) {
                String epc = tag.getEpc();
                
                if (scannedEpcs.add(epc)) {
                    runOnUiThread(() -> {
                        updateScanProgress();
                        
                        // å®æ—¶å…³è”
                        autoAssociate(epc);
                    });
                }
            }

            @Override
            public void onInventoryStatus(int status) {}
        });
        
        // 5ç§’ååœæ­¢
        new Handler().postDelayed(() -> {
            UHFEngine.getEngine().stopInventory();
            tvStatus.setText("æ‰«æå®Œæˆ");
            
            if (allAssociated()) {
                btnSubmit.setEnabled(true);
            }
        }, 5000);
    }

    /**
     * è‡ªåŠ¨å…³è”æ ‡ç­¾
     * æŒ‰é¡ºåºå…³è”åˆ°å•†å“
     */
    private void autoAssociate(String epc) {
        // æŸ¥æ‰¾è¯¥EPCåº”è¯¥å…³è”çš„å•†å“
        OrderItem targetItem = findTargetItem(epc);
        
        if (targetItem != null) {
            // ä¿å­˜å…³è”å…³ç³»
            RfidInventory inventory = new RfidInventory();
            inventory.setEpcCode(epc);
            inventory.setProductId(targetItem.getProductId());
            inventory.setProductName(targetItem.getProductName());
            inventory.setOriginalQuantity(targetItem.getQuantityPerUnit());
            inventory.setCurrentQuantity(targetItem.getQuantityPerUnit());
            inventory.setInboundOrderNo(currentOrder.getInboundNo());
            inventory.setStatus("å¾…å…¥åº“");
            
            localDB.insertInventory(inventory);
            
            // æ›´æ–°UI
            targetItem.incrementScannedCount();
            adapter.notifyDataSetChanged();
            
            playSound(SOUND_SUCCESS);
        } else {
            // æœªåˆ†é…çš„æ ‡ç­¾
            showToast("æ ‡ç­¾ " + epc + " æœªåœ¨å…¥åº“å•ä¸­");
            playSound(SOUND_ERROR);
        }
    }

    /**
     * æ ¹æ®é¢„åˆ†é…è§„åˆ™æŸ¥æ‰¾ç›®æ ‡å•†å“
     */
    private OrderItem findTargetItem(String epc) {
        // ä»æœåŠ¡å™¨è¿”å›çš„å…³è”æ˜ å°„ä¸­æŸ¥æ‰¾
        for (OrderItem item : orderItems) {
            if (item.getAllocatedEpcs().contains(epc)) {
                if (item.getScannedCount() < item.getQuantity()) {
                    return item;
                }
            }
        }
        return null;
    }

    /**
     * æäº¤å…¥åº“
     */
    private void submitInbound() {
        showProgressDialog("æäº¤ä¸­...");
        
        // æ‰¹é‡æ›´æ–°çŠ¶æ€ä¸º"åœ¨åº“"
        localDB.updateStatusByInboundNo(
            currentOrder.getInboundNo(), 
            "åœ¨åº“"
        );
        
        // åŒæ­¥åˆ°æœåŠ¡å™¨
        List<RfidInventory> items = localDB.getByInboundNo(currentOrder.getInboundNo());
        apiService.batchInbound(items, new Callback<Boolean>() {
            @Override
            public void onSuccess(Boolean success) {
                runOnUiThread(() -> {
                    hideProgressDialog();
                    showToast("å…¥åº“æˆåŠŸï¼");
                    finish();
                });
            }

            @Override
            public void onError(String error) {
                runOnUiThread(() -> {
                    hideProgressDialog();
                    showToast("åŒæ­¥å¤±è´¥: " + error);
                });
            }
        });
    }
}
```

------

### ğŸ¯ æ–¹æ¡ˆ3ï¼šäºŒç»´ç è¾…åŠ©å…³è”ï¼ˆä¸­ç­‰æ¨èï¼‰

#### 3.3.1 æ ¸å¿ƒæ€è·¯

```
ä¸ºæ¯ç§å•†å“æ‰“å°ä¸€ä¸ªäºŒç»´ç æ ‡ç­¾ â†’ è´´åœ¨è´§æ¶/è´§ç‰©ä¸Š â†’ æ‰«ç å¿«é€Ÿè¯†åˆ«å•†å“
```

**é€‚ç”¨åœºæ™¯ï¼š**

- å›ºå®šè´§ä½ç®¡ç†
- åŒç±»å•†å“é›†ä¸­å­˜æ”¾
- éœ€è¦å¿«é€Ÿé‡å¤æ“ä½œ

**æµç¨‹ï¼š**

```
1. æå‰æ‰“å°å•†å“äºŒç»´ç ï¼ˆA4çº¸æ‰“å°ï¼Œæˆæœ¬<0.1å…ƒ/ä¸ªï¼‰
2. è´´åœ¨ç›¸åº”è´§æ¶/åŒºåŸŸ
3. å…¥åº“æ—¶ï¼š
   â”œâ”€ æ‰«æè´§æ¶ä¸Šçš„å•†å“äºŒç»´ç  â†’ è¯†åˆ«å•†å“
   â”œâ”€ æ‰¹é‡æ‰«æRFIDæ ‡ç­¾
   â””â”€ ä¸€é”®å…³è”æ‰€æœ‰æ ‡ç­¾åˆ°è¯¥å•†å“
```

------

## å››ã€ç»¼åˆæ–¹æ¡ˆæ¨è

### æ–¹æ¡ˆç»„åˆï¼šæ¡å½¢ç æ‰«æ + PCé¢„å…³è”

```
æ—¥å¸¸é›¶æ•£å…¥åº“ï¼šä½¿ç”¨æ–¹æ¡ˆ1ï¼ˆæ¡å½¢ç +RFIDåŒæ‰«æï¼‰
å¤§æ‰¹é‡å…¥åº“ï¼š  ä½¿ç”¨æ–¹æ¡ˆ2ï¼ˆPCé¢„å…³è”+æ‰¹é‡éªŒè¯ï¼‰
```

### 4.1 å®æ–½è·¯çº¿å›¾

```
ç¬¬1å‘¨ï¼šåŸºç¡€å¼€å‘
â”œâ”€ å®Œæˆæ¡å½¢ç æ‰«æåŠŸèƒ½
â”œâ”€ å®ŒæˆRFIDè¯»å†™åŠŸèƒ½
â””â”€ æœ¬åœ°æ•°æ®åº“SQLiteæ­å»º

ç¬¬2å‘¨ï¼šæ ¸å¿ƒåŠŸèƒ½
â”œâ”€ æ‰«ç å…¥åº“æµç¨‹å¼€å‘
â”œâ”€ æ•°æ®éªŒè¯ä¸é˜²é‡å¤
â””â”€ æ“ä½œæ—¥å¿—è®°å½•

ç¬¬3å‘¨ï¼šé«˜çº§åŠŸèƒ½
â”œâ”€ PCç«¯å…¥åº“å•ç®¡ç†ç³»ç»Ÿ
â”œâ”€ æ‰‹æŒæœºå…¥åº“å•åŒæ­¥
â””â”€ æ‰¹é‡å…³è”åŠŸèƒ½

ç¬¬4å‘¨ï¼šæµ‹è¯•ä¼˜åŒ–
â”œâ”€ ç°åœºæµ‹è¯•
â”œâ”€ æ€§èƒ½ä¼˜åŒ–
â””â”€ åŸ¹è®­æ–‡æ¡£
```

### 4.2 æˆæœ¬å¯¹æ¯”

| é¡¹ç›®       | æ–¹æ¡ˆ1æˆæœ¬        | æ–¹æ¡ˆ2æˆæœ¬        | è¯´æ˜       |
| ---------- | ---------------- | ---------------- | ---------- |
| RFIDæ ‡ç­¾   | Â¥5000-20000      | Â¥5000-20000      | ç›¸åŒ       |
| æ‰‹æŒæœº     | Â¥6000-16000      | Â¥6000-16000      | ç›¸åŒ       |
| æ¡å½¢ç æ‰«æ | Â¥0               | Â¥0               | æ‰‹æŒæœºè‡ªå¸¦ |
| PCç®¡ç†ç³»ç»Ÿ | -                | Â¥5000-10000      | å¼€å‘æˆæœ¬   |
| å•†å“äºŒç»´ç  | -                | å¯é€‰Â¥100         | å¦‚éœ€è¾…åŠ©   |
| **æ€»è®¡**   | **Â¥11000-36000** | **Â¥16000-46000** | -          |

------

## äº”ã€å®é™…æ“ä½œæ¼”ç¤º

### 5.1 æ–¹æ¡ˆ1æ“ä½œæ­¥éª¤ï¼ˆæ¡å½¢ç +RFIDï¼‰

```
æ“ä½œå‘˜ï¼šå°å¼ 
ä»»åŠ¡ï¼šå…¥åº“50ç®±ä¼Šåˆ©çº¯ç‰›å¥¶

æ­¥éª¤ï¼š
1. æ‹¿èµ·æ‰‹æŒæœºï¼Œæ‰“å¼€"æ‰«ç å…¥åº“"
2. æ‰«æç¬¬ä¸€ç®±ç‰›å¥¶çš„æ¡å½¢ç 
   â†’ å±å¹•æ˜¾ç¤º"ä¼Šåˆ©çº¯ç‰›å¥¶ 24ç›’/ç®±"
3. ä»æ ‡ç­¾ç›’æ‹¿ä¸€ä¸ªRFIDæ ‡ç­¾è´´åˆ°ç®±å­ä¸Š
4. æ‰«æRFIDæ ‡ç­¾
   â†’ å±å¹•æ˜¾ç¤º"E28011700000001"
5. è¾“å…¥æ•°é‡"24"ï¼Œä½ç½®"A-01"
6. ç‚¹å‡»"ç¡®è®¤å…¥åº“"
   â†’ éœ‡åŠ¨åé¦ˆï¼Œæ˜¾ç¤º"å…¥åº“æˆåŠŸ"
7. é‡å¤æ­¥éª¤2-6å¤„ç†ä¸‹ä¸€ç®±...

è€—æ—¶ï¼š50ç®± Ã— 8ç§’ = 6.7åˆ†é’Ÿ
é”™è¯¯ç‡ï¼š<0.1%ï¼ˆæ¡å½¢ç è‡ªåŠ¨è¯†åˆ«ï¼‰
```

### 5.2 æ–¹æ¡ˆ2æ“ä½œæ­¥éª¤ï¼ˆPCé¢„å…³è”ï¼‰

```
æ“ä½œå‘˜ï¼šå°å¼ ï¼ˆä»“åº“ï¼‰ + å°æï¼ˆåŠå…¬å®¤ï¼‰

ä»»åŠ¡ï¼šå…¥åº“50ç®±ä¼Šåˆ©çº¯ç‰›å¥¶ + 30ç®±å¯å£å¯ä¹

===== é˜¶æ®µ1ï¼šè´§åˆ°å‰å‡†å¤‡ï¼ˆåŠå…¬å®¤ - å°ææ“ä½œï¼‰=====

1. å°ææ”¶åˆ°ä¾›åº”å•†å‘è´§é€šçŸ¥ï¼š
   - ä¼Šåˆ©çº¯ç‰›å¥¶ 50ç®±
   - å¯å£å¯ä¹   30ç®±

2. æ‰“å¼€PCç«¯ç®¡ç†ç³»ç»Ÿï¼Œåˆ›å»ºå…¥åº“å•
   - å…¥åº“å•å·ï¼š#IB20241030001
   - æ·»åŠ å•†å“ï¼š
     * ä¼Šåˆ©çº¯ç‰›å¥¶ 50ç®± â†’ åˆ†é…æ ‡ç­¾001-050
     * å¯å£å¯ä¹   30ç®± â†’ åˆ†é…æ ‡ç­¾051-080

3. ç‚¹å‡»"ç”ŸæˆäºŒç»´ç "
   - æ‰“å°å…¥åº“å•äºŒç»´ç ï¼ˆè´´åœ¨è´§ç‰©å¤–åŒ…è£…ï¼‰
   - æ‰“å°æ ‡ç­¾æ¸…å•ï¼ˆç»™ä»“åº“æ“ä½œå‘˜ï¼‰

4. ä¿å­˜å¹¶é€šçŸ¥ä»“åº“ï¼š"è´§ç‰©ä»Šå¤©åˆ°ï¼Œå…¥åº“å•å·²å‡†å¤‡å¥½"

===== é˜¶æ®µ2ï¼šè´§ç‰©åˆ°è¾¾ï¼ˆä»“åº“ - å°å¼ æ“ä½œï¼‰=====

5. è´§è½¦åˆ°è¾¾ï¼Œå°å¼ æ¥æ”¶è´§ç‰©
6. æ‹¿èµ·æ‰‹æŒæœºï¼Œé€‰æ‹©"é¢„å…³è”å…¥åº“"
7. æ‰«ææ‰“å°çš„å…¥åº“å•äºŒç»´ç 
   â†’ æ‰‹æŒæœºè‡ªåŠ¨åŠ è½½å•†å“æ¸…å•ï¼š
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ å…¥åº“å•: #IB20241030001 â”‚
     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
     â”‚ â˜ ä¼Šåˆ©çº¯ç‰›å¥¶  50ç®±      â”‚
     â”‚ â˜ å¯å£å¯ä¹    30ç®±      â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

8. å…ˆå¤„ç†ç‰›å¥¶ï¼š
   - å°†50ä¸ªRFIDæ ‡ç­¾ï¼ˆ001-050ï¼‰é€ä¸ªè´´åˆ°50ç®±ç‰›å¥¶ä¸Š
   - è´´å®Œåï¼Œç‚¹å‡»"æ‰¹é‡æ‰«æ"
   - èµ°è¿‘è´§å †ï¼Œæ‰‹æŒæœºè‡ªåŠ¨æ‰«æï¼ˆ1-2ç§’ï¼‰
   - å±å¹•æ˜¾ç¤ºï¼š
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ å·²æ‰«æ: 50/50          â”‚
     â”‚ âœ“ ä¼Šåˆ©çº¯ç‰›å¥¶  50/50    â”‚
     â”‚ â—‹ å¯å£å¯ä¹    0/30     â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

9. å¤„ç†å¯ä¹ï¼š
   - å°†30ä¸ªRFIDæ ‡ç­¾ï¼ˆ051-080ï¼‰è´´åˆ°30ç®±å¯ä¹ä¸Š
   - å†æ¬¡æ‰¹é‡æ‰«æ
   - å±å¹•æ˜¾ç¤ºï¼š
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚ å·²æ‰«æ: 80/80          â”‚
     â”‚ âœ“ ä¼Šåˆ©çº¯ç‰›å¥¶  50/50    â”‚
     â”‚ âœ“ å¯å£å¯ä¹    30/30    â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

10. ç‚¹å‡»"æäº¤å…¥åº“" â†’ å®Œæˆ

è€—æ—¶ï¼š
- è´´æ ‡ç­¾ï¼š80ä¸ª Ã— 3ç§’ = 4åˆ†é’Ÿ
- æ‰¹é‡æ‰«æï¼š2æ¬¡ Ã— 2ç§’ = 4ç§’
- æ€»è®¡ï¼šçº¦5åˆ†é’Ÿï¼ˆåŒ…å«è´§ç‰©æ‘†æ”¾ï¼‰

ä¼˜ç‚¹ï¼š
- PCç«¯æ“ä½œèˆ’é€‚ï¼ˆå¤§å±å¹•ã€é¼ æ ‡é”®ç›˜ï¼‰
- ç°åœºåªè´´æ ‡ç­¾ï¼Œæ— éœ€é€‰å•†å“
- æ‰¹é‡æ‰«ææå¿«
- å‡†ç¡®ç‡æé«˜ï¼ˆé¢„å…ˆåˆ†é…å¥½ï¼‰
```

------

## å…­ã€æ‰‹æŒæœºæœ¬åœ°æ•°æ®åº“è®¾è®¡ï¼ˆSQLiteï¼‰

### 6.1 æ•°æ®åº“ç»“æ„

```sql
-- ========== å•†å“ä¸»è¡¨ ==========
CREATE TABLE product_master (
    product_id TEXT PRIMARY KEY,
    product_name TEXT NOT NULL,
    barcode TEXT,                    -- å•†å“æ¡å½¢ç 
    category TEXT,
    brand TEXT,
    unit TEXT,
    spec TEXT,
    unit_price REAL,
    image_url TEXT,                  -- å•†å“å›¾ç‰‡URL
    description TEXT,
    created_at INTEGER,
    updated_at INTEGER
);

-- åˆ›å»ºæ¡å½¢ç ç´¢å¼•ï¼ˆé‡è¦ï¼ï¼‰
CREATE INDEX idx_barcode ON product_master(barcode);

-- ========== RFIDåº“å­˜è¡¨ ==========
CREATE TABLE rfid_inventory (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    epc_code TEXT UNIQUE NOT NULL,   -- RFIDå”¯ä¸€æ ‡è¯†
    product_id TEXT NOT NULL,
    product_name TEXT,               -- å†—ä½™å­—æ®µï¼Œä¾¿äºæ˜¾ç¤º
    original_quantity INTEGER DEFAULT 1,
    current_quantity INTEGER DEFAULT 1,
    unit TEXT,
    batch_no TEXT,
    production_date INTEGER,
    expiry_date INTEGER,
    location TEXT,
    status TEXT DEFAULT 'åœ¨åº“',     -- åœ¨åº“/å‡ºåº“/ç›˜äº/æŠ¥åºŸ
    inbound_order_no TEXT,          -- å…³è”å…¥åº“å•å·
    inbound_time INTEGER,
    outbound_time INTEGER,
    operator TEXT,
    remarks TEXT,
    sync_status INTEGER DEFAULT 0,   -- 0=æœªåŒæ­¥ 1=å·²åŒæ­¥
    created_at INTEGER DEFAULT (strftime('%s', 'now')),
    updated_at INTEGER DEFAULT (strftime('%s', 'now')),
    
    FOREIGN KEY (product_id) REFERENCES product_master(product_id)
);

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_epc ON rfid_inventory(epc_code);
CREATE INDEX idx_product ON rfid_inventory(product_id);
CREATE INDEX idx_status ON rfid_inventory(status);
CREATE INDEX idx_sync ON rfid_inventory(sync_status);

-- ========== æ“ä½œæ—¥å¿—è¡¨ ==========
CREATE TABLE operation_log (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    epc_code TEXT NOT NULL,
    product_id TEXT,
    product_name TEXT,
    operation_type TEXT NOT NULL,    -- å…¥åº“/å‡ºåº“/ç›˜ç‚¹/è°ƒæ‹¨
    quantity_before INTEGER,
    quantity_change INTEGER,
    quantity_after INTEGER,
    location_from TEXT,
    location_to TEXT,
    operator TEXT,
    order_no TEXT,
    remarks TEXT,
    device_id TEXT,
    operation_time INTEGER DEFAULT (strftime('%s', 'now')),
    sync_status INTEGER DEFAULT 0
);

CREATE INDEX idx_operation_time ON operation_log(operation_time);
CREATE INDEX idx_operation_sync ON operation_log(sync_status);

-- ========== å…¥åº“å•è¡¨ï¼ˆæœ¬åœ°ç¼“å­˜ï¼‰==========
CREATE TABLE inbound_order (
    inbound_no TEXT PRIMARY KEY,
    supplier TEXT,
    expected_date INTEGER,
    actual_date INTEGER,
    warehouse_location TEXT,
    operator TEXT,
    status TEXT DEFAULT 'å¾…å…¥åº“',
    total_quantity INTEGER,
    scanned_quantity INTEGER DEFAULT 0,
    sync_status INTEGER DEFAULT 0,
    created_at INTEGER,
    updated_at INTEGER
);

-- ========== å…¥åº“å•æ˜ç»†è¡¨ ==========
CREATE TABLE inbound_order_item (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    inbound_no TEXT NOT NULL,
    product_id TEXT NOT NULL,
    product_name TEXT,
    quantity INTEGER,
    quantity_per_unit INTEGER,
    allocated_epcs TEXT,             -- JSONæ•°ç»„æ ¼å¼
    scanned_count INTEGER DEFAULT 0,
    
    FOREIGN KEY (inbound_no) REFERENCES inbound_order(inbound_no)
);

CREATE INDEX idx_order_no ON inbound_order_item(inbound_no);
```

### 6.2 æœ¬åœ°æ•°æ®åº“æ“ä½œç±»

```java
/**
 * æœ¬åœ°æ•°æ®åº“æ“ä½œç±»ï¼ˆSQLiteï¼‰
 */
public class LocalDatabase {
    
    private static LocalDatabase instance;
    private SQLiteDatabase db;
    
    private LocalDatabase(Context context) {
        DatabaseHelper helper = new DatabaseHelper(context);
        db = helper.getWritableDatabase();
    }
    
    public static synchronized LocalDatabase getInstance(Context context) {
        if (instance == null) {
            instance = new LocalDatabase(context.getApplicationContext());
        }
        return instance;
    }
    
    // ========== å•†å“ç›¸å…³ ==========
    
    /**
     * æ ¹æ®æ¡å½¢ç æŸ¥è¯¢å•†å“
     */
    public Product getProductByBarcode(String barcode) {
        Cursor cursor = db.query(
            "product_master",
            null,
            "barcode = ?",
            new String[]{barcode},
            null, null, null
        );
        
        Product product = null;
        if (cursor.moveToFirst()) {
            product = cursorToProduct(cursor);
        }
        cursor.close();
        return product;
    }
    
    /**
     * æœç´¢å•†å“ï¼ˆæ”¯æŒæ¨¡ç³ŠæŸ¥è¯¢ï¼‰
     */
    public List<Product> searchProducts(String keyword) {
        List<Product> products = new ArrayList<>();
        
        Cursor cursor = db.query(
            "product_master",
            null,
            "product_name LIKE ? OR barcode LIKE ?",
            new String[]{"%" + keyword + "%", "%" + keyword + "%"},
            null, null, 
            "product_name ASC",
            "50"  // é™åˆ¶50æ¡
        );
        
        while (cursor.moveToNext()) {
            products.add(cursorToProduct(cursor));
        }
        cursor.close();
        return products;
    }
    
    /**
     * æ‰¹é‡æ’å…¥/æ›´æ–°å•†å“ï¼ˆä»æœåŠ¡å™¨åŒæ­¥ï¼‰
     */
    public void syncProducts(List<Product> products) {
        db.beginTransaction();
        try {
            for (Product product : products) {
                ContentValues values = productToContentValues(product);
                
                // ä½¿ç”¨REPLACEå®ç°æ’å…¥æˆ–æ›´æ–°
                db.replace("product_master", null, values);
            }
            db.setTransactionSuccessful();
        } finally {
            db.endTransaction();
        }
    }
    
    // ========== RFIDåº“å­˜ç›¸å…³ ==========
    
    /**
     * æ£€æŸ¥EPCæ˜¯å¦å·²å­˜åœ¨
     */
    public boolean isEpcExists(String epc) {
        Cursor cursor = db.rawQuery(
            "SELECT COUNT(*) FROM rfid_inventory WHERE epc_code = ?",
            new String[]{epc}
        );
        cursor.moveToFirst();
        int count = cursor.getInt(0);
        cursor.close();
        return count > 0;
    }
    
    /**
     * æ’å…¥åº“å­˜è®°å½•
     */
    public long insertInventory(RfidInventory inventory) {
        ContentValues values = new ContentValues();
        values.put("epc_code", inventory.getEpcCode());
        values.put("product_id", inventory.getProductId());
        values.put("product_name", inventory.getProductName());
        values.put("original_quantity", inventory.getOriginalQuantity());
        values.put("current_quantity", inventory.getCurrentQuantity());
        values.put("unit", inventory.getUnit());
        values.put("batch_no", inventory.getBatchNo());
        values.put("location", inventory.getLocation());
        values.put("status", inventory.getStatus());
        values.put("inbound_order_no", inventory.getInboundOrderNo());
        values.put("inbound_time", System.currentTimeMillis() / 1000);
        values.put("operator", inventory.getOperator());
        values.put("sync_status", 0);  // æœªåŒæ­¥
        
        return db.insert("rfid_inventory", null, values);
    }
    
    /**
     * æ‰¹é‡æ’å…¥åº“å­˜ï¼ˆäº‹åŠ¡å¤„ç†ï¼‰
     */
    public int batchInsertInventory(List<RfidInventory> inventories) {
        int successCount = 0;
        
        db.beginTransaction();
        try {
            for (RfidInventory inventory : inventories) {
                long id = insertInventory(inventory);
                if (id > 0) successCount++;
            }
            db.setTransactionSuccessful();
        } finally {
            db.endTransaction();
        }
        
        return successCount;
    }
    
    /**
     * æ ¹æ®EPCæŸ¥è¯¢åº“å­˜
     */
    public RfidInventory getInventoryByEpc(String epc) {
        Cursor cursor = db.query(
            "rfid_inventory",
            null,
            "epc_code = ?",
            new String[]{epc},
            null, null, null
        );
        
        RfidInventory inventory = null;
        if (cursor.moveToFirst()) {
            inventory = cursorToInventory(cursor);
        }
        cursor.close();
        return inventory;
    }
    
    /**
     * æ›´æ–°åº“å­˜æ•°é‡ï¼ˆéƒ¨åˆ†å‡ºåº“ï¼‰
     */
    public boolean updateQuantity(String epc, int quantityChange) {
        db.beginTransaction();
        try {
            // æ›´æ–°current_quantity
            db.execSQL(
                "UPDATE rfid_inventory SET current_quantity = current_quantity + ?, updated_at = ? WHERE epc_code = ?",
                new Object[]{quantityChange, System.currentTimeMillis() / 1000, epc}
            );
            
            // æ ‡è®°ä¸ºæœªåŒæ­¥
            db.execSQL(
                "UPDATE rfid_inventory SET sync_status = 0 WHERE epc_code = ?",
                new Object[]{epc}
            );
            
            db.setTransactionSuccessful();
            return true;
        } catch (Exception e) {
            e.printStackTrace();
            return false;
        } finally {
            db.endTransaction();
        }
    }
    
    /**
     * å‡ºåº“æ“ä½œï¼ˆæ›´æ–°çŠ¶æ€ï¼‰
     */
    public boolean outbound(String epc, int quantityChange) {
        db.beginTransaction();
        try {
            // æ›´æ–°æ•°é‡
            db.execSQL(
                "UPDATE rfid_inventory SET current_quantity = current_quantity - ?, " +
                "outbound_time = ?, sync_status = 0 WHERE epc_code = ?",
                new Object[]{quantityChange, System.currentTimeMillis() / 1000, epc}
            );
            
            // å¦‚æœæ•°é‡å½’é›¶ï¼Œæ›´æ–°çŠ¶æ€ä¸º"å‡ºåº“"
            db.execSQL(
                "UPDATE rfid_inventory SET status = 'å‡ºåº“' WHERE epc_code = ? AND current_quantity <= 0",
                new Object[]{epc}
            );
            
            db.setTransactionSuccessful();
            return true;
        } catch (Exception e) {
            e.printStackTrace();
            return false;
        } finally {
            db.endTransaction();
        }
    }
    
    /**
     * è·å–æ‰€æœ‰æœªåŒæ­¥çš„åº“å­˜è®°å½•
     */
    public List<RfidInventory> getUnsyncedInventory() {
        List<RfidInventory> inventories = new ArrayList<>();
        
        Cursor cursor = db.query(
            "rfid_inventory",
            null,
            "sync_status = 0",
            null,
            null, null,
            "created_at DESC"
        );
        
        while (cursor.moveToNext()) {
            inventories.add(cursorToInventory(cursor));
        }
        cursor.close();
        return inventories;
    }
    
    /**
     * æ ‡è®°ä¸ºå·²åŒæ­¥
     */
    public void markAsSynced(List<String> epcs) {
        if (epcs.isEmpty()) return;
        
        db.beginTransaction();
        try {
            for (String epc : epcs) {
                ContentValues values = new ContentValues();
                values.put("sync_status", 1);
                db.update("rfid_inventory", values, "epc_code = ?", new String[]{epc});
            }
            db.setTransactionSuccessful();
        } finally {
            db.endTransaction();
        }
    }
    
    // ========== æ“ä½œæ—¥å¿—ç›¸å…³ ==========
    
    /**
     * æ’å…¥æ“ä½œæ—¥å¿—
     */
    public long insertLog(OperationLog log) {
        ContentValues values = new ContentValues();
        values.put("epc_code", log.getEpcCode());
        values.put("product_id", log.getProductId());
        values.put("product_name", log.getProductName());
        values.put("operation_type", log.getOperationType());
        values.put("quantity_before", log.getQuantityBefore());
        values.put("quantity_change", log.getQuantityChange());
        values.put("quantity_after", log.getQuantityAfter());
        values.put("operator", log.getOperator());
        values.put("order_no", log.getOrderNo());
        values.put("remarks", log.getRemarks());
        values.put("sync_status", 0);
        
        return db.insert("operation_log", null, values);
    }
    
    /**
     * è·å–æœªåŒæ­¥çš„æ—¥å¿—
     */
    public List<OperationLog> getUnsyncedLogs() {
        List<OperationLog> logs = new ArrayList<>();
        
        Cursor cursor = db.query(
            "operation_log",
            null,
            "sync_status = 0",
            null,
            null, null,
            "operation_time DESC",
            "100"  // æœ€å¤š100æ¡
        );
        
        while (cursor.moveToNext()) {
            logs.add(cursorToLog(cursor));
        }
        cursor.close();
        return logs;
    }
    
    // ========== å…¥åº“å•ç›¸å…³ ==========
    
    /**
     * ä¿å­˜å…¥åº“å•ï¼ˆä»æœåŠ¡å™¨ä¸‹è½½ï¼‰
     */
    public void saveInboundOrder(InboundOrder order) {
        db.beginTransaction();
        try {
            // ä¿å­˜ä¸»è¡¨
            ContentValues orderValues = new ContentValues();
            orderValues.put("inbound_no", order.getInboundNo());
            orderValues.put("supplier", order.getSupplier());
            orderValues.put("expected_date", order.getExpectedDate());
            orderValues.put("warehouse_location", order.getWarehouseLocation());
            orderValues.put("operator", order.getOperator());
            orderValues.put("status", order.getStatus());
            orderValues.put("total_quantity", order.getTotalQuantity());
            db.replace("inbound_order", null, orderValues);
            
            // ä¿å­˜æ˜ç»†
            for (OrderItem item : order.getItems()) {
                ContentValues itemValues = new ContentValues();
                itemValues.put("inbound_no", order.getInboundNo());
                itemValues.put("product_id", item.getProductId());
                itemValues.put("product_name", item.getProductName());
                itemValues.put("quantity", item.getQuantity());
                itemValues.put("quantity_per_unit", item.getQuantityPerUnit());
                itemValues.put("allocated_epcs", new Gson().toJson(item.getAllocatedEpcs()));
                db.insert("inbound_order_item", null, itemValues);
            }
            
            db.setTransactionSuccessful();
        } finally {
            db.endTransaction();
        }
    }
    
    /**
     * æ ¹æ®å…¥åº“å•å·æŸ¥è¯¢
     */
    public InboundOrder getInboundOrder(String inboundNo) {
        // æŸ¥è¯¢ä¸»è¡¨
        Cursor cursor = db.query(
            "inbound_order",
            null,
            "inbound_no = ?",
            new String[]{inboundNo},
            null, null, null
        );
        
        if (!cursor.moveToFirst()) {
            cursor.close();
            return null;
        }
        
        InboundOrder order = cursorToInboundOrder(cursor);
        cursor.close();
        
        // æŸ¥è¯¢æ˜ç»†
        Cursor itemCursor = db.query(
            "inbound_order_item",
            null,
            "inbound_no = ?",
            new String[]{inboundNo},
            null, null, null
        );
        
        List<OrderItem> items = new ArrayList<>();
        while (itemCursor.moveToNext()) {
            items.add(cursorToOrderItem(itemCursor));
        }
        itemCursor.close();
        
        order.setItems(items);
        return order;
    }
    
    // ========== è¾…åŠ©æ–¹æ³• ==========
    
    private Product cursorToProduct(Cursor cursor) {
        Product product = new Product();
        product.setProductId(cursor.getString(cursor.getColumnIndex("product_id")));
        product.setProductName(cursor.getString(cursor.getColumnIndex("product_name")));
        product.setBarcode(cursor.getString(cursor.getColumnIndex("barcode")));
        product.setCategory(cursor.getString(cursor.getColumnIndex("category")));
        product.setBrand(cursor.getString(cursor.getColumnIndex("brand")));
        product.setUnit(cursor.getString(cursor.getColumnIndex("unit")));
        product.setSpec(cursor.getString(cursor.getColumnIndex("spec")));
        product.setUnitPrice(cursor.getDouble(cursor.getColumnIndex("unit_price")));
        return product;
    }
    
    private RfidInventory cursorToInventory(Cursor cursor) {
        RfidInventory inventory = new RfidInventory();
        inventory.setId(cursor.getLong(cursor.getColumnIndex("id")));
        inventory.setEpcCode(cursor.getString(cursor.getColumnIndex("epc_code")));
        inventory.setProductId(cursor.getString(cursor.getColumnIndex("product_id")));
        inventory.setProductName(cursor.getString(cursor.getColumnIndex("product_name")));
        inventory.setOriginalQuantity(cursor.getInt(cursor.getColumnIndex("original_quantity")));
        inventory.setCurrentQuantity(cursor.getInt(cursor.getColumnIndex("current_quantity")));
        inventory.setLocation(cursor.getString(cursor.getColumnIndex("location")));
        inventory.setStatus(cursor.getString(cursor.getColumnIndex("status")));
        inventory.setInboundOrderNo(cursor.getString(cursor.getColumnIndex("inbound_order_no")));
        return inventory;
    }
    
    private ContentValues productToContentValues(Product product) {
        ContentValues values = new ContentValues();
        values.put("product_id", product.getProductId());
        values.put("product_name", product.getProductName());
        values.put("barcode", product.getBarcode());
        values.put("category", product.getCategory());
        values.put("brand", product.getBrand());
        values.put("unit", product.getUnit());
        values.put("spec", product.getSpec());
        values.put("unit_price", product.getUnitPrice());
        values.put("updated_at", System.currentTimeMillis() / 1000);
        return values;
    }
}
```

------

## ä¸ƒã€æ•°æ®åŒæ­¥ç­–ç•¥

### 7.1 åŒæ­¥æ¶æ„

```
æ‰‹æŒæœºï¼ˆSQLiteï¼‰  â†â†’  æœåŠ¡å™¨ï¼ˆMySQL/PostgreSQLï¼‰
     â†“                      â†“
 ç¦»çº¿æ“ä½œ              é›†ä¸­ç®¡ç†
 å®æ—¶å“åº”              æ•°æ®æ±‡æ€»
 æœ¬åœ°ç¼“å­˜              å¤šè®¾å¤‡åŒæ­¥
```

### 7.2 åŒæ­¥æ—¶æœº

```java
/**
 * æ•°æ®åŒæ­¥ç®¡ç†å™¨
 */
public class SyncManager {
    
    private LocalDatabase localDB;
    private ApiService apiService;
    
    /**
     * è§¦å‘åŒæ­¥çš„æ—¶æœºï¼š
     */
    
    // 1. å®šæ—¶åŒæ­¥ï¼ˆæ¯5åˆ†é’Ÿï¼‰
    public void startAutoSync() {
        ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);
        executor.scheduleAtFixedRate(() -> {
            if (isNetworkAvailable()) {
                syncToServer();
            }
        }, 0, 5, TimeUnit.MINUTES);
    }
    
    // 2. æ“ä½œå®Œæˆåç«‹å³åŒæ­¥
    public void syncAfterOperation() {
        if (isNetworkAvailable()) {
            new Thread(() -> syncToServer()).start();
        }
    }
    
    // 3. æ‰‹åŠ¨åŒæ­¥
    public void manualSync(SyncCallback callback) {
        showProgressDialog("åŒæ­¥ä¸­...");
        
        new Thread(() -> {
            boolean success = syncToServer();
            
            runOnUiThread(() -> {
                hideProgressDialog();
                if (success) {
                    showToast("åŒæ­¥æˆåŠŸ");
                    callback.onSuccess();
                } else {
                    showToast("åŒæ­¥å¤±è´¥ï¼Œæ•°æ®å·²ä¿å­˜åˆ°æœ¬åœ°");
                    callback.onError();
                }
            });
        }).start();
    }
    
    /**
     * æ‰§è¡ŒåŒæ­¥
     */
    private boolean syncToServer() {
        try {
            // 1. ä¸Šä¼ æœªåŒæ­¥çš„åº“å­˜æ•°æ®
            List<RfidInventory> unsyncedInventory = localDB.getUnsyncedInventory();
            if (!unsyncedInventory.isEmpty()) {
                boolean success = apiService.batchUploadInventory(unsyncedInventory);
                if (success) {
                    List<String> epcs = new ArrayList<>();
                    for (RfidInventory inv : unsyncedInventory) {
                        epcs.add(inv.getEpcCode());
                    }
                    localDB.markAsSynced(epcs);
                }
            }
            
            // 2. ä¸Šä¼ æœªåŒæ­¥çš„æ“ä½œæ—¥å¿—
            List<OperationLog> unsyncedLogs = localDB.getUnsyncedLogs();
            if (!unsyncedLogs.isEmpty()) {
                apiService.batchUploadLogs(unsyncedLogs);
            }
            
            // 3. ä¸‹è½½å•†å“ä¸»æ•°æ®æ›´æ–°
            long lastSyncTime = getLastSyncTime();
            List<Product> updatedProducts = apiService.getUpdatedProducts(lastSyncTime);
            if (!updatedProducts.isEmpty()) {
                localDB.syncProducts(updatedProducts);
            }
            
            // 4. ä¸‹è½½å¾…å¤„ç†çš„å…¥åº“å•
            List<InboundOrder> pendingOrders = apiService.getPendingInboundOrders();
            for (InboundOrder order : pendingOrders) {
                localDB.saveInboundOrder(order);
            }
            
            setLastSyncTime(System.currentTimeMillis());
            return true;
            
        } catch (Exception e) {
            e.printStackTrace();
            return false;
        }
    }
    
    /**
     * å†²çªå¤„ç†ç­–ç•¥
     */
    private void resolveConflict(RfidInventory local, RfidInventory server) {
        // ç­–ç•¥1ï¼šæœåŠ¡å™¨ä¼˜å…ˆï¼ˆæ¨èï¼‰
        if (server.getUpdatedAt() > local.getUpdatedAt()) {
            localDB.updateInventory(server);
        }
        
        // ç­–ç•¥2ï¼šæœ¬åœ°ä¼˜å…ˆ
        // apiService.forceUpdate(local);
        
        // ç­–ç•¥3ï¼šåˆå¹¶ï¼ˆå¤æ‚åœºæ™¯ï¼‰
        // ...
    }
}
```

------

## å…«ã€æ€»ç»“ä¸å»ºè®®

### 8.1 æœ€ç»ˆæ¨èæ–¹æ¡ˆ

```
ğŸ¯ ä¸»æ¨æ–¹æ¡ˆï¼šæ¡å½¢ç +RFIDåŒæ‰«æï¼ˆæ–¹æ¡ˆ1ï¼‰

ç†ç”±ï¼š
âœ… æ“ä½œç®€å•ï¼šæ‰«ä¸¤æ¬¡å³å¯
âœ… å‡†ç¡®ç‡é«˜ï¼šæ¡å½¢ç è‡ªåŠ¨è¯†åˆ«å•†å“
âœ… æˆæœ¬æœ€ä½ï¼šæ— éœ€é¢å¤–æŠ•å…¥
âœ… æ˜“äºåŸ¹è®­ï¼šå‘˜å·¥å¿«é€Ÿä¸Šæ‰‹
âœ… é€‚åº”æ€§å¼ºï¼šé€‚åˆå„ç§å…¥åº“åœºæ™¯

é…åˆä½¿ç”¨ï¼šPCç«¯é¢„å…³è”ï¼ˆæ–¹æ¡ˆ2ï¼‰
åœºæ™¯ï¼šå¤§æ‰¹é‡ã€å®šæœŸå…¥åº“
ä¼˜åŠ¿ï¼šæå‰è§„åˆ’ï¼Œç°åœºæç®€æ“ä½œ
```

### 8.2 å®æ–½å…³é”®ç‚¹

```
1. å•†å“æ¡å½¢ç æ•°æ®åº“
   - æå‰å½•å…¥æ‰€æœ‰å•†å“çš„æ¡å½¢ç 
   - å®šæœŸåŒæ­¥æ›´æ–°
   - ç¡®ä¿æ¡å½¢ç å”¯ä¸€æ€§

2. æ ‡ç­¾ç®¡ç†
   - ä½¿ç”¨é¢„ç¼–ç æ ‡ç­¾ï¼ˆå®šåˆ¶1000ä¸ª/æ‰¹æ¬¡ï¼‰
   - å»ºç«‹æ ‡ç­¾æ± ç®¡ç†
   - è®°å½•æ ‡ç­¾ä½¿ç”¨æƒ…å†µ

3. æ“ä½œåŸ¹è®­
   - ç¼–å†™æ“ä½œæ‰‹å†Œï¼ˆå›¾æ–‡å¹¶èŒ‚ï¼‰
   - ç°åœºå®æ“åŸ¹è®­2-3å°æ—¶
   - è®¾ç½®å¸¸è§é—®é¢˜FAQ

4. å¼‚å¸¸å¤„ç†
   - æ¡å½¢ç æ‰«ä¸å‡º â†’ æ‰‹åŠ¨æœç´¢å•†å“
   - RFIDæ ‡ç­¾æŸå â†’ æ ‡ç­¾æ›¿æ¢æµç¨‹
   - ç½‘ç»œæ–­å¼€ â†’ æœ¬åœ°ç¼“å­˜ï¼Œè‡ªåŠ¨åŒæ­¥

5. æ€§èƒ½ä¼˜åŒ–
   - å•†å“æ•°æ®æœ¬åœ°ç¼“å­˜
   - æ‰¹é‡æ“ä½œä½¿ç”¨äº‹åŠ¡
   - å›¾ç‰‡æ‡’åŠ è½½
```

### 8.3 é¢„æœŸæ•ˆæœ

| æŒ‡æ ‡     | ä¼ ç»Ÿæ–¹å¼     | ä½¿ç”¨RFIDå    | æå‡å¹…åº¦ |
| -------- | ------------ | ------------- | -------- |
| å…¥åº“é€Ÿåº¦ | 15åˆ†é’Ÿ/100ä»¶ | 8åˆ†é’Ÿ/100ä»¶   | â¬† 47%    |
| å‡ºåº“é€Ÿåº¦ | 20åˆ†é’Ÿ/100ä»¶ | 2åˆ†é’Ÿ/100ä»¶   | â¬† 90%    |
| ç›˜ç‚¹é€Ÿåº¦ | 2å°æ—¶/1000ä»¶ | 10åˆ†é’Ÿ/1000ä»¶ | â¬† 92%    |
| å‡†ç¡®ç‡   | 95%          | 99.5%         | â¬† 4.5%   |
| äººåŠ›æˆæœ¬ | 3äºº          | 1äºº           | â¬‡ 67%    |

### 8.4 ä¸‹ä¸€æ­¥è¡ŒåŠ¨

```
Week 1ï¼š
â–¡ é‡‡è´­RFIDæ ‡ç­¾ï¼ˆå®šåˆ¶1000ä¸ªï¼‰
â–¡ æ­å»ºæœ¬åœ°SQLiteæ•°æ®åº“
â–¡ å¼€å‘æ¡å½¢ç æ‰«æåŠŸèƒ½

Week 2ï¼š
â–¡ å®ŒæˆRFIDè¯»å†™åŠŸèƒ½
â–¡ å®ç°æ‰«ç å…¥åº“æµç¨‹
â–¡ æœ¬åœ°æ•°æ®éªŒè¯æµ‹è¯•

Week 3ï¼š
â–¡ å¼€å‘PCç«¯ç®¡ç†ç³»ç»Ÿï¼ˆå¯é€‰ï¼‰
â–¡ å®ç°æ•°æ®åŒæ­¥åŠŸèƒ½
â–¡ å‡ºåº“ã€ç›˜ç‚¹åŠŸèƒ½å¼€å‘

Week 4ï¼š
â–¡ ç°åœºæµ‹è¯•50ä»¶è´§ç‰©
â–¡ æ€§èƒ½ä¼˜åŒ–
â–¡ ç¼–å†™æ“ä½œæ‰‹å†Œ
â–¡ å‘˜å·¥åŸ¹è®­

Week 5ï¼š
â–¡ æ­£å¼ä¸Šçº¿
â–¡ æŒç»­ç›‘æ§
â–¡ æ”¶é›†åé¦ˆä¼˜åŒ–
```

------

## é™„å½•ï¼šå¸¸è§é—®é¢˜FAQ

### Q1: å¦‚æœå•†å“æ²¡æœ‰æ¡å½¢ç æ€ä¹ˆåŠï¼Ÿ

**A:**

- æ–¹æ¡ˆ1ï¼šè‡ªå·±æ‰“å°æ¡å½¢ç æ ‡ç­¾è´´ä¸Šï¼ˆæˆæœ¬<0.05å…ƒ/ä¸ªï¼‰
- æ–¹æ¡ˆ2ï¼šä½¿ç”¨å•†å“äºŒç»´ç ï¼ˆæ‰“å°å•†å“äºŒç»´ç è´´è´§æ¶ä¸Šï¼‰
- æ–¹æ¡ˆ3ï¼šæ‰‹æŒæœºæœç´¢åŠŸèƒ½ï¼ˆè¾“å…¥å•†å“åç§°å…³é”®è¯ï¼‰

### Q2: 1000ä¸ªæ ‡ç­¾å¤Ÿç”¨å—ï¼Ÿ

**A:**

- è®¡ç®—æ–¹å¼ï¼šæ—¥å‡å…¥åº“é‡ Ã— å‘¨è½¬å¤©æ•° Ã— å®‰å…¨ç³»æ•°
- ç¤ºä¾‹ï¼šæ—¥å‡50ä»¶ Ã— 30å¤© Ã— 1.5 = 2250ä¸ª
- å»ºè®®ï¼šå…ˆå®šåˆ¶1000ä¸ªæµ‹è¯•ï¼Œæ ¹æ®å®é™…æƒ…å†µè¿½åŠ 

### Q3: æ ‡ç­¾èƒ½é‡å¤ä½¿ç”¨å—ï¼Ÿå¦‚ä½•å›æ”¶ï¼Ÿ

**A:**

```
âœ… å¯ä»¥é‡å¤ä½¿ç”¨

å›æ”¶æµç¨‹ï¼š
1. è´§ç‰©å‡ºåº“åï¼Œæ ‡ç­¾çŠ¶æ€æ›´æ–°ä¸º"å‡ºåº“"
2. å®šæœŸå›æ”¶ç©ºç®±/åŒ…è£…ä¸Šçš„æ ‡ç­¾
3. æ¸…æ´æ ‡ç­¾ï¼ˆé…’ç²¾æ“¦æ‹­ï¼‰
4. æ£€æŸ¥æ ‡ç­¾æ˜¯å¦æŸå
5. å°†å¯ç”¨æ ‡ç­¾çŠ¶æ€æ”¹ä¸º"ç©ºé—²"
6. é‡æ–°å…¥åº“æ—¶å…³è”æ–°å•†å“

æ ‡ç­¾å¯¿å‘½ï¼š
- æ­£å¸¸ä½¿ç”¨ï¼šå¯é‡å¤ä½¿ç”¨50-100æ¬¡
- è€ç”¨ç¯å¢ƒï¼š3-5å¹´
- æ³¨æ„äº‹é¡¹ï¼šé¿å…é«˜æ¸©ã€å¼ºç£åœºã€é‡å‹

æ•°æ®åº“æ“ä½œï¼š
UPDATE rfid_inventory 
SET status = 'ç©ºé—²', product_id = NULL, product_name = NULL
WHERE epc_code = 'xxx' AND status = 'å‡ºåº“';
```

### Q4: å¦‚æœæ‰«ææ—¶è¯»åˆ°å¤šä¸ªæ ‡ç­¾æ€ä¹ˆåŠï¼Ÿ

**A:**

```
åœºæ™¯1ï¼šå…¥åº“æ—¶æ‰¹é‡æ‰«æï¼ˆæ­£å¸¸æƒ…å†µï¼‰
- è¿™æ˜¯æœŸæœ›è¡Œä¸ºï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å»é‡
- æ‰€æœ‰æ‰«æåˆ°çš„æ ‡ç­¾éƒ½ä¼šæ˜¾ç¤ºåœ¨åˆ—è¡¨ä¸­

åœºæ™¯2ï¼šå•ä¸ªæ“ä½œæ—¶è¯»åˆ°å¤šä¸ªï¼ˆéœ€è¦ç²¾ç¡®å®šä½ï¼‰
è§£å†³æ–¹æ¡ˆï¼š
1. é™ä½è¯»å–åŠŸç‡ï¼ˆ26dBm â†’ 20dBmï¼‰
2. ç¼©çŸ­è¯»å–è·ç¦»ï¼ˆé è¿‘ç›®æ ‡æ ‡ç­¾ï¼‰
3. ä½¿ç”¨å®šå‘å¤©çº¿ï¼ˆæ‰‹æŒæœºå¤©çº¿æœå‘ç›®æ ‡ï¼‰
4. ç•Œé¢è®©ç”¨æˆ·é€‰æ‹©ï¼ˆæ˜¾ç¤ºRSSIä¿¡å·å¼ºåº¦ï¼Œé€‰ä¿¡å·æœ€å¼ºçš„ï¼‰

ä»£ç å®ç°ï¼š
// åªä¿ç•™ä¿¡å·æœ€å¼ºçš„æ ‡ç­¾
Tag strongestTag = null;
int maxRssi = -100;
for (Tag tag : scannedTags) {
    if (tag.getRssi() > maxRssi) {
        maxRssi = tag.getRssi();
        strongestTag = tag;
    }
}
```

### Q5: æ ‡ç­¾è´´åœ¨ä»€ä¹ˆä½ç½®æœ€å¥½ï¼Ÿ

**A:**

```
æœ€ä½³ä½ç½®åŸåˆ™ï¼š
1. é¿å¼€é‡‘å±è¡¨é¢ï¼ˆä¼šå±è”½ä¿¡å·ï¼‰
2. é¿å¼€æ¶²ä½“è¡¨é¢ï¼ˆä¼šå¸æ”¶ä¿¡å·ï¼‰
3. å¹³æ•´ä½ç½®ï¼ˆå¼¯æ›²ä¼šå½±å“æ€§èƒ½ï¼‰
4. ä¾¿äºæ‰«æçš„å¤–ä¾§

ä¸åŒè´§ç‰©å»ºè®®ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è´§ç‰©ç±»å‹         â”‚ æ ‡ç­¾ä½ç½®            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ çº¸ç®±åŒ…è£…         â”‚ ä¾§é¢æˆ–é¡¶éƒ¨å¹³æ•´å¤„    â”‚
â”‚ é‡‘å±ç½å¤´ï¼ˆæ•´ç®±ï¼‰ â”‚ å¤–åŒ…è£…çº¸ç®±          â”‚
â”‚ å¡‘æ–™ç“¶ï¼ˆæ•´ç®±ï¼‰   â”‚ å¤–åŒ…è£…çº¸ç®±          â”‚
â”‚ æ•£è£…é‡‘å±ä»¶       â”‚ ä½¿ç”¨æŠ—é‡‘å±æ ‡ç­¾      â”‚
â”‚ æ¶²ä½“å•†å“         â”‚ å¤–åŒ…è£…ï¼Œé¿å¼€æ¶²ä½“    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æŠ—é‡‘å±æ ‡ç­¾ï¼š
- æˆæœ¬ï¼š1.5-3å…ƒ/ä¸ªï¼ˆæ¯”æ™®é€šæ ‡ç­¾è´µï¼‰
- é€‚ç”¨ï¼šé‡‘å±è¡¨é¢ã€æ¶²ä½“è¡¨é¢
- åŸç†ï¼šå†…ç½®éš”ç¦»å±‚ï¼Œé¿å…ä¿¡å·å¹²æ‰°
```

### Q6: å¦‚æœè´§ç‰©å¤ªå¤šï¼Œæ‰«æä¸å…¨æ€ä¹ˆåŠï¼Ÿ

**A:**

```
åŸå› åˆ†æï¼š
1. æ ‡ç­¾å¯†åº¦å¤ªé«˜ï¼ˆ>200ä¸ª/mÂ³ï¼‰
2. æ ‡ç­¾ç›¸äº’é®æŒ¡
3. è¯»å–æ—¶é—´å¤ªçŸ­

è§£å†³æ–¹æ¡ˆï¼š
æ–¹æ¡ˆ1ï¼šåˆ†æ‰¹æ‰«æ
- å°†è´§ç‰©åˆ†æˆå°æ‰¹æ¬¡
- æ¯æ‰¹æ¬¡30-50ä»¶
- å¤šæ¬¡æ‰«ææ±‡æ€»

æ–¹æ¡ˆ2ï¼šå¤šè§’åº¦æ‰«æ
- ä»ä¸åŒè§’åº¦æ‰«æ3-4æ¬¡
- ç³»ç»Ÿè‡ªåŠ¨å»é‡åˆå¹¶
- ç¡®ä¿å…¨è¦†ç›–

æ–¹æ¡ˆ3ï¼šå»¶é•¿æ‰«ææ—¶é—´
- ä»1ç§’å»¶é•¿åˆ°5-10ç§’
- ä½¿ç”¨"è¿ç»­æ‰«æ"æ¨¡å¼
- å®æ—¶æ˜¾ç¤ºæ‰«æè¿›åº¦

ä»£ç å®ç°ï¼š
public void multiAngleScan(int rounds) {
    Set<String> allEpcs = new HashSet<>();
    
    for (int i = 0; i < rounds; i++) {
        showToast("ç¬¬" + (i+1) + "è½®æ‰«æï¼Œè¯·è°ƒæ•´è§’åº¦");
        
        // å•è½®æ‰«æ
        Set<String> roundEpcs = scanOnce(3000);  // 3ç§’
        allEpcs.addAll(roundEpcs);
        
        // æ˜¾ç¤ºè¿›åº¦
        tvProgress.setText("å·²æ‰«æ: " + allEpcs.size() + " ä¸ª");
        
        if (i < rounds - 1) {
            Thread.sleep(1000);  // é—´éš”1ç§’
        }
    }
    
    return allEpcs;
}
```

### Q7: æ•°æ®åŒæ­¥å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:**

```
å¤±è´¥åŸå› ï¼š
1. ç½‘ç»œæ–­å¼€
2. æœåŠ¡å™¨æ•…éšœ
3. æ•°æ®å†²çª

å¤„ç†ç­–ç•¥ï¼š
âœ… æœ¬åœ°ä¼˜å…ˆä¿å­˜
- æ‰€æœ‰æ“ä½œå…ˆä¿å­˜åˆ°æœ¬åœ°SQLite
- æ ‡è®°ä¸º"æœªåŒæ­¥"çŠ¶æ€
- ä¸å½±å“æ­£å¸¸ä¸šåŠ¡æ“ä½œ

âœ… è‡ªåŠ¨é‡è¯•æœºåˆ¶
- æ¯5åˆ†é’Ÿè‡ªåŠ¨å°è¯•åŒæ­¥
- ç½‘ç»œæ¢å¤åç«‹å³åŒæ­¥
- æœ€å¤šé‡è¯•10æ¬¡

âœ… æ‰‹åŠ¨åŒæ­¥
- æä¾›"ç«‹å³åŒæ­¥"æŒ‰é’®
- æ˜¾ç¤ºåŒæ­¥çŠ¶æ€å’Œè¿›åº¦
- å¤±è´¥æ—¶æç¤ºè¯¦ç»†é”™è¯¯

âœ… ç¦»çº¿æ¨¡å¼
- å®Œå…¨ç¦»çº¿ä¹Ÿèƒ½æ­£å¸¸æ“ä½œ
- æœ¬åœ°æ•°æ®å®Œæ•´å¯ç”¨
- ç¨åè”ç½‘è‡ªåŠ¨åŒæ­¥

ç•Œé¢æç¤ºï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš  ç½‘ç»œæ–­å¼€ï¼Œæ•°æ®å·²ä¿å­˜æœ¬åœ°  â”‚
â”‚                            â”‚
â”‚ æœªåŒæ­¥æ•°æ®: 23æ¡            â”‚
â”‚                            â”‚
â”‚ [ç«‹å³åŒæ­¥] [ç¨ååŒæ­¥]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Q8: å¦‚ä½•é˜²æ­¢è¯¯æ“ä½œï¼ˆå¦‚è¯¯åˆ é™¤ã€è¯¯å‡ºåº“ï¼‰ï¼Ÿ

**A:**

```
å®‰å…¨æœºåˆ¶è®¾è®¡ï¼š

1. äºŒæ¬¡ç¡®è®¤
AlertDialog.Builder(this)
    .setTitle("ç¡®è®¤å‡ºåº“")
    .setMessage("ç¡®è®¤å‡ºåº“ " + quantity + " ä»¶å•†å“å—ï¼Ÿ")
    .setPositiveButton("ç¡®è®¤", (d, w) -> doOutbound())
    .setNegativeButton("å–æ¶ˆ", null)
    .show();

2. æ“ä½œæ—¥å¿—ï¼ˆå®Œæ•´è¿½æº¯ï¼‰
- è®°å½•æ‰€æœ‰æ“ä½œï¼šè°ã€ä½•æ—¶ã€åšäº†ä»€ä¹ˆ
- å¯æŸ¥è¯¢ã€å¯å¯¼å‡º
- æ”¯æŒæ’¤é”€ï¼ˆæ—¶é—´çª—å£å†…ï¼‰

3. æƒé™æ§åˆ¶
- æ™®é€šå‘˜å·¥ï¼šå…¥åº“ã€å‡ºåº“ã€æŸ¥è¯¢
- ä»“ç®¡å‘˜ï¼šç›˜ç‚¹ã€è°ƒæ‹¨
- ç®¡ç†å‘˜ï¼šåˆ é™¤ã€ä¿®æ”¹å†å²æ•°æ®

4. å¼‚å¸¸è­¦å‘Š
if (inventory.getCurrentQuantity() < outboundQuantity) {
    showWarning("åº“å­˜ä¸è¶³ï¼å½“å‰åº“å­˜: " + inventory.getCurrentQuantity());
    return;
}

5. æ’¤é”€åŠŸèƒ½ï¼ˆ5åˆ†é’Ÿå†…ï¼‰
if (operation.getOperationTime() > System.currentTimeMillis() - 5*60*1000) {
    // å…è®¸æ’¤é”€
    undoOperation(operation);
} else {
    showToast("è¶…è¿‡æ’¤é”€æ—¶é™ï¼Œè¯·è”ç³»ç®¡ç†å‘˜");
}
```

### Q9: å¦‚ä½•å¤„ç†éƒ¨åˆ†å‡ºåº“åçš„å•†å“ï¼Ÿ

**A:**

```
åœºæ™¯ï¼šä¸€ç®±24ç›’ç‰›å¥¶ï¼Œå‡ºåº“6ç›’

æ¨èæ–¹æ¡ˆï¼šæ•°æ®åº“è®°å½•å‰©ä½™æ•°é‡

æ•°æ®æµç¨‹ï¼š
1. æ‰«ææ ‡ç­¾ï¼šE28011700000001
2. æŸ¥è¯¢æ•°æ®åº“ï¼š
   - å•†å“ï¼šä¼Šåˆ©çº¯ç‰›å¥¶
   - åŸå§‹æ•°é‡ï¼š24ç›’
   - å½“å‰æ•°é‡ï¼š24ç›’

3. é€‰æ‹©"éƒ¨åˆ†å‡ºåº“"
4. è¾“å…¥å‡ºåº“æ•°é‡ï¼š6ç›’
5. æ•°æ®åº“æ›´æ–°ï¼š
   UPDATE rfid_inventory 
   SET current_quantity = 18,
       updated_at = NOW()
   WHERE epc_code = 'E28011700000001';

6. è®°å½•æ—¥å¿—ï¼š
   INSERT INTO operation_log VALUES (
       'E28011700000001',
       'éƒ¨åˆ†å‡ºåº“',
       24,  -- æ“ä½œå‰
       -6,  -- å˜åŒ–
       18   -- æ“ä½œå
   );

7. æ ‡ç­¾ä»è´´åœ¨åŸç®±ä¸Šï¼Œä¸‹æ¬¡æ‰«ææ˜¾ç¤º"å‰©ä½™18ç›’"

ç•Œé¢æ˜¾ç¤ºï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EPC: E28011700000001       â”‚
â”‚ å•†å“: ä¼Šåˆ©çº¯ç‰›å¥¶            â”‚
â”‚                            â”‚
â”‚ åŸå§‹: 24ç›’                 â”‚
â”‚ å½“å‰: 18ç›’ âš  (å·²éƒ¨åˆ†å‡ºåº“)  â”‚
â”‚                            â”‚
â”‚ å‡ºåº“æ•°é‡: [6] ç›’            â”‚
â”‚                            â”‚
â”‚ [ç¡®è®¤å‡ºåº“] [å–æ¶ˆ]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä¼˜ç‚¹ï¼š
âœ… æ— éœ€é¢å¤–æ ‡ç­¾
âœ… è¿½æº¯å®Œæ•´
âœ… æ“ä½œç®€å•
âœ… æˆæœ¬æœ€ä½
```

### Q10: å¦‚ä½•ç”Ÿæˆå„ç§æŠ¥è¡¨ï¼Ÿ

**A:**

```java
å¸¸ç”¨æŠ¥è¡¨ç±»å‹ï¼š

1. å…¥åº“æ˜ç»†æŠ¥è¡¨
SELECT 
    DATE(inbound_time) as date,
    product_name,
    COUNT(*) as tag_count,
    SUM(original_quantity) as total_quantity,
    operator
FROM rfid_inventory
WHERE DATE(inbound_time) BETWEEN '2024-10-01' AND '2024-10-31'
GROUP BY DATE(inbound_time), product_name, operator
ORDER BY date DESC;

2. åº“å­˜æ±‡æ€»æŠ¥è¡¨
SELECT 
    product_name,
    COUNT(DISTINCT epc_code) as tag_count,
    SUM(current_quantity) as total_quantity,
    location,
    status
FROM rfid_inventory
WHERE status = 'åœ¨åº“'
GROUP BY product_name, location, status;

3. å‡ºå…¥åº“ç»Ÿè®¡æŠ¥è¡¨
SELECT 
    DATE(operation_time) as date,
    operation_type,
    COUNT(*) as operation_count,
    SUM(ABS(quantity_change)) as total_quantity
FROM operation_log
WHERE DATE(operation_time) BETWEEN '2024-10-01' AND '2024-10-31'
GROUP BY DATE(operation_time), operation_type
ORDER BY date DESC;

4. åº“å­˜å‘¨è½¬ç‡
SELECT 
    product_name,
    SUM(CASE WHEN operation_type='å‡ºåº“' THEN ABS(quantity_change) ELSE 0 END) as outbound_qty,
    AVG(current_quantity) as avg_inventory,
    (SUM(CASE WHEN operation_type='å‡ºåº“' THEN ABS(quantity_change) ELSE 0 END) / 
     NULLIF(AVG(current_quantity), 0)) as turnover_rate
FROM operation_log 
LEFT JOIN rfid_inventory ON operation_log.epc_code = rfid_inventory.epc_code
WHERE MONTH(operation_time) = MONTH(NOW())
GROUP BY product_name;

5. å³å°†è¿‡æœŸå•†å“
SELECT 
    epc_code,
    product_name,
    current_quantity,
    expiry_date,
    DATEDIFF(expiry_date, NOW()) as days_until_expiry,
    location
FROM rfid_inventory
WHERE status = 'åœ¨åº“' 
  AND expiry_date IS NOT NULL
  AND DATEDIFF(expiry_date, NOW()) BETWEEN 0 AND 30
ORDER BY expiry_date ASC;

å¯¼å‡ºåŠŸèƒ½ï¼š
// å¯¼å‡ºä¸ºExcel
public void exportToExcel(List<InventoryReport> data) {
    Workbook workbook = new XSSFWorkbook();
    Sheet sheet = workbook.createSheet("åº“å­˜æŠ¥è¡¨");
    
    // åˆ›å»ºè¡¨å¤´
    Row headerRow = sheet.createRow(0);
    headerRow.createCell(0).setCellValue("å•†å“åç§°");
    headerRow.createCell(1).setCellValue("æ ‡ç­¾æ•°é‡");
    headerRow.createCell(2).setCellValue("æ€»æ•°é‡");
    headerRow.createCell(3).setCellValue("ä½ç½®");
    
    // å¡«å……æ•°æ®
    int rowNum = 1;
    for (InventoryReport item : data) {
        Row row = sheet.createRow(rowNum++);
        row.createCell(0).setCellValue(item.getProductName());
        row.createCell(1).setCellValue(item.getTagCount());
        row.createCell(2).setCellValue(item.getTotalQuantity());
        row.createCell(3).setCellValue(item.getLocation());
    }
    
    // ä¿å­˜æ–‡ä»¶
    String fileName = "åº“å­˜æŠ¥è¡¨_" + new SimpleDateFormat("yyyyMMdd").format(new Date()) + ".xlsx";
    FileOutputStream fos = new FileOutputStream(fileName);
    workbook.write(fos);
    workbook.close();
}
```

------

## ä¹ã€å®Œæ•´çš„ç³»ç»Ÿæ¶æ„å›¾ä¸åº“è®¾è®¡

### 9.1 ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        æ•´ä½“ç³»ç»Ÿæ¶æ„                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ‰‹æŒæœº/PDA     â”‚         â”‚  PCç®¡ç†ç«¯       â”‚         â”‚  ç§»åŠ¨App(å¯é€‰)  â”‚
â”‚  ============   â”‚         â”‚  ============   â”‚         â”‚  ============   â”‚
â”‚                 â”‚         â”‚                 â”‚         â”‚                 â”‚
â”‚  â€¢ æ¡ç æ‰«æ     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â€¢ å•†å“ç®¡ç†     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  â€¢ åº“å­˜æŸ¥è¯¢     â”‚
â”‚  â€¢ RFIDè¯»å†™     â”‚         â”‚  â€¢ å…¥åº“å•ç®¡ç†   â”‚         â”‚  â€¢ ç»Ÿè®¡æŠ¥è¡¨     â”‚
â”‚  â€¢ å…¥åº“æ“ä½œ     â”‚         â”‚  â€¢ æŠ¥è¡¨å¯¼å‡º     â”‚         â”‚  â€¢ é¢„è­¦æ¨é€     â”‚
â”‚  â€¢ å‡ºåº“æ“ä½œ     â”‚         â”‚  â€¢ ç”¨æˆ·æƒé™     â”‚         â”‚                 â”‚
â”‚  â€¢ ç›˜ç‚¹æ“ä½œ     â”‚         â”‚  â€¢ ç³»ç»Ÿé…ç½®     â”‚         â”‚                 â”‚
â”‚  â€¢ æœ¬åœ°ç¼“å­˜     â”‚         â”‚                 â”‚         â”‚                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                           â”‚                           â”‚
         â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
         â”‚          â”‚                                 â”‚          â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º APIç½‘å…³ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚          (RESTful)              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         åº”ç”¨æœåŠ¡å±‚               â”‚
                    â”‚  ========================      â”‚
                    â”‚  â€¢ å•†å“æœåŠ¡ (ProductService)    â”‚
                    â”‚  â€¢ åº“å­˜æœåŠ¡ (InventoryService)  â”‚
                    â”‚  â€¢ å…¥åº“æœåŠ¡ (InboundService)    â”‚
                    â”‚  â€¢ å‡ºåº“æœåŠ¡ (OutboundService)   â”‚
                    â”‚  â€¢ ç›˜ç‚¹æœåŠ¡ (StockService)      â”‚
                    â”‚  â€¢ æ—¥å¿—æœåŠ¡ (LogService)        â”‚
                    â”‚  â€¢ åŒæ­¥æœåŠ¡ (SyncService)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚         æ•°æ®è®¿é—®å±‚               â”‚
                    â”‚  ========================      â”‚
                    â”‚  â€¢ MyBatis / JPA               â”‚
                    â”‚  â€¢ Redisç¼“å­˜                   â”‚
                    â”‚  â€¢ è¿æ¥æ± ç®¡ç†                   â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚      MySQL/PostgreSQLæ•°æ®åº“      â”‚
                    â”‚  ========================      â”‚
                    â”‚  â€¢ product_master              â”‚
                    â”‚  â€¢ rfid_inventory              â”‚
                    â”‚  â€¢ operation_log               â”‚
                    â”‚  â€¢ inbound_order               â”‚
                    â”‚  â€¢ user_account                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 9.2 æ ¸å¿ƒä¸šåŠ¡è¡¨

#### 9.2.1 å•†å“ä¸»è¡¨ (product_master)

```sql
-- å•†å“ä¸»è¡¨
CREATE TABLE product_master (
    product_id VARCHAR(50) PRIMARY KEY,                    -- å•†å“ID
    product_name VARCHAR(200) NOT NULL,                    -- å•†å“åç§°
    barcode VARCHAR(50),                                   -- å•†å“æ¡å½¢ç ï¼ˆé‡è¦ï¼æ‰«ç è¯†åˆ«ï¼‰
    category VARCHAR(100),                                 -- åˆ†ç±»
    brand VARCHAR(100),                                    -- å“ç‰Œ
    unit VARCHAR(20),                                      -- å•ä½ï¼ˆç®±/ç›’/ä¸ª/ç“¶ï¼‰
    spec VARCHAR(100),                                     -- è§„æ ¼ï¼ˆå¦‚ï¼š24ç›’/ç®±ï¼Œ250ml/ç›’ï¼‰
    unit_price NUMERIC(10, 2),                            -- å•ä»·
    cost_price NUMERIC(10, 2),                            -- æˆæœ¬ä»·
    supplier VARCHAR(200),                                 -- ä¾›åº”å•†
    supplier_code VARCHAR(50),                             -- ä¾›åº”å•†ç¼–ç 
    image_url TEXT,                                        -- å•†å“å›¾ç‰‡URL
    description TEXT,                                      -- æè¿°
    safety_stock INTEGER DEFAULT 0,                        -- å®‰å…¨åº“å­˜æ•°é‡
    shelf_life_days INTEGER,                              -- ä¿è´¨æœŸï¼ˆå¤©æ•°ï¼‰
    storage_conditions VARCHAR(200),                       -- å­˜å‚¨æ¡ä»¶ï¼ˆå¦‚ï¼šå¸¸æ¸©ã€å†·è—ï¼‰
    is_active BOOLEAN DEFAULT TRUE,                        -- æ˜¯å¦å¯ç”¨
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50),
    updated_by VARCHAR(50)
);

-- ç´¢å¼•
CREATE INDEX idx_product_barcode ON product_master(barcode);
CREATE INDEX idx_product_name ON product_master(product_name);
CREATE INDEX idx_product_category ON product_master(category);
CREATE INDEX idx_product_active ON product_master(is_active);
CREATE INDEX idx_product_brand ON product_master(brand);

-- æ¡å½¢ç å”¯ä¸€æ€§çº¦æŸ
CREATE UNIQUE INDEX idx_product_barcode_unique ON product_master(barcode) WHERE barcode IS NOT NULL;

-- æ³¨é‡Š
COMMENT ON TABLE product_master IS 'å•†å“ä¸»æ•°æ®è¡¨';
COMMENT ON COLUMN product_master.product_id IS 'å•†å“å”¯ä¸€æ ‡è¯†';
COMMENT ON COLUMN product_master.barcode IS 'å•†å“æ¡å½¢ç ï¼Œç”¨äºæ‰«ç è¯†åˆ«';
COMMENT ON COLUMN product_master.spec IS 'è§„æ ¼è¯´æ˜ï¼Œå¦‚ï¼š24ç›’/ç®±';
COMMENT ON COLUMN product_master.safety_stock IS 'å®‰å…¨åº“å­˜é¢„è­¦å€¼';
COMMENT ON COLUMN product_master.shelf_life_days IS 'ä¿è´¨æœŸå¤©æ•°';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO product_master (product_id, product_name, barcode, category, brand, unit, spec, unit_price, cost_price, supplier, safety_stock, shelf_life_days, storage_conditions, created_by) VALUES
('P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', '6901939602201', 'ä¹³åˆ¶å“', 'ä¼Šåˆ©', 'ç®±', '24ç›’/ç®±ï¼Œ250ml/ç›’', 89.90, 75.00, 'ä¼Šåˆ©é›†å›¢', 10, 180, 'å¸¸æ¸©ä¿å­˜', 'system'),
('P002', 'å¯å£å¯ä¹', '6922255451106', 'é¥®æ–™', 'å¯å£å¯ä¹', 'ç®±', '24ç“¶/ç®±ï¼Œ500ml/ç“¶', 55.00, 45.00, 'å¯å£å¯ä¹å…¬å¸', 20, 365, 'å¸¸æ¸©ä¿å­˜', 'system'),
('P003', 'å†œå¤«å±±æ³‰', '6902083888336', 'é¥®æ–™', 'å†œå¤«å±±æ³‰', 'ç®±', '24ç“¶/ç®±ï¼Œ550ml/ç“¶', 38.00, 32.00, 'å†œå¤«å±±æ³‰è‚¡ä»½', 15, 365, 'å¸¸æ¸©ä¿å­˜', 'system'),
('P004', 'è’™ç‰›ç‰¹ä»‘è‹', '6923644200015', 'ä¹³åˆ¶å“', 'è’™ç‰›', 'ç®±', '12ç›’/ç®±ï¼Œ250ml/ç›’', 68.00, 55.00, 'è’™ç‰›é›†å›¢', 5, 180, 'å¸¸æ¸©ä¿å­˜', 'system'),
('P005', 'åº·å¸ˆå‚…å†°çº¢èŒ¶', '6920152400013', 'é¥®æ–™', 'åº·å¸ˆå‚…', 'ç®±', '15ç“¶/ç®±ï¼Œ500ml/ç“¶', 42.00, 35.00, 'åº·å¸ˆå‚…æ§è‚¡', 25, 365, 'å¸¸æ¸©ä¿å­˜', 'system');
```

#### 9.2.2 RFIDåº“å­˜è¡¨ (rfid_inventory)

```sql
-- RFIDåº“å­˜è¡¨ï¼ˆæ ¸å¿ƒè¡¨ï¼‰
CREATE TABLE rfid_inventory (
    id BIGSERIAL PRIMARY KEY,                              -- è‡ªå¢ä¸»é”®
    epc_code VARCHAR(50) UNIQUE NOT NULL,                  -- RFIDæ ‡ç­¾EPCï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰
    tid_code VARCHAR(50),                                  -- TIDç ï¼ˆèŠ¯ç‰‡åºåˆ—å·ï¼Œé˜²ä¼ªï¼‰
    product_id VARCHAR(50) NOT NULL,                       -- å…³è”å•†å“ID
    product_name VARCHAR(200),                             -- å•†å“åç§°ï¼ˆå†—ä½™ï¼Œä¾¿äºæŸ¥è¯¢ï¼‰
    original_quantity INTEGER DEFAULT 1,                   -- åˆå§‹æ•°é‡ï¼ˆå¦‚ï¼š24ç›’ï¼‰
    current_quantity INTEGER DEFAULT 1,                    -- å½“å‰å‰©ä½™æ•°é‡
    unit VARCHAR(20),                                      -- å•ä½
    batch_no VARCHAR(50),                                  -- æ‰¹æ¬¡å·
    production_date DATE,                                  -- ç”Ÿäº§æ—¥æœŸ
    expiry_date DATE,                                      -- è¿‡æœŸæ—¥æœŸ
    location VARCHAR(100),                                 -- ä»“åº“ä½ç½®ï¼ˆå¦‚ï¼šAåŒº-01-03ï¼‰
    status VARCHAR(20) DEFAULT 'åœ¨åº“',                     -- çŠ¶æ€
    inbound_order_no VARCHAR(50),                          -- å…³è”å…¥åº“å•å·
    outbound_order_no VARCHAR(50),                         -- å…³è”å‡ºåº“å•å·
    inbound_time TIMESTAMP,                                -- å…¥åº“æ—¶é—´
    outbound_time TIMESTAMP,                               -- å‡ºåº“æ—¶é—´
    last_check_time TIMESTAMP,                             -- æœ€åç›˜ç‚¹æ—¶é—´
    operator VARCHAR(50),                                  -- æ“ä½œå‘˜
    remark TEXT,                                          -- å¤‡æ³¨
    is_deleted BOOLEAN DEFAULT FALSE,                      -- è½¯åˆ é™¤æ ‡è®°
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50),
    updated_by VARCHAR(50)
);

-- çŠ¶æ€æšä¸¾æ£€æŸ¥
ALTER TABLE rfid_inventory ADD CONSTRAINT chk_status 
CHECK (status IN ('åœ¨åº“', 'å‡ºåº“', 'å¾…å…¥åº“', 'å¾…å‡ºåº“', 'ç›˜äº', 'ç›˜ç›ˆ', 'æŠ¥åºŸ', 'ç©ºé—²', 'æŸå'));

-- æ•°é‡æ£€æŸ¥
ALTER TABLE rfid_inventory ADD CONSTRAINT chk_quantity 
CHECK (current_quantity >= 0 AND current_quantity <= original_quantity);

-- ç´¢å¼•
CREATE INDEX idx_rfid_epc ON rfid_inventory(epc_code);
CREATE INDEX idx_rfid_product ON rfid_inventory(product_id);
CREATE INDEX idx_rfid_status ON rfid_inventory(status);
CREATE INDEX idx_rfid_location ON rfid_inventory(location);
CREATE INDEX idx_rfid_inbound_order ON rfid_inventory(inbound_order_no);
CREATE INDEX idx_rfid_outbound_order ON rfid_inventory(outbound_order_no);
CREATE INDEX idx_rfid_expiry ON rfid_inventory(expiry_date) WHERE expiry_date IS NOT NULL;
CREATE INDEX idx_rfid_inbound_time ON rfid_inventory(inbound_time);
CREATE INDEX idx_rfid_is_deleted ON rfid_inventory(is_deleted) WHERE is_deleted = FALSE;

-- å¤åˆç´¢å¼•ï¼ˆå¸¸ç”¨æŸ¥è¯¢ç»„åˆï¼‰
CREATE INDEX idx_rfid_product_status ON rfid_inventory(product_id, status);
CREATE INDEX idx_rfid_status_location ON rfid_inventory(status, location);
CREATE INDEX idx_rfid_product_location ON rfid_inventory(product_id, location);

-- æ³¨é‡Š
COMMENT ON TABLE rfid_inventory IS 'RFIDåº“å­˜è¡¨ï¼Œè®°å½•æ¯ä¸ªæ ‡ç­¾ä¸å•†å“çš„å…³è”';
COMMENT ON COLUMN rfid_inventory.epc_code IS 'RFIDæ ‡ç­¾å”¯ä¸€EPCç ';
COMMENT ON COLUMN rfid_inventory.tid_code IS 'RFIDèŠ¯ç‰‡TIDåºåˆ—å·ï¼Œç”¨äºé˜²ä¼ª';
COMMENT ON COLUMN rfid_inventory.current_quantity IS 'å½“å‰å‰©ä½™æ•°é‡ï¼Œæ”¯æŒéƒ¨åˆ†å‡ºåº“';
COMMENT ON COLUMN rfid_inventory.status IS 'çŠ¶æ€ï¼šåœ¨åº“/å‡ºåº“/å¾…å…¥åº“/å¾…å‡ºåº“/ç›˜äº/ç›˜ç›ˆ/æŠ¥åºŸ/ç©ºé—²/æŸå';
COMMENT ON COLUMN rfid_inventory.is_deleted IS 'è½¯åˆ é™¤æ ‡è®°ï¼ŒTRUEè¡¨ç¤ºå·²åˆ é™¤';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO rfid_inventory (epc_code, tid_code, product_id, product_name, original_quantity, current_quantity, unit, batch_no, production_date, expiry_date, location, status, inbound_time, operator, created_by) VALUES
('E28011700000020123456789', 'E200341234567890ABCD1234', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 24, 24, 'ç›’', 'BATCH20241030001', '2024-10-30', '2025-04-30', 'AåŒº-01-03', 'åœ¨åº“', CURRENT_TIMESTAMP, 'zhangsan', 'zhangsan'),
('E28011700000020123456790', 'E200341234567890ABCD1235', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 24, 18, 'ç›’', 'BATCH20241030001', '2024-10-30', '2025-04-30', 'AåŒº-01-03', 'åœ¨åº“', CURRENT_TIMESTAMP, 'zhangsan', 'zhangsan'),
('E28011700000020123456791', 'E200341234567890ABCD1236', 'P002', 'å¯å£å¯ä¹', 24, 24, 'ç“¶', 'BATCH20241030002', '2024-10-28', '2025-10-28', 'BåŒº-02-05', 'åœ¨åº“', CURRENT_TIMESTAMP, 'lisi', 'lisi'),
('E28011700000020123456792', 'E200341234567890ABCD1237', 'P003', 'å†œå¤«å±±æ³‰', 24, 24, 'ç“¶', 'BATCH20241030003', '2024-10-25', '2025-10-25', 'BåŒº-03-02', 'åœ¨åº“', CURRENT_TIMESTAMP, 'lisi', 'lisi');
```

#### 9.2.3 æ“ä½œæ—¥å¿—è¡¨ (operation_log)

```sql
-- æ“ä½œæ—¥å¿—è¡¨
CREATE TABLE operation_log (
    id BIGSERIAL PRIMARY KEY,                              -- è‡ªå¢ä¸»é”®
    log_no VARCHAR(50) UNIQUE,                            -- æ—¥å¿—ç¼–å·
    epc_code VARCHAR(50) NOT NULL,                         -- æ“ä½œçš„æ ‡ç­¾EPC
    product_id VARCHAR(50),                                -- å•†å“ID
    product_name VARCHAR(200),                             -- å•†å“åç§°ï¼ˆå†—ä½™ï¼‰
    operation_type VARCHAR(20) NOT NULL,                   -- æ“ä½œç±»å‹
    quantity_before INTEGER,                               -- æ“ä½œå‰æ•°é‡
    quantity_change INTEGER,                               -- æ•°é‡å˜åŒ–ï¼ˆ+æ­£æ•°/-è´Ÿæ•°ï¼‰
    quantity_after INTEGER,                                -- æ“ä½œåæ•°é‡
    location_from VARCHAR(100),                            -- æºä½ç½®
    location_to VARCHAR(100),                              -- ç›®æ ‡ä½ç½®
    operator VARCHAR(50),                                  -- æ“ä½œå‘˜
    order_no VARCHAR(50),                                  -- å…³è”è®¢å•å·ï¼ˆå…¥åº“å•/å‡ºåº“å•ï¼‰
    remarks TEXT,                                          -- å¤‡æ³¨
    device_id VARCHAR(50),                                 -- è®¾å¤‡IDï¼ˆæ‰‹æŒæœºæ ‡è¯†ï¼‰
    device_ip VARCHAR(50),                                 -- è®¾å¤‡IP
    operation_time TIMESTAMP DEFAULT CURRENT_TIMESTAMP,    -- æ“ä½œæ—¶é—´
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- æ“ä½œç±»å‹æ£€æŸ¥
ALTER TABLE operation_log ADD CONSTRAINT chk_operation_type 
CHECK (operation_type IN ('å…¥åº“', 'å‡ºåº“', 'ç›˜ç‚¹', 'è°ƒæ‹¨', 'æŠ¥åºŸ', 'é€€è´§', 'éƒ¨åˆ†å‡ºåº“', 'æ ‡ç­¾æ›¿æ¢'));

-- ç´¢å¼•
CREATE INDEX idx_log_epc ON operation_log(epc_code);
CREATE INDEX idx_log_product ON operation_log(product_id);
CREATE INDEX idx_log_operation_time ON operation_log(operation_time DESC);
CREATE INDEX idx_log_operator ON operation_log(operator);
CREATE INDEX idx_log_order_no ON operation_log(order_no);
CREATE INDEX idx_log_operation_type ON operation_log(operation_type);

-- å¤åˆç´¢å¼•
CREATE INDEX idx_log_epc_time ON operation_log(epc_code, operation_time DESC);
CREATE INDEX idx_log_product_type_time ON operation_log(product_id, operation_type, operation_time DESC);

-- åˆ†åŒºè¡¨ï¼ˆå¯é€‰ï¼Œæ•°æ®é‡å¤§æ—¶ä½¿ç”¨ï¼‰
-- æŒ‰æœˆåˆ†åŒº
-- CREATE TABLE operation_log_y2024m10 PARTITION OF operation_log
-- FOR VALUES FROM ('2024-10-01') TO ('2024-11-01');

-- æ³¨é‡Š
COMMENT ON TABLE operation_log IS 'æ“ä½œæ—¥å¿—è¡¨ï¼Œè®°å½•æ‰€æœ‰åº“å­˜æ“ä½œçš„å®Œæ•´è¿½æº¯é“¾';
COMMENT ON COLUMN operation_log.operation_type IS 'æ“ä½œç±»å‹ï¼šå…¥åº“/å‡ºåº“/ç›˜ç‚¹/è°ƒæ‹¨/æŠ¥åºŸ/é€€è´§/éƒ¨åˆ†å‡ºåº“/æ ‡ç­¾æ›¿æ¢';
COMMENT ON COLUMN operation_log.quantity_change IS 'æ•°é‡å˜åŒ–ï¼Œæ­£æ•°è¡¨ç¤ºå¢åŠ ï¼Œè´Ÿæ•°è¡¨ç¤ºå‡å°‘';
COMMENT ON COLUMN operation_log.device_id IS 'æ‰‹æŒæœºè®¾å¤‡å”¯ä¸€æ ‡è¯†';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO operation_log (log_no, epc_code, product_id, product_name, operation_type, quantity_before, quantity_change, quantity_after, location_to, operator, order_no, device_id, created_by) VALUES
('LOG20241030000001', 'E28011700000020123456789', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 'å…¥åº“', 0, 24, 24, 'AåŒº-01-03', 'zhangsan', 'IB20241030001', 'PDA001', 'zhangsan'),
('LOG20241030000002', 'E28011700000020123456790', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 'å…¥åº“', 0, 24, 24, 'AåŒº-01-03', 'zhangsan', 'IB20241030001', 'PDA001', 'zhangsan'),
('LOG20241030000003', 'E28011700000020123456790', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 'éƒ¨åˆ†å‡ºåº“', 24, -6, 18, 'AåŒº-01-03', 'lisi', 'OB20241030001', 'PDA002', 'lisi');
```

#### 9.2.4 å…¥åº“å•ä¸»è¡¨ (inbound_order)

```sql
-- å…¥åº“å•ä¸»è¡¨
CREATE TABLE inbound_order (
    inbound_no VARCHAR(50) PRIMARY KEY,                    -- å…¥åº“å•å·
    supplier VARCHAR(200),                                 -- ä¾›åº”å•†
    supplier_code VARCHAR(50),                             -- ä¾›åº”å•†ç¼–ç 
    expected_date DATE,                                    -- é¢„è®¡åˆ°è´§æ—¥æœŸ
    actual_date DATE,                                      -- å®é™…åˆ°è´§æ—¥æœŸ
    warehouse_location VARCHAR(100),                       -- ä»“åº“ä½ç½®
    operator VARCHAR(50),                                  -- æ“ä½œå‘˜
    status VARCHAR(20) DEFAULT 'å¾…å…¥åº“',                   -- çŠ¶æ€
    total_quantity INTEGER DEFAULT 0,                      -- æ€»æ•°é‡
    scanned_quantity INTEGER DEFAULT 0,                    -- å·²æ‰«ææ•°é‡
    total_amount NUMERIC(12, 2),                          -- æ€»é‡‘é¢
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50),
    updated_by VARCHAR(50)
);

-- çŠ¶æ€æ£€æŸ¥
ALTER TABLE inbound_order ADD CONSTRAINT chk_inbound_status 
CHECK (status IN ('å¾…å…¥åº“', 'éƒ¨åˆ†å…¥åº“', 'å·²å…¥åº“', 'å·²å–æ¶ˆ'));

-- ç´¢å¼•
CREATE INDEX idx_inbound_status ON inbound_order(status);
CREATE INDEX idx_inbound_supplier ON inbound_order(supplier);
CREATE INDEX idx_inbound_expected_date ON inbound_order(expected_date);
CREATE INDEX idx_inbound_actual_date ON inbound_order(actual_date);
CREATE INDEX idx_inbound_operator ON inbound_order(operator);
CREATE INDEX idx_inbound_created_at ON inbound_order(created_at DESC);

-- æ³¨é‡Š
COMMENT ON TABLE inbound_order IS 'å…¥åº“å•ä¸»è¡¨';
COMMENT ON COLUMN inbound_order.inbound_no IS 'å…¥åº“å•å·ï¼Œæ ¼å¼ï¼šIB+å¹´æœˆæ—¥+åºå·';
COMMENT ON COLUMN inbound_order.status IS 'çŠ¶æ€ï¼šå¾…å…¥åº“/éƒ¨åˆ†å…¥åº“/å·²å…¥åº“/å·²å–æ¶ˆ';
COMMENT ON COLUMN inbound_order.scanned_quantity IS 'å·²æ‰«ææ ‡ç­¾æ•°é‡';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO inbound_order (inbound_no, supplier, supplier_code, expected_date, actual_date, warehouse_location, operator, status, total_quantity, scanned_quantity, total_amount, created_by) VALUES
('IB20241030001', 'ä¼Šåˆ©é›†å›¢', 'SUP001', '2024-10-30', '2024-10-30', 'AåŒº', 'zhangsan', 'å·²å…¥åº“', 50, 50, 4495.00, 'admin'),
('IB20241030002', 'å¯å£å¯ä¹å…¬å¸', 'SUP002', '2024-10-30', '2024-10-30', 'BåŒº', 'lisi', 'å·²å…¥åº“', 30, 30, 1650.00, 'admin'),
('IB20241031001', 'å†œå¤«å±±æ³‰è‚¡ä»½', 'SUP003', '2024-10-31', NULL, 'BåŒº', 'zhangsan', 'å¾…å…¥åº“', 20, 0, 760.00, 'admin');
```

#### 9.2.5 å…¥åº“å•æ˜ç»†è¡¨ (inbound_order_item)

```sql
-- å…¥åº“å•æ˜ç»†è¡¨
CREATE TABLE inbound_order_item (
    id BIGSERIAL PRIMARY KEY,                              -- è‡ªå¢ä¸»é”®
    inbound_no VARCHAR(50) NOT NULL,                       -- å…¥åº“å•å·
    product_id VARCHAR(50) NOT NULL,                       -- å•†å“ID
    product_name VARCHAR(200),                             -- å•†å“åç§°ï¼ˆå†—ä½™ï¼‰
    quantity INTEGER NOT NULL,                             -- æ•°é‡
    quantity_per_unit INTEGER,                             -- æ¯ä¸ªåŒ…è£…å•ä½çš„æ•°é‡ï¼ˆå¦‚ï¼š24ç›’/ç®±ï¼‰
    unit_price NUMERIC(10, 2),                            -- å•ä»·
    total_price NUMERIC(12, 2),                           -- å°è®¡
    allocated_epcs TEXT,                                   -- é¢„åˆ†é…çš„EPCåˆ—è¡¨ï¼ˆJSONæ•°ç»„æ ¼å¼ï¼‰
    scanned_count INTEGER DEFAULT 0,                       -- å·²æ‰«ææ•°é‡
    batch_no VARCHAR(50),                                  -- æ‰¹æ¬¡å·
    production_date DATE,                                  -- ç”Ÿäº§æ—¥æœŸ
    expiry_date DATE,                                      -- è¿‡æœŸæ—¥æœŸ
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ç´¢å¼•
CREATE INDEX idx_inbound_item_order ON inbound_order_item(inbound_no);
CREATE INDEX idx_inbound_item_product ON inbound_order_item(product_id);
CREATE INDEX idx_inbound_item_expiry ON inbound_order_item(expiry_date);

-- æ³¨é‡Š
COMMENT ON TABLE inbound_order_item IS 'å…¥åº“å•æ˜ç»†è¡¨';
COMMENT ON COLUMN inbound_order_item.allocated_epcs IS 'é¢„åˆ†é…çš„EPCåˆ—è¡¨ï¼ŒJSONæ•°ç»„æ ¼å¼';
COMMENT ON COLUMN inbound_order_item.scanned_count IS 'å®é™…æ‰«æåˆ°çš„æ ‡ç­¾æ•°é‡';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO inbound_order_item (inbound_no, product_id, product_name, quantity, quantity_per_unit, unit_price, total_price, allocated_epcs, scanned_count, batch_no, production_date, expiry_date) VALUES
('IB20241030001', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 50, 24, 89.90, 4495.00, 
 '["E28011700000020123456789","E28011700000020123456790"]', 50, 
 'BATCH20241030001', '2024-10-30', '2025-04-30'),
('IB20241030002', 'P002', 'å¯å£å¯ä¹', 30, 24, 55.00, 1650.00, 
 '["E28011700000020123456791"]', 30, 
 'BATCH20241030002', '2024-10-28', '2025-10-28'),
('IB20241031001', 'P003', 'å†œå¤«å±±æ³‰', 20, 24, 38.00, 760.00, 
 '[]', 0, 
 'BATCH20241031001', '2024-10-25', '2025-10-25');
```

#### 9.2.6 å‡ºåº“å•ä¸»è¡¨ (outbound_order)

```sql
-- å‡ºåº“å•ä¸»è¡¨
CREATE TABLE outbound_order (
    outbound_no VARCHAR(50) PRIMARY KEY,                   -- å‡ºåº“å•å·
    customer VARCHAR(200),                                 -- å®¢æˆ·åç§°
    customer_code VARCHAR(50),                             -- å®¢æˆ·ç¼–ç 
    order_type VARCHAR(20) DEFAULT 'é”€å”®å‡ºåº“',             -- è®¢å•ç±»å‹
    expected_date DATE,                                    -- é¢„è®¡å‡ºåº“æ—¥æœŸ
    actual_date DATE,                                      -- å®é™…å‡ºåº“æ—¥æœŸ
    warehouse_location VARCHAR(100),                       -- ä»“åº“ä½ç½®
    operator VARCHAR(50),                                  -- æ“ä½œå‘˜
    status VARCHAR(20) DEFAULT 'å¾…å‡ºåº“',                   -- çŠ¶æ€
    total_quantity INTEGER DEFAULT 0,                      -- æ€»æ•°é‡
    scanned_quantity INTEGER DEFAULT 0,                    -- å·²æ‰«ææ•°é‡
    total_amount NUMERIC(12, 2),                          -- æ€»é‡‘é¢
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50),
    updated_by VARCHAR(50)
);

-- çŠ¶æ€æ£€æŸ¥
ALTER TABLE outbound_order ADD CONSTRAINT chk_outbound_status 
CHECK (status IN ('å¾…å‡ºåº“', 'éƒ¨åˆ†å‡ºåº“', 'å·²å‡ºåº“', 'å·²å–æ¶ˆ'));

-- è®¢å•ç±»å‹æ£€æŸ¥
ALTER TABLE outbound_order ADD CONSTRAINT chk_order_type 
CHECK (order_type IN ('é”€å”®å‡ºåº“', 'è°ƒæ‹¨å‡ºåº“', 'é€€è´§å‡ºåº“', 'æŠ¥åºŸå‡ºåº“', 'ç›˜äºå‡ºåº“'));

-- ç´¢å¼•
CREATE INDEX idx_outbound_status ON outbound_order(status);
CREATE INDEX idx_outbound_customer ON outbound_order(customer);
CREATE INDEX idx_outbound_type ON outbound_order(order_type);
CREATE INDEX idx_outbound_expected_date ON outbound_order(expected_date);
CREATE INDEX idx_outbound_actual_date ON outbound_order(actual_date);
CREATE INDEX idx_outbound_operator ON outbound_order(operator);
CREATE INDEX idx_outbound_created_at ON outbound_order(created_at DESC);

-- æ³¨é‡Š
COMMENT ON TABLE outbound_order IS 'å‡ºåº“å•ä¸»è¡¨';
COMMENT ON COLUMN outbound_order.outbound_no IS 'å‡ºåº“å•å·ï¼Œæ ¼å¼ï¼šOB+å¹´æœˆæ—¥+åºå·';
COMMENT ON COLUMN outbound_order.order_type IS 'è®¢å•ç±»å‹ï¼šé”€å”®å‡ºåº“/è°ƒæ‹¨å‡ºåº“/é€€è´§å‡ºåº“/æŠ¥åºŸå‡ºåº“/ç›˜äºå‡ºåº“';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO outbound_order (outbound_no, customer, customer_code, order_type, expected_date, actual_date, warehouse_location, operator, status, total_quantity, scanned_quantity, total_amount, created_by) VALUES
('OB20241030001', 'æŸæŸå¹¼å„¿å›­', 'CUST001', 'é”€å”®å‡ºåº“', '2024-10-30', '2024-10-30', 'AåŒº', 'lisi', 'å·²å‡ºåº“', 6, 6, 22.48, 'admin'),
('OB20241030002', 'æŸæŸè¶…å¸‚', 'CUST002', 'é”€å”®å‡ºåº“', '2024-10-30', NULL, 'BåŒº', 'wangwu', 'å¾…å‡ºåº“', 10, 0, 230.00, 'admin');
```

#### 9.2.7 å‡ºåº“å•æ˜ç»†è¡¨ (outbound_order_item)

```sql
-- å‡ºåº“å•æ˜ç»†è¡¨
CREATE TABLE outbound_order_item (
    id BIGSERIAL PRIMARY KEY,                              -- è‡ªå¢ä¸»é”®
    outbound_no VARCHAR(50) NOT NULL,                      -- å‡ºåº“å•å·
    product_id VARCHAR(50) NOT NULL,                       -- å•†å“ID
    product_name VARCHAR(200),                             -- å•†å“åç§°ï¼ˆå†—ä½™ï¼‰
    quantity INTEGER NOT NULL,                             -- æ•°é‡
    unit_price NUMERIC(10, 2),                            -- å•ä»·
    total_price NUMERIC(12, 2),                           -- å°è®¡
    scanned_epcs TEXT,                                     -- å·²æ‰«æçš„EPCåˆ—è¡¨ï¼ˆJSONæ•°ç»„ï¼‰
    scanned_count INTEGER DEFAULT 0,                       -- å·²æ‰«ææ•°é‡
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ç´¢å¼•
CREATE INDEX idx_outbound_item_order ON outbound_order_item(outbound_no);
CREATE INDEX idx_outbound_item_product ON outbound_order_item(product_id);

-- æ³¨é‡Š
COMMENT ON TABLE outbound_order_item IS 'å‡ºåº“å•æ˜ç»†è¡¨';
COMMENT ON COLUMN outbound_order_item.scanned_epcs IS 'å®é™…æ‰«æåˆ°çš„EPCåˆ—è¡¨ï¼ŒJSONæ•°ç»„æ ¼å¼';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO outbound_order_item (outbound_no, product_id, product_name, quantity, unit_price, total_price, scanned_epcs, scanned_count) VALUES
('OB20241030001', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 6, 3.75, 22.48, 
 '["E28011700000020123456790"]', 6),
('OB20241030002', 'P002', 'å¯å£å¯ä¹', 10, 2.30, 23.00, 
 '[]', 0);
```

#### 9.2.8 ç›˜ç‚¹å•ä¸»è¡¨ (stock_check)

```sql
-- ç›˜ç‚¹å•ä¸»è¡¨
CREATE TABLE stock_check (
    check_no VARCHAR(50) PRIMARY KEY,                      -- ç›˜ç‚¹å•å·
    check_type VARCHAR(20) DEFAULT 'å…¨ç›˜',                 -- ç›˜ç‚¹ç±»å‹
    check_date DATE NOT NULL,                              -- ç›˜ç‚¹æ—¥æœŸ
    warehouse_location VARCHAR(100),                       -- ç›˜ç‚¹åŒºåŸŸ
    operator VARCHAR(50),                                  -- ç›˜ç‚¹å‘˜
    status VARCHAR(20) DEFAULT 'è¿›è¡Œä¸­',                   -- çŠ¶æ€
    expected_quantity INTEGER DEFAULT 0,                   -- è´¦é¢æ•°é‡
    actual_quantity INTEGER DEFAULT 0,                     -- å®é™…æ•°é‡
    profit_quantity INTEGER DEFAULT 0,                     -- ç›˜ç›ˆæ•°é‡
    loss_quantity INTEGER DEFAULT 0,                       -- ç›˜äºæ•°é‡
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50),
    updated_by VARCHAR(50)
);

-- çŠ¶æ€æ£€æŸ¥
ALTER TABLE stock_check ADD CONSTRAINT chk_stock_status 
CHECK (status IN ('å¾…ç›˜ç‚¹', 'è¿›è¡Œä¸­', 'å·²å®Œæˆ', 'å·²å®¡æ ¸', 'å·²å–æ¶ˆ'));

-- ç›˜ç‚¹ç±»å‹æ£€æŸ¥
ALTER TABLE stock_check ADD CONSTRAINT chk_check_type 
CHECK (check_type IN ('å…¨ç›˜', 'æŠ½ç›˜', 'åŠ¨æ€ç›˜ç‚¹', 'åŒºåŸŸç›˜ç‚¹'));

-- ç´¢å¼•
CREATE INDEX idx_stock_check_date ON stock_check(check_date DESC);
CREATE INDEX idx_stock_check_status ON stock_check(status);
CREATE INDEX idx_stock_check_location ON stock_check(warehouse_location);
CREATE INDEX idx_stock_check_operator ON stock_check(operator);

-- æ³¨é‡Š
COMMENT ON TABLE stock_check IS 'ç›˜ç‚¹å•ä¸»è¡¨';
COMMENT ON COLUMN stock_check.check_no IS 'ç›˜ç‚¹å•å·ï¼Œæ ¼å¼ï¼šSC+å¹´æœˆæ—¥+åºå·';
COMMENT ON COLUMN stock_check.check_type IS 'ç›˜ç‚¹ç±»å‹ï¼šå…¨ç›˜/æŠ½ç›˜/åŠ¨æ€ç›˜ç‚¹/åŒºåŸŸç›˜ç‚¹';
COMMENT ON COLUMN stock_check.profit_quantity IS 'ç›˜ç›ˆæ•°é‡ï¼ˆå®é™…>è´¦é¢ï¼‰';
COMMENT ON COLUMN stock_check.loss_quantity IS 'ç›˜äºæ•°é‡ï¼ˆå®é™…<è´¦é¢ï¼‰';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO stock_check (check_no, check_type, check_date, warehouse_location, operator, status, expected_quantity, actual_quantity, profit_quantity, loss_quantity, created_by) VALUES
('SC20241030001', 'åŒºåŸŸç›˜ç‚¹', '2024-10-30', 'AåŒº', 'zhangsan', 'å·²å®Œæˆ', 100, 98, 0, 2, 'admin'),
('SC20241030002', 'å…¨ç›˜', '2024-10-30', 'å…¨éƒ¨', 'lisi', 'è¿›è¡Œä¸­', 200, 0, 0, 0, 'admin');
```

#### 9.2.9 ç›˜ç‚¹æ˜ç»†è¡¨ (stock_check_detail)

```sql
-- ç›˜ç‚¹æ˜ç»†è¡¨
CREATE TABLE stock_check_detail (
    id BIGSERIAL PRIMARY KEY,                              -- è‡ªå¢ä¸»é”®
    check_no VARCHAR
```

```sql
-- ç›˜ç‚¹æ˜ç»†è¡¨
CREATE TABLE stock_check_detail (
    id BIGSERIAL PRIMARY KEY,                              -- è‡ªå¢ä¸»é”®
    check_no VARCHAR(50) NOT NULL,                         -- ç›˜ç‚¹å•å·
    epc_code VARCHAR(50),                                  -- RFIDæ ‡ç­¾EPC
    product_id VARCHAR(50),                                -- å•†å“ID
    product_name VARCHAR(200),                             -- å•†å“åç§°ï¼ˆå†—ä½™ï¼‰
    location VARCHAR(100),                                 -- ä½ç½®
    expected_status VARCHAR(20),                           -- è´¦é¢çŠ¶æ€
    actual_status VARCHAR(20),                             -- å®é™…çŠ¶æ€
    check_result VARCHAR(20),                              -- ç›˜ç‚¹ç»“æœ
    quantity INTEGER,                                      -- æ•°é‡
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- ç›˜ç‚¹ç»“æœæ£€æŸ¥
ALTER TABLE stock_check_detail ADD CONSTRAINT chk_check_result 
CHECK (check_result IN ('æ­£å¸¸', 'ç›˜ç›ˆ', 'ç›˜äº', 'ä½ç½®ä¸ç¬¦', 'çŠ¶æ€ä¸ç¬¦'));

-- ç´¢å¼•
CREATE INDEX idx_stock_detail_check_no ON stock_check_detail(check_no);
CREATE INDEX idx_stock_detail_epc ON stock_check_detail(epc_code);
CREATE INDEX idx_stock_detail_product ON stock_check_detail(product_id);
CREATE INDEX idx_stock_detail_result ON stock_check_detail(check_result);

-- æ³¨é‡Š
COMMENT ON TABLE stock_check_detail IS 'ç›˜ç‚¹æ˜ç»†è¡¨';
COMMENT ON COLUMN stock_check_detail.check_result IS 'ç›˜ç‚¹ç»“æœï¼šæ­£å¸¸/ç›˜ç›ˆ/ç›˜äº/ä½ç½®ä¸ç¬¦/çŠ¶æ€ä¸ç¬¦';
COMMENT ON COLUMN stock_check_detail.expected_status IS 'è´¦é¢åº”æœ‰çŠ¶æ€';
COMMENT ON COLUMN stock_check_detail.actual_status IS 'å®é™…æ‰«æåˆ°çš„çŠ¶æ€';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO stock_check_detail (check_no, epc_code, product_id, product_name, location, expected_status, actual_status, check_result, quantity) VALUES
('SC20241030001', 'E28011700000020123456789', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 'AåŒº-01-03', 'åœ¨åº“', 'åœ¨åº“', 'æ­£å¸¸', 24),
('SC20241030001', 'E28011700000020123456790', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 'AåŒº-01-03', 'åœ¨åº“', 'åœ¨åº“', 'æ­£å¸¸', 18),
('SC20241030001', 'E28011700000020123456888', 'P001', 'ä¼Šåˆ©çº¯ç‰›å¥¶', 'AåŒº-01-03', 'åœ¨åº“', NULL, 'ç›˜äº', 24);
```

------

### 9.3 ç³»ç»Ÿç®¡ç†è¡¨

#### 9.3.1 ç”¨æˆ·è¡¨ (sys_user)

```sql
-- ç”¨æˆ·è¡¨
CREATE TABLE sys_user (
    user_id VARCHAR(50) PRIMARY KEY,                       -- ç”¨æˆ·ID
    username VARCHAR(50) UNIQUE NOT NULL,                  -- ç”¨æˆ·å
    password VARCHAR(200) NOT NULL,                        -- å¯†ç ï¼ˆåŠ å¯†å­˜å‚¨ï¼‰
    real_name VARCHAR(100),                                -- çœŸå®å§“å
    mobile VARCHAR(20),                                    -- æ‰‹æœºå·
    email VARCHAR(100),                                    -- é‚®ç®±
    role VARCHAR(20) DEFAULT 'user',                       -- è§’è‰²
    department VARCHAR(100),                               -- éƒ¨é—¨
    status VARCHAR(20) DEFAULT 'active',                   -- çŠ¶æ€
    last_login_time TIMESTAMP,                             -- æœ€åç™»å½•æ—¶é—´
    last_login_ip VARCHAR(50),                             -- æœ€åç™»å½•IP
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50),
    updated_by VARCHAR(50)
);

-- è§’è‰²æ£€æŸ¥
ALTER TABLE sys_user ADD CONSTRAINT chk_user_role 
CHECK (role IN ('admin', 'manager', 'warehouse_staff', 'operator', 'viewer'));

-- çŠ¶æ€æ£€æŸ¥
ALTER TABLE sys_user ADD CONSTRAINT chk_user_status 
CHECK (status IN ('active', 'inactive', 'locked'));

-- ç´¢å¼•
CREATE INDEX idx_user_username ON sys_user(username);
CREATE INDEX idx_user_mobile ON sys_user(mobile);
CREATE INDEX idx_user_status ON sys_user(status);
CREATE INDEX idx_user_role ON sys_user(role);

-- æ³¨é‡Š
COMMENT ON TABLE sys_user IS 'ç³»ç»Ÿç”¨æˆ·è¡¨';
COMMENT ON COLUMN sys_user.role IS 'è§’è‰²ï¼šadmin=ç®¡ç†å‘˜/manager=ç»ç†/warehouse_staff=ä»“ç®¡å‘˜/operator=æ“ä½œå‘˜/viewer=æŸ¥çœ‹è€…';
COMMENT ON COLUMN sys_user.password IS 'å¯†ç éœ€ä½¿ç”¨BCryptç­‰ç®—æ³•åŠ å¯†å­˜å‚¨';

-- ç¤ºä¾‹æ•°æ®ï¼ˆå¯†ç ï¼š123456ï¼Œå®é™…åº”åŠ å¯†ï¼‰
INSERT INTO sys_user (user_id, username, password, real_name, mobile, role, department, status, created_by) VALUES
('U001', 'admin', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iAt6Z5EH', 'ç®¡ç†å‘˜', '13800138000', 'admin', 'ä¿¡æ¯éƒ¨', 'active', 'system'),
('U002', 'zhangsan', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iAt6Z5EH', 'å¼ ä¸‰', '13800138001', 'warehouse_staff', 'ä»“å‚¨éƒ¨', 'active', 'admin'),
('U003', 'lisi', '$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iAt6Z5EH', 'æå››', '13800138002', 'operator', 'ä»“å‚¨éƒ¨', 'active', 'admin');
```

#### 9.3.2 ä»“åº“ä½ç½®è¡¨ (warehouse_location)

```sql
-- ä»“åº“ä½ç½®è¡¨
CREATE TABLE warehouse_location (
    location_code VARCHAR(50) PRIMARY KEY,                 -- ä½ç½®ç¼–ç 
    location_name VARCHAR(100) NOT NULL,                   -- ä½ç½®åç§°
    parent_code VARCHAR(50),                               -- çˆ¶çº§ä½ç½®ç¼–ç 
    level INTEGER,                                         -- å±‚çº§ï¼ˆ1=åŒºåŸŸï¼Œ2=è´§æ¶ï¼Œ3=å±‚ï¼‰
    capacity INTEGER,                                      -- å®¹é‡
    current_quantity INTEGER DEFAULT 0,                    -- å½“å‰æ•°é‡
    location_type VARCHAR(20),                             -- ä½ç½®ç±»å‹
    status VARCHAR(20) DEFAULT 'available',                -- çŠ¶æ€
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50)
);

-- ä½ç½®ç±»å‹æ£€æŸ¥
ALTER TABLE warehouse_location ADD CONSTRAINT chk_location_type 
CHECK (location_type IN ('åŒºåŸŸ', 'è´§æ¶', 'å±‚', 'æ‰˜ç›˜', 'ä¸´æ—¶åŒº'));

-- çŠ¶æ€æ£€æŸ¥
ALTER TABLE warehouse_location ADD CONSTRAINT chk_location_status 
CHECK (status IN ('available', 'full', 'maintenance', 'disabled'));

-- ç´¢å¼•
CREATE INDEX idx_location_parent ON warehouse_location(parent_code);
CREATE INDEX idx_location_level ON warehouse_location(level);
CREATE INDEX idx_location_status ON warehouse_location(status);
CREATE INDEX idx_location_type ON warehouse_location(location_type);

-- æ³¨é‡Š
COMMENT ON TABLE warehouse_location IS 'ä»“åº“ä½ç½®è¡¨ï¼Œæ”¯æŒå¤šçº§ç»“æ„';
COMMENT ON COLUMN warehouse_location.level IS 'å±‚çº§ï¼š1=åŒºåŸŸï¼Œ2=è´§æ¶ï¼Œ3=å±‚';
COMMENT ON COLUMN warehouse_location.status IS 'çŠ¶æ€ï¼šavailable=å¯ç”¨/full=å·²æ»¡/maintenance=ç»´æŠ¤ä¸­/disabled=å·²ç¦ç”¨';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO warehouse_location (location_code, location_name, parent_code, level, capacity, location_type, status, created_by) VALUES
-- ä¸€çº§ï¼šåŒºåŸŸ
('A', 'AåŒº', NULL, 1, 10000, 'åŒºåŸŸ', 'available', 'admin'),
('B', 'BåŒº', NULL, 1, 8000, 'åŒºåŸŸ', 'available', 'admin'),
('C', 'CåŒºï¼ˆä¸´æ—¶ï¼‰', NULL, 1, 5000, 'ä¸´æ—¶åŒº', 'available', 'admin'),
-- äºŒçº§ï¼šè´§æ¶
('A-01', 'AåŒº01å·è´§æ¶', 'A', 2, 200, 'è´§æ¶', 'available', 'admin'),
('A-02', 'AåŒº02å·è´§æ¶', 'A', 2, 200, 'è´§æ¶', 'available', 'admin'),
('B-01', 'BåŒº01å·è´§æ¶', 'B', 2, 200, 'è´§æ¶', 'available', 'admin'),
('B-02', 'BåŒº02å·è´§æ¶', 'B', 2, 200, 'è´§æ¶', 'available', 'admin'),
-- ä¸‰çº§ï¼šå±‚
('A-01-01', 'AåŒº01å·è´§æ¶ç¬¬1å±‚', 'A-01', 3, 50, 'å±‚', 'available', 'admin'),
('A-01-02', 'AåŒº01å·è´§æ¶ç¬¬2å±‚', 'A-01', 3, 50, 'å±‚', 'available', 'admin'),
('A-01-03', 'AåŒº01å·è´§æ¶ç¬¬3å±‚', 'A-01', 3, 50, 'å±‚', 'available', 'admin'),
('B-02-05', 'BåŒº02å·è´§æ¶ç¬¬5å±‚', 'B-02', 3, 50, 'å±‚', 'available', 'admin');
```

#### 9.3.3 RFIDæ ‡ç­¾æ± è¡¨ (rfid_tag_pool)

```sql
-- RFIDæ ‡ç­¾æ± è¡¨ï¼ˆç®¡ç†æ‰€æœ‰æ ‡ç­¾ï¼‰
CREATE TABLE rfid_tag_pool (
    id BIGSERIAL PRIMARY KEY,                              -- è‡ªå¢ä¸»é”®
    epc_code VARCHAR(50) UNIQUE NOT NULL,                  -- RFIDæ ‡ç­¾EPC
    tid_code VARCHAR(50),                                  -- TIDç 
    tag_type VARCHAR(20) DEFAULT 'standard',               -- æ ‡ç­¾ç±»å‹
    batch_no VARCHAR(50),                                  -- æ ‡ç­¾æ‰¹æ¬¡å·
    supplier VARCHAR(100),                                 -- æ ‡ç­¾ä¾›åº”å•†
    purchase_date DATE,                                    -- é‡‡è´­æ—¥æœŸ
    unit_price NUMERIC(6, 2),                             -- å•ä»·
    status VARCHAR(20) DEFAULT 'idle',                     -- çŠ¶æ€
    usage_count INTEGER DEFAULT 0,                         -- ä½¿ç”¨æ¬¡æ•°
    last_used_time TIMESTAMP,                              -- æœ€åä½¿ç”¨æ—¶é—´
    customer VARCHAR(200),                                 -- å®šåˆ¶å®¢æˆ·ï¼ˆå¦‚ï¼šæŸæŸå¹¼å„¿å›­ï¼‰
    remark TEXT,                                          -- å¤‡æ³¨
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    created_by VARCHAR(50)
);

-- æ ‡ç­¾ç±»å‹æ£€æŸ¥
ALTER TABLE rfid_tag_pool ADD CONSTRAINT chk_tag_type 
CHECK (tag_type IN ('standard', 'anti_metal', 'high_temp', 'flexible'));

-- çŠ¶æ€æ£€æŸ¥
ALTER TABLE rfid_tag_pool ADD CONSTRAINT chk_tag_status 
CHECK (status IN ('idle', 'in_use', 'damaged', 'retired', 'reserved'));

-- ç´¢å¼•
CREATE INDEX idx_tag_pool_epc ON rfid_tag_pool(epc_code);
CREATE INDEX idx_tag_pool_status ON rfid_tag_pool(status);
CREATE INDEX idx_tag_pool_batch ON rfid_tag_pool(batch_no);
CREATE INDEX idx_tag_pool_customer ON rfid_tag_pool(customer);

-- æ³¨é‡Š
COMMENT ON TABLE rfid_tag_pool IS 'RFIDæ ‡ç­¾æ± ï¼Œç®¡ç†æ‰€æœ‰æ ‡ç­¾çš„ç”Ÿå‘½å‘¨æœŸ';
COMMENT ON COLUMN rfid_tag_pool.tag_type IS 'æ ‡ç­¾ç±»å‹ï¼šstandard=æ ‡å‡†/anti_metal=æŠ—é‡‘å±/high_temp=è€é«˜æ¸©/flexible=æŸ”æ€§';
COMMENT ON COLUMN rfid_tag_pool.status IS 'çŠ¶æ€ï¼šidle=ç©ºé—²/in_use=ä½¿ç”¨ä¸­/damaged=æŸå/retired=é€€å½¹/reserved=é¢„ç•™';
COMMENT ON COLUMN rfid_tag_pool.usage_count IS 'ä½¿ç”¨æ¬¡æ•°ï¼Œå¯é‡å¤ä½¿ç”¨æ ‡ç­¾çš„ç»Ÿè®¡';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO rfid_tag_pool (epc_code, tid_code, tag_type, batch_no, supplier, purchase_date, unit_price, status, customer, created_by) VALUES
('E28011700000020123456789', 'E200341234567890ABCD1234', 'standard', 'TAG20241001', 'æŸæ ‡ç­¾å‚å•†', '2024-10-01', 1.50, 'in_use', 'æŸæŸå¹¼å„¿å›­', 'admin'),
('E28011700000020123456790', 'E200341234567890ABCD1235', 'standard', 'TAG20241001', 'æŸæ ‡ç­¾å‚å•†', '2024-10-01', 1.50, 'in_use', 'æŸæŸå¹¼å„¿å›­', 'admin'),
('E28011700000020123456791', 'E200341234567890ABCD1236', 'standard', 'TAG20241001', 'æŸæ ‡ç­¾å‚å•†', '2024-10-01', 1.50, 'in_use', 'æŸæŸå¹¼å„¿å›­', 'admin'),
('E28011700000020123456792', 'E200341234567890ABCD1237', 'standard', 'TAG20241001', 'æŸæ ‡ç­¾å‚å•†', '2024-10-01', 1.50, 'in_use', 'æŸæŸå¹¼å„¿å›­', 'admin'),
('E28011700000020123456793', 'E200341234567890ABCD1238', 'standard', 'TAG20241001', 'æŸæ ‡ç­¾å‚å•†', '2024-10-01', 1.50, 'idle', 'æŸæŸå¹¼å„¿å›­', 'admin');
```

#### 9.3.4 ç³»ç»Ÿé…ç½®è¡¨ (sys_config)

```sql
-- ç³»ç»Ÿé…ç½®è¡¨
CREATE TABLE sys_config (
    config_key VARCHAR(100) PRIMARY KEY,                   -- é…ç½®é”®
    config_value TEXT,                                     -- é…ç½®å€¼
    config_type VARCHAR(20),                               -- é…ç½®ç±»å‹
    description TEXT,                                      -- æè¿°
    is_editable BOOLEAN DEFAULT TRUE,                      -- æ˜¯å¦å¯ç¼–è¾‘
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_by VARCHAR(50)
);

-- é…ç½®ç±»å‹æ£€æŸ¥
ALTER TABLE sys_config ADD CONSTRAINT chk_config_type 
CHECK (config_type IN ('system', 'business', 'rfid', 'notification'));

-- æ³¨é‡Š
COMMENT ON TABLE sys_config IS 'ç³»ç»Ÿé…ç½®è¡¨';
COMMENT ON COLUMN sys_config.config_type IS 'é…ç½®ç±»å‹ï¼šsystem=ç³»ç»Ÿé…ç½®/business=ä¸šåŠ¡é…ç½®/rfid=RFIDé…ç½®/notification=é€šçŸ¥é…ç½®';

-- ç¤ºä¾‹æ•°æ®
INSERT INTO sys_config (config_key, config_value, config_type, description, is_editable, updated_by) VALUES
('rfid.read_power', '26', 'rfid', 'RFIDè¯»å–åŠŸç‡ï¼ˆdBmï¼‰', TRUE, 'admin'),
('rfid.read_timeout', '1000', 'rfid', 'RFIDè¯»å–è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰', TRUE, 'admin'),
('inventory.safety_stock_alert', 'true', 'business', 'æ˜¯å¦å¯ç”¨å®‰å…¨åº“å­˜é¢„è­¦', TRUE, 'admin'),
('inventory.expiry_alert_days', '30', 'business', 'è¿‡æœŸé¢„è­¦å¤©æ•°', TRUE, 'admin'),
('sync.auto_sync_interval', '300', 'system', 'è‡ªåŠ¨åŒæ­¥é—´éš”ï¼ˆç§’ï¼‰', TRUE, 'admin'),
('sync.retry_count', '3', 'system', 'åŒæ­¥å¤±è´¥é‡è¯•æ¬¡æ•°', TRUE, 'admin');
```



### æ‹“å±•æŸ¥è¯¢

#### åº“å­˜æŸ¥è¯¢

```sql
-- 1. æŸ¥è¯¢æ‰€æœ‰åœ¨åº“å•†å“
SELECT 
    r.epc_code,
    r.product_name,
    r.current_quantity,
    r.unit,
    r.location,
    r.batch_no,
    r.expiry_date,
    (r.expiry_date - CURRENT_DATE) AS days_until_expiry
FROM rfid_inventory r
WHERE r.status = 'åœ¨åº“' 
  AND r.is_deleted = FALSE
ORDER BY r.expiry_date ASC NULLS LAST;

-- 2. æŒ‰å•†å“æ±‡æ€»åº“å­˜
SELECT 
    product_id,
    product_name,
    COUNT(*) AS tag_count,
    SUM(current_quantity) AS total_quantity,
    STRING_AGG(DISTINCT location, ', ') AS locations
FROM rfid_inventory
WHERE status = 'åœ¨åº“' AND is_deleted = FALSE
GROUP BY product_id, product_name
ORDER BY total_quantity DESC;

-- 3. åº“å­˜ä¸è¶³é¢„è­¦
SELECT 
    p.product_id,
    p.product_name,
    p.safety_stock,
    COALESCE(SUM(r.current_quantity), 0) AS current_stock,
    (p.safety_stock - COALESCE(SUM(r.current_quantity), 0)) AS shortage
FROM product_master p
LEFT JOIN rfid_inventory r ON p.product_id = r.product_id 
    AND r.status = 'åœ¨åº“' 
    AND r.is_deleted = FALSE
WHERE p.is_active = TRUE
GROUP BY p.product_id, p.product_name, p.safety_stock
HAVING COALESCE(SUM(r.current_quantity), 0) < p.safety_stock
ORDER BY shortage DESC;

-- 4. æ ¹æ®EPCæŸ¥è¯¢è¯¦ç»†ä¿¡æ¯
SELECT 
    r.*,
    p.barcode,
    p.category,
    p.brand,
    p.spec,
    p.unit_price
FROM rfid_inventory r
LEFT JOIN product_master p ON r.product_id = p.product_id
WHERE r.epc_code = 'E28011700000020123456789';
```

#### å‡ºå…¥åº“æŸ¥è¯¢

```sql
-- 1. æŸ¥è¯¢æŒ‡å®šæ—¥æœŸèŒƒå›´çš„å…¥åº“è®°å½•
SELECT 
    io.inbound_no,
    io.supplier,
    io.actual_date,
    io.operator,
    io.total_quantity,
    io.scanned_quantity,
    io.status
FROM inbound_order io
WHERE io.actual_date BETWEEN '2024-10-01' AND '2024-10-31'
ORDER BY io.actual_date DESC;

-- 2. æŸ¥è¯¢æŒ‡å®šæ—¥æœŸèŒƒå›´çš„å‡ºåº“è®°å½•
SELECT 
    oo.outbound_no,
    oo.customer,
    oo.actual_date,
    oo.operator,
    oo.total_quantity,
    oo.scanned_quantity,
    oo.status
FROM outbound_order oo
WHERE oo.actual_date BETWEEN '2024-10-01' AND '2024-10-31'
ORDER BY oo.actual_date DESC;

-- 3. ç»Ÿè®¡æ¯æ—¥å‡ºå…¥åº“æ•°é‡
SELECT 
    DATE(operation_time) AS date,
    operation_type,
    COUNT(DISTINCT epc_code) AS tag_count,
    SUM(ABS(quantity_change)) AS total_quantity
FROM operation_log
WHERE operation_time >= CURRENT_DATE - INTERVAL '7 days'
  AND operation_type IN ('å…¥åº“', 'å‡ºåº“')
GROUP BY DATE(operation_time), operation_type
ORDER BY date DESC, operation_type;
```

#### ç›˜ç‚¹æŸ¥è¯¢

```sql
-- 1. æŸ¥è¯¢æœ€è¿‘çš„ç›˜ç‚¹è®°å½•
SELECT 
    sc.check_no,
    sc.check_type,
    sc.check_date,
    sc.warehouse_location,
    sc.operator,
    sc
```





------



## åã€å¼€å‘æŠ€æœ¯æ ˆå»ºè®®

### 10.1 æ‰‹æŒæœºç«¯ï¼ˆAndroidï¼‰

```
è¯­è¨€ï¼šJava / Kotlin
æ¶æ„ï¼šMVVM + Repository
æ•°æ®åº“ï¼šSQLite (Roomæ¡†æ¶)
ç½‘ç»œï¼šRetrofit + OkHttp
ä¾èµ–æ³¨å…¥ï¼šDagger2 / Hilt
UIï¼šMaterial Design

å…³é”®åº“ï¼š
dependencies {
    // RFID SDK (å‚å•†æä¾›)
    implementation files('libs/uhf-api.jar')
    
    // æ•°æ®åº“
    implementation "androidx.room:room-runtime:2.5.0"
    kapt "androidx.room:room-compiler:2.5.0"
    
    // ç½‘ç»œ
    implementation 'com.squareup.retrofit2:retrofit:2.9.0'
    implementation 'com.squareup.retrofit2:converter-gson:2.9.0'
    
    // äºŒç»´ç /æ¡ç æ‰«æ
    implementation 'com.journeyapps:zxing-android-embedded:4.3.0'
    
    // å›¾ç‰‡åŠ è½½
    implementation 'com.github.bumptech.glide:glide:4.15.0'
    
    // Excelå¯¼å‡º
    implementation 'org.apache.poi:poi-ooxml:5.2.3'
}
```

### 10.2 åç«¯æœåŠ¡ï¼ˆwhoami3.0ï¼‰

### 10.3 PCç®¡ç†ç«¯ï¼ˆå¯é€‰ï¼‰

```
æ–¹æ¡ˆ1ï¼šWebå‰ç«¯
- Vue 3 + Element Plus
- React + Ant Design
- ä¼˜ç‚¹ï¼šè·¨å¹³å°ï¼Œæ˜“ç»´æŠ¤

æ–¹æ¡ˆ2ï¼šæ¡Œé¢åº”ç”¨
- Electron + Vue/React
- Java Swing / JavaFX
- ä¼˜ç‚¹ï¼šæ€§èƒ½å¥½ï¼Œå¯ç¦»çº¿
```

## æœ€åçš„å»ºè®®

### ğŸ¯ ä»æœ€ç®€å•çš„å¼€å§‹

> ç¬¬ä¸€é˜¶æ®µï¼ˆMVPæœ€å°å¯è¡Œäº§å“ï¼‰ï¼š
> âœ“ æ¡å½¢ç æ‰«æè¯†åˆ«å•†å“  **å‚å®¶æä¾›çš„äºŒç»´ç **
> âœ“ RFIDæ ‡ç­¾è¯»å–
> âœ“ åŸºç¡€å…¥åº“åŠŸèƒ½
> âœ“ æœ¬åœ°SQLiteå­˜å‚¨
>
> æ—¶é—´ï¼š2-3å‘¨
> ç›®æ ‡ï¼šéªŒè¯æ ¸å¿ƒæµç¨‹å¯è¡Œæ€§
>
> ç¬¬äºŒé˜¶æ®µï¼ˆæ ¸å¿ƒåŠŸèƒ½å®Œå–„ï¼‰ï¼š
> âœ“ å‡ºåº“ã€ç›˜ç‚¹åŠŸèƒ½
> âœ“ æ•°æ®åŒæ­¥åˆ°æœåŠ¡å™¨
> âœ“ åŸºç¡€æŠ¥è¡¨
>
> æ—¶é—´ï¼š2-3å‘¨
> ç›®æ ‡ï¼šæ»¡è¶³æ—¥å¸¸ä½¿ç”¨éœ€æ±‚
>
> ç¬¬ä¸‰é˜¶æ®µï¼ˆé«˜çº§åŠŸèƒ½ï¼‰ï¼š
> âœ“ PCç®¡ç†ç«¯
> âœ“ é¢„å…³è”å…¥åº“
> âœ“ é«˜çº§æŠ¥è¡¨å’Œç»Ÿè®¡
> âœ“ ç§»åŠ¨AppæŸ¥è¯¢
>
> æ—¶é—´ï¼š3-4å‘¨
> ç›®æ ‡ï¼šæå‡æ•ˆç‡å’Œç”¨æˆ·ä½“éªŒ

### ğŸ’¡ å…³é”®æˆåŠŸå› ç´ 

1. **æ ‡ç­¾è´¨é‡**ï¼šé€‰æ‹©è´¨é‡å¥½çš„æ ‡ç­¾ï¼Œå‡å°‘æ•…éšœç‡
2. **æ•°æ®å‡†ç¡®**ï¼šæå‰å½•å…¥å®Œæ•´çš„å•†å“æ•°æ®ï¼ˆå«æ¡å½¢ç ï¼‰
3. **å‘˜å·¥åŸ¹è®­**ï¼šå……åˆ†åŸ¹è®­ï¼Œé™ä½æŠµè§¦æƒ…ç»ª
4. **å¾ªåºæ¸è¿›**ï¼šå…ˆå°èŒƒå›´è¯•ç‚¹ï¼Œå†å…¨é¢æ¨å¹¿
5. **æŒç»­ä¼˜åŒ–**ï¼šæ”¶é›†åé¦ˆï¼Œä¸æ–­æ”¹è¿›

### ğŸ“ å¦‚æœéœ€è¦è¿›ä¸€æ­¥å¸®åŠ©

æˆ‘å¯ä»¥æä¾›ï¼š

- âœ… è¯¦ç»†çš„ä»£ç å®ç°ï¼ˆå®Œæ•´Activityï¼‰
- âœ… æ•°æ®åº“SQLè„šæœ¬
- âœ… APIæ¥å£è®¾è®¡æ–‡æ¡£
- âœ… UIç•Œé¢è®¾è®¡åŸå‹
- âœ… å…·ä½“æŠ€æœ¯é—®é¢˜è§£ç­”

**ç°åœ¨ï¼Œä½ å¯ä»¥å¼€å§‹åŠ¨æ‰‹å®æ–½äº†ï¼ç¥é¡¹ç›®é¡ºåˆ©ï¼** ğŸš€
