# Logo上传

不知道有没有现成的接口

## 智能体logo上传

编辑回显   展示logo  待补充





## 节点logo上传





















# Bug修复

## 节点

原始的父节点id 我想着比较多，就设置为输入的方式，但是原型提供的是下拉框，那就只能修改了

这次使用批量发送消息的方式去一次获得数据

**节点列表封面显示有问题**

## 智能体回显

回显保存的时候，封面必须选择一个才能提交，否则也没有显示，理想的效果应该是，编辑根据得到的logo 是否为纯数字  

现在的回显是有问题的，根据logo的值的类型来专门回显

## html节点

1. 问题1：初始没有节点的时候，在工具栏添加按钮点击添加节点后，画布没有显示，刷新也没有用

   通过对原有的渲染G6图标的js文件进行分析得到了

   > 我们在初始化页面的时候，会先loadAllNodeData  加载节点数据并渲染，但是没有数据的时候就直接给返回了
   >
   > ```
   > hideLoading();
   > if (!objdata.nodeRelationDataHTML || objdata.nodeRelationDataHTML.nodes.length === 0) {
   >     showEmptyState();
   >     return;
   > }
   > ```

2. 问题2：在展开编辑保存提交后，关闭了所有的弹窗，理论上应该是刷新画布

经历这么多次的调整和修改，代码结构太差，需要重新调整一下！！！

处理一下得到logo为空的情况，同时添加或者更新节点信息的时候，如果选择了关联插件，那么单选框默认选择使用数据插件内容，回显部分也得优化一下代码结构，调整整体代码顺序，将角色数据配置和适用端配置以及选中的值，给我放到objdata中，使代码结构更流畅

## 展开后编辑插件，编辑成功后页面全部关了

经过很久的修复，可算解决了，

又是缝缝补补









































