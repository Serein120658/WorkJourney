# util工具类

## DBUtil（DBUtil消息工具类）

**DBUtil消息工具类，后台操作数据库查询**

### com.whoami.db.DBUtil

```java
    /**
     * 批量语句查询
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return List 多个语句返回对象
     */
    public static List<JSONObject> selectResultSetJSON(String dtype, String did, String sql) {}

    /**
     * 批量执行sql
     *
     * @param InsertSqls sql数组
     * @param con        数据库连接
     * @param st         statement
     * @return 返回执行结果re、error
     */
    public static String ExecuteSqls(List<String> InsertSqls, Connection con, Statement st) {}

    /**
     * sql查询，数组对象
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 数组对象
     * length 结果个数
     */
    public static JSONObject selectJSON(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request) {}

    /**
     * sql查询，数组对象
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 数组对象
     * length 结果个数
     */
    public static JSONObject selectJSON(String dtype, String did, String sql, JSONObject objmsg, ReqData request) {}

    /**
     * sql查询，数组对象
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 数组对象
     * length 结果个数
     */
    public static JSONObject selectJSON(String dtype, String did, String sql) {}

    /**
     * sql查询，返回Map
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return Map<String, Object>
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 数组对象
     * length 结果个数
     */
    public static Map<String, Object> selectMap(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request) {}

    /**
     * sql查询，返回Map
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return Map<String, Object>
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 数组对象
     * length 结果个数
     */
    public static Map<String, Object> selectMap(String dtype, String did, String sql, JSONObject objmsg, ReqData request) {}

    /**
     * sql查询，返回Map
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return Map<String, Object>
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 数组对象
     * length 结果个数
     */
    public static Map<String, Object> selectMap(String dtype, String did, String sql) {}

    /**
     * sql查询，返回单条数据
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * ... 结果对象
     * length 结果个数
     */
    public static JSONObject selectOneJSON(String dtype, String did, String sql) {}

    /**
     * sql查询，返回单条数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * ... 结果对象
     * length 结果个数
     */
    public static JSONObject selectOneJSON(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request) {}

    /**
     * sql查询，返回单条数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * ... 结果对象
     * length 结果个数
     */
    public static JSONObject selectOneJSON(String dtype, String did, String sql, JSONObject objmsg, ReqData request) {}

    /**
     * sql查询，返回单条数据
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return Map<String, Object>
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * ... 结果对象
     * length 结果个数
     */
    public static Map<String, Object> selectOneMap(String dtype, String did, String sql) {}

    /**
     * sql查询，返回单条数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return Map<String, Object>
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * ... 结果对象
     * length 结果个数
     */
    public static Map<String, Object> selectOneMap(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request) {}

    /**
     * sql查询，返回单条数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return Map<String, Object>
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * ... 结果对象
     * length 结果个数
     */
    public static Map<String, Object> selectOneMap(String dtype, String did, String sql, JSONObject objmsg, ReqData request) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return JSONArray
     * 返回数组数据，错误也会返回空数组
     */
    public static JSONArray selectArray(String dtype, String did, String sql) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return JSONArray
     * 返回数组数据，错误也会返回空数组
     */
    public static JSONArray selectArray(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype  数据库类型
     * @param did    数据库连接关键字
     * @param sql    sql语句
     * @param objmsg 消息对象
     * @param req    请求头对象
     * @return JSONArray
     * 返回数组数据，错误也会返回空数组
     */
    public static JSONArray selectArray(String dtype, String did, String sql, JSONObject objmsg, ReqData req) {}

    /**
     * sql查询，返回数组List
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return List
     * 返回数组数据，错误也会返回空数组
     */
    public static List<Map<String, Object>> selectList(String dtype, String did, String sql) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return List
     * 返回数组数据，错误也会返回空数组
     */
    public static List<Map<String, Object>> selectList(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype  数据库类型
     * @param did    数据库连接关键字
     * @param sql    sql语句
     * @param objmsg 消息对象
     * @param req    请求头对象
     * @return List
     * 返回数组数据，错误也会返回空数组
     */
    public static List<Map<String, Object>> selectList(String dtype, String did, String sql, JSONObject objmsg, ReqData req) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sql   sql语句
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 结果数组
     * length 结果个数
     */
    public static JSONObject select(String dtype, String did, String sql) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 结果数组
     * length 结果个数
     */
    public static JSONObject select(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request, boolean useseer) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 结果数组
     * length 结果个数
     */
    public static JSONObject select(String dtype, String did, String sql, JSONObject objmsg, HttpServletRequest request) {}

    /**
     * sql查询，返回数组数据
     *
     * @param dtype   数据库类型
     * @param did     数据库连接关键字
     * @param sql     sql语句
     * @param objmsg  消息对象
     * @param request 请求头对象
     * @return JSONObject
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * arrdata 结果数组
     * length 结果个数
     */
    public static JSONObject select(String dtype, String did, String sql, JSONObject objmsg, ReqData request, boolean useseer) {}

    /**
     * 插入批量语句
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sqls  sql字符串多个分号分隔
     * @return 结果
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * 对象对应传入sql下表返回执行结果
     */
    public static JSONObject insertSql(String dtype, String did, String sqls) {}

    /**
     * insert规则 code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错 4:56 无结果
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param map       Map数据对象
     * @param where     查询条件：传入先查询，查到更新，差不多插入
     * @param request   请求对象
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，数据库id
     */
    public static JSONObject insert(String dtype, String did, String tablename, LinkedHashMap<String, ?> map, String where, HttpServletRequest request) {}

    /**
     * insert规则 code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错 4:56 无结果
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param strField  字段
     * @param strvalue  字段对应值
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，数据库id
     */
    public static JSONObject insert(String dtype, String did, String tablename, String strField, String strvalue) {}

    /**
     * insert规则 code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错 4:56 无结果
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param strField  字段
     * @param strvalue  字段对应值
     * @param where     查询条件：传入先查询，查到更新，差不多插入
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，数据库id
     */
    public static JSONObject insert(String dtype, String did, String tablename, String strField, String strvalue, String where) {}

    /**
     * insert规则 code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错 4:56 无结果
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param strField  字段
     * @param strvalue  字段对应值
     * @param where     查询条件：传入先查询，查到更新，差不多插入
     * @param request   请求头
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，数据库id
     */
    public static JSONObject insert(String dtype, String did, String tablename, String strField, String strvalue, String where, HttpServletRequest request) {}

    /**
     * insert规则 code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错 4:56 无结果
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param strField  字段
     * @param strValue  字段对应值
     * @param where     查询条件：传入先查询，查到更新，差不多插入V
     * @param obj       请求头对象
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，数据库id
     */
    public static JSONObject insert(String dtype, String did, String tablename, String strField, String strValue, String where, Map<String, Object> obj) {}

    /**
     * insert规则 code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错 4:56 无结果
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param strField  字段
     * @param strValue  字段对应值
     * @param where     查询条件：传入先查询，查到更新，差不多插入V
     * @param obj       请求头对象
     * @param locked    是否锁
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，数据库id
     */
    public static JSONObject insert(String dtype, String did, String tablename, String strField, String strValue, String where, Map<String, Object> obj, boolean locked) {}


    /**
     * update规则
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param str       字段对应值 如 isdel=0
     * @param where     查询条件：传入先查询，查到更新，差不多插入V
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，条数
     */
    public static JSONObject update(String dtype, String did, String tablename, String str, String where) {}

    /**
     * update规则
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param str       字段对应值 如 isdel=0
     * @param where     查询条件：传入先查询，查到更新，差不多插入V
     * @param request   请求头
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，条数
     */
    public static JSONObject update(String dtype, String did, String tablename, String str, String where, HttpServletRequest request) {}

    /**
     * update规则
     *
     * @param dtype      数据库类型
     * @param did        数据库连接关键字
     * @param tablename  表名
     * @param str        字段对应值 如 isdel=0
     * @param where      查询条件：传入先查询，查到更新，差不多插入V
     * @param sessionObj 请求头
     * @return code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功，返回值，条数
     */
    public static JSONObject update(String dtype, String did, String tablename, String str, String where, String objfrom, Map<String, Object> sessionObj) {}


    /**
     * 删除规则
     * code 没有代表成功  1 数据库类型不能为空2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 结果
     *
     * @param dtype
     * @param did
     * @param tablename
     * @param where
     * @return
     */
    public static JSONObject delete(String dtype, String did, String tablename, String where) {}

    /**
     * 批量执行语句
     *
     * @param dtype      数据库类型
     * @param did        数据库连接关键字
     * @param InsertSqls sql数组
     * @return code 没有代表成功  1 数据库类型不能为空2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * re 成功了
     */
    public static JSONObject ExecuteSqls(String dtype, String did, List<String> InsertSqls) {}

    /**
     * 填充字段
     *
     * @param rs     1
     * @param rsmd   2
     * @param obj    3
     * @param objmsg 4
     * @throws SQLException 5
     */
    public static void getType(ResultSet rs, ResultSetMetaData rsmd, JSONObject obj, JSONObject objmsg) throws SQLException {}

    public static void getType(ResultSet rs, ResultSetMetaData rsmd, Map<String, Object> obj, JSONObject objmsg) throws SQLException {}

    /***
     * 获取字段类型值
     * @param rs 1
     * @param columnName 2
     * @param columnType 3
     * @return 4
     * @throws SQLException 5
     */
    public static Object getColumnValue(ResultSet rs, String columnName, int columnType) throws SQLException {}

    /**
     * 修复已经有的insert语句
     *
     * @param sql     1
     * @param request 2
     * @return 3
     */
    public static String fixInsertSql(String sql, HttpServletRequest request) {}

    /**
     * 可是范围设置
     *
     * @param sql
     * @param objmsg
     * @param request
     * @return
     */
    public static String fixselectsql(String sql, JSONObject objmsg, ReqData request) {}

    public static String getStrSeeLimit(String xmlseer, String maintable, ReqData req) {}


    /**
     * 批量提交(支持事物)
     *
     * @param listArr 多个数据源 支持统一回滚
     * @return
     */
    public static String ExecuteSqlsTransaction(List<String[]> listArr) {}

    /**
     * 释放数据库资源
     *
     * @param list
     */
    public static void destroyDB(List<Map<String, Object>> list) {}

    /**
     * 获取SQL语句信息
     *
     * @param con
     * @param st
     * @param arritem
     * @return
     */
    public static JSONObject getSql(Connection con, Statement st, String[] arritem) {}


    /**
     * 返回Insert或update语句
     * 用于批量执行返回sql
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param strField  字段
     * @param objdata   值对象
     * @param where     条件，有返回update语句，没有返回insert
     * @param request   请求头
     * @return code 没有代表成功  1 数据库类型不能为空2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * sql sql语句
     */
    public static JSONObject ReturnInsertSql(String dtype, String did, String tablename, String strField, JSONObject objdata, String where, HttpServletRequest request) {}

    /**
     * 返回Insert或update语句
     * 用于批量执行返回sql
     *
     * @param dtype     数据库类型
     * @param did       数据库连接关键字
     * @param tablename 表名
     * @param strField  字段
     * @param strvalue  值逗号隔开
     * @param where     条件，有返回update语句，没有返回insert
     * @param request   请求头
     * @return code 没有代表成功  1 数据库类型不能为空2:数据库连接失败 3:执行语句出错
     * msg 错误描述
     * sql sql语句
     */
    public static JSONObject ReturnInsertSql(String dtype, String did, String tablename, String strField, String strvalue, String where, HttpServletRequest request) {}

    /**
     * 返回Insert或update语句
     * 用于批量执行返回sql
     *
     * @param con       数据库连接
     * @param st        statement
     * @param rs        resultset
     * @param tablename 表名
     * @param strField  字段
     * @param strvalue  值
     * @param where     条件，有返回update语句，没有返回insert
     * @param request   请求头
     * @return msg 错误描述
     * sql sql语句
     */
    public static JSONObject ReturnInsertSql(Connection con, Statement st, ResultSet rs, String tablename, String strField, String strvalue, String where, HttpServletRequest request) {}

    /**
     * 处理sql字段值value拼接
     *
     * @param dtype
     * @param did
     * @param tablename
     * @param strField
     * @param objdata
     * @param isreplace
     * @return
     */
    public static JSONObject getInsertValue(String dtype, String did, String tablename, String strField, JSONObject objdata, boolean isreplace) {}
```

## BeanUtils（Bean 工具类）

### com.whoami.util.bean.BeanUtils

```java
    /**
     * Bean属性复制工具方法。
     * 
     * @param dest 目标对象
     * @param src 源对象
     */
    public static void copyBeanProp(Object dest, Object src)
    {}

    /**
     * 获取对象的setter方法。
     * 
     * @param obj 对象
     * @return 对象的setter方法列表
     */
    public static List<Method> getSetterMethods(Object obj)
    {}

    /**
     * 获取对象的getter方法。
     * 
     * @param obj 对象
     * @return 对象的getter方法列表
     */

    public static List<Method> getGetterMethods(Object obj)
    {}

    /**
     * 检查Bean方法名中的属性名是否相等。<br/>
     * 如getName()和setName()属性名一样，getName()和setAge()属性名不一样。
     * 
     * @param m1 方法名1
     * @param m2 方法名2
     * @return 属性名一样返回true，否则返回false
     */

    public static boolean isMethodPropEquals(String m1, String m2)
    {}
```



## ReflectUtils（反射工具类）

### com.whoami.util.reflect.ReflectUtils

```java
    /**
     * 调用Getter方法.
     * 支持多级，如：对象名.对象名.方法
     */
    @SuppressWarnings("unchecked")
    public static <E> E invokeGetter(Object obj, String propertyName)
    {}

    /**
     * 调用Setter方法, 仅匹配方法名。
     * 支持多级，如：对象名.对象名.方法
     */
    public static <E> void invokeSetter(Object obj, String propertyName, E value)
    {}

    /**
     * 直接读取对象属性值, 无视private/protected修饰符, 不经过getter函数.
     */
    @SuppressWarnings("unchecked")
    public static <E> E getFieldValue(final Object obj, final String fieldName)
    {}

    /**
     * 直接设置对象属性值, 无视private/protected修饰符, 不经过setter函数.
     */
    public static <E> void setFieldValue(final Object obj, final String fieldName, final E value)
    {}

    /**
     * 直接调用对象方法, 无视private/protected修饰符.
     * 用于一次性调用的情况，否则应使用getAccessibleMethod()函数获得Method后反复调用.
     * 同时匹配方法名+参数类型，
     */
    @SuppressWarnings("unchecked")
    public static <E> E invokeMethod(final Object obj, final String methodName, final Class<?>[] parameterTypes,
            final Object[] args)
    {}

    /**
     * 直接调用对象方法, 无视private/protected修饰符，
     * 用于一次性调用的情况，否则应使用getAccessibleMethodByName()函数获得Method后反复调用.
     * 只匹配函数名，如果有多个同名函数调用第一个。
     */
    @SuppressWarnings("unchecked")
    public static <E> E invokeMethodByName(final Object obj, final String methodName, final Object[] args)
    {}

    /**
     * 循环向上转型, 获取对象的DeclaredField, 并强制设置为可访问.
     * 如向上转型到Object仍无法找到, 返回null.
     */
    public static Field getAccessibleField(final Object obj, final String fieldName)
    {}

    /**
     * 循环向上转型, 获取对象的DeclaredMethod,并强制设置为可访问.
     * 如向上转型到Object仍无法找到, 返回null.
     * 匹配函数名+参数类型。
     * 用于方法需要被多次调用的情况. 先使用本函数先取得Method,然后调用Method.invoke(Object obj, Object... args)
     */
    public static Method getAccessibleMethod(final Object obj, final String methodName,
            final Class<?>... parameterTypes)
    {}

    /**
     * 循环向上转型, 获取对象的DeclaredMethod,并强制设置为可访问.
     * 如向上转型到Object仍无法找到, 返回null.
     * 只匹配函数名。
     * 用于方法需要被多次调用的情况. 先使用本函数先取得Method,然后调用Method.invoke(Object obj, Object... args)
     */
    public static Method getAccessibleMethodByName(final Object obj, final String methodName, int argsNum)
    {}

    /**
     * 改变private/protected的方法为public，尽量不调用实际改动的语句，避免JDK的SecurityManager抱怨。
     */
    public static void makeAccessible(Method method)
    {}

    /**
     * 改变private/protected的成员变量为public，尽量不调用实际改动的语句，避免JDK的SecurityManager抱怨。
     */
    public static void makeAccessible(Field field)
    {}

    /**
     * 通过反射, 获得Class定义中声明的泛型参数的类型, 注意泛型必须定义在父类处
     * 如无法找到, 返回Object.class.
     */
    @SuppressWarnings("unchecked")
    public static <T> Class<T> getClassGenricType(final Class clazz)
    {}

    /**
     * 通过反射, 获得Class定义中声明的父类的泛型参数的类型.
     * 如无法找到, 返回Object.class.
     */
    public static Class getClassGenricType(final Class clazz, final int index)
    {}

    public static Class<?> getUserClass(Object instance)
    {}

    /**
     * 将反射时的checked exception转换为unchecked exception.
     */
    public static RuntimeException convertReflectionExceptionToUnchecked(String msg, Exception e)
    {}
```

## SignUtil（签名工具类）

### com.whoami.util.sign.SignUtil

```java
    /***
     * 签名工具类
     * 请求头信息包括以下字段：
     * 平台为调用方分配的appid。
     * 时间戳timestamp，5分钟内数据有效。
     * 流水号noncestr（防止重复提交），至少为10位。
     * 签名sign，所有数据的签名信息。
     *
     * 1. 数据组成
     * Path：按照path字典序排序，将所有key=valuekey=value进行拼接
     * Parameter：按照key字典序排序，将所有key=valuekey=value进行拼接
     * Body：整个Json字符串作为一个拼接
     * String delimiter = "^_^";
     * 如果存在多种数据形式，则按照Path、Parameter、Body的顺序进行再拼接，分隔符delimiter，如果某个数据不存在则跳过，得到所有数据的拼接值。上述拼接的值记作 Y
     * 2. 请求头部分
     * X="appid=xxxnoncestr=xxxtimestamp=xxx"
     * 3. 生成sign签名
     * 最终拼接值=XY
     * 最后将最终拼接值按照如下方法进行加密得到签名。
     *
     * String delimiter = "^_^";
     * sign = MD5Util.MD5Encode(X + delimiter + Y +  delimiter + appsecret, "utf-8").toUpperCase();
     * 目前支持的签名算法是：MD5(sign_method=md5)
     */
     public void main(){
        /**童帮服务方提供*/
        String appid = "appid";
        /**童帮服务方提供*/
        String secret = "secret";

        Map<String, String> headers = new HashMap<>();
        Map<String, String> paths = new HashMap<>();
        Map<String, String> params = new HashMap<>();
        //请求头
        headers.put("appid", appid);
        headers.put("timestamp", String.valueOf(getCurrentTimestamp()));
        headers.put("noncestr", getNonceStr());
        //path
        paths.put("id", "123");
        paths.put("type", "get");
        //params
        params.put("name", "zhangsan");
        params.put("sex", "man");

        JSONObject objBody = new JSONObject();
        //body格式：标准JSON字符串
        objBody.put("name", "lisi");
        objBody.put("age", 30);
        objBody.put("address", "beijing");
        String signValue = getSign(headers, paths, params, objBody.toString(), secret);
        System.out.println("sign:" + signValue);
    }
    /**
     * 获取签名 测试
     *
     * @param
     * @return
     */
    @PostMapping(value = "/getwithouttime")
    public String getwithouttime(@RequestHeader() Map<String, String> header, @PathVariable() Map<String, String> path, @RequestParam() Map<String, String> param, @RequestBody String postdata) {
        log.info("postdata{}", postdata);
        String secret = SignUtil.getSecret(header.get("appid"));
        String timestamp = String.valueOf(SignUtil.getCurrentTimestamp());
        String noncestr = SignUtil.getNonceStr();
        header.put("timestamp", timestamp);
        header.put("noncestr", noncestr);
        String sign = SignUtil.getSign(header, path, param, postdata, secret);
        JSONObject postObj = new JSONObject();
        JSONObject resObj = new JSONObject();
        resObj.put("timestamp", timestamp);
        resObj.put("noncestr", noncestr);
        resObj.put("sign", sign);
        postObj.put("code", "0");
        postObj.put("data", resObj);
        return postObj.toString();
    }
    
    
    
    /***
     * 接收请求，检查签名
     * 接收方验证：参数同请求一致
     * GET方式
     */
    @GetMapping(value = "/getDayAttendance")
    public String getDayAttendance(@RequestHeader() Map<String, String> header, @PathVariable() Map<String, String> path, @RequestParam() Map<String, String> param) {
        JSONObject appObj = new JSONObject();
        appObj.put("appid", appid);//用配置appid替换
        appObj.put("appsecret", secret);//用配置appsecret替换
        JSONObject signObj = checkSign(header, path, param, "", appObj);
    }
    
    /***
     * 接收请求，检查签名
     * 接收方验证：参数同请求一致
     * POST方式
     */
     @PostMapping(value = "/create")
    public String createYey(@RequestHeader() Map<String, String> header, @PathVariable() Map<String, String> path, @RequestParam() Map<String, String> param, @RequestBody String postdata) {
        log.info("--------------------------/yey/create header:{} body:{} bodylength:{}", header.toString(), postdata, postdata.length());
        JSONObject appObj = new JSONObject();
        appObj.put("appid", appid);//用配置appid替换
        appObj.put("appsecret", secret);//用配置appsecret替换
        JSONObject checkObj = SignUtil.checkSign(header, path, param, postdata, appObj);
        JSONObject resObj = new JSONObject();
    }
    
    
    //童帮获取appid、appsecret
    JSONObject appObj = AuthDataTool.getAPPIDKEY("tongbang");
```

## SpringUtils（spring工具类）

**spring工具类 方便在非spring管理环境中获取bean**

### com.whoami.util.spring.SpringUtils

```java
    /** Spring应用上下文环境 */
    private static ConfigurableListableBeanFactory beanFactory;

    private static ApplicationContext applicationContext;

    @Override
    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException 
    {
        SpringUtils.beanFactory = beanFactory;
    }

    @Override
    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException 
    {
        SpringUtils.applicationContext = applicationContext;
    }

    /**
     * 获取对象
     *
     * @param name
     * @return Object 一个以所给名字注册的bean的实例
     * @throws BeansException
     *
     */
    @SuppressWarnings("unchecked")
    public static <T> T getBean(String name) throws BeansException
    {
        return (T) beanFactory.getBean(name);
    }

    /**
     * 获取类型为requiredType的对象
     *
     * @param clz
     * @return
     * @throws BeansException
     *
     */
    public static <T> T getBean(Class<T> clz) throws BeansException
    {
        T result = (T) beanFactory.getBean(clz);
        return result;
    }

    /**
     * 如果BeanFactory包含一个与所给名称匹配的bean定义，则返回true
     *
     * @param name
     * @return boolean
     */
    public static boolean containsBean(String name)
    {
        return beanFactory.containsBean(name);
    }

    /**
     * 判断以给定名字注册的bean定义是一个singleton还是一个prototype。 如果与给定名字相应的bean定义没有被找到，将会抛出一个异常（NoSuchBeanDefinitionException）
     *
     * @param name
     * @return boolean
     * @throws NoSuchBeanDefinitionException
     *
     */
    public static boolean isSingleton(String name) throws NoSuchBeanDefinitionException
    {
        return beanFactory.isSingleton(name);
    }

    /**
     * @param name
     * @return Class 注册对象的类型
     * @throws NoSuchBeanDefinitionException
     *
     */
    public static Class<?> getType(String name) throws NoSuchBeanDefinitionException
    {
        return beanFactory.getType(name);
    }

    /**
     * 如果给定的bean名字在bean定义中有别名，则返回这些别名
     *
     * @param name
     * @return
     * @throws NoSuchBeanDefinitionException
     *
     */
    public static String[] getAliases(String name) throws NoSuchBeanDefinitionException
    {
        return beanFactory.getAliases(name);
    }

    /**
     * 获取aop代理对象
     * 
     * @param invoker
     * @return
     */
    @SuppressWarnings("unchecked")
    public static <T> T getAopProxy(T invoker)
    {
        return (T) AopContext.currentProxy();
    }

    /**
     * 获取当前的环境配置，无配置返回null
     *
     * @return 当前的环境配置
     */
    public static String[] getActiveProfiles()
    {
        return applicationContext.getEnvironment().getActiveProfiles();
    }

    /**
     * 获取当前的环境配置，当有多个环境配置时，只获取第一个
     *
     * @return 当前的环境配置
     */
    public static String getActiveProfile()
    {
        final String[] activeProfiles = getActiveProfiles();
        return StringUtils.isNotEmpty(activeProfiles) ? activeProfiles[0] : null;
    }

    /**
     * 获取配置文件中的值
     *
     * @param key 配置文件的key
     * @return 当前的配置文件的值
     *
     */
    public static String getRequiredProperty(String key)
    {
        return applicationContext.getEnvironment().getRequiredProperty(key);
    }
```

## ConvertUtil（类型转换器）

### com.whoami.util.text.ConvertUtil

```java
    /**
     * 转换为字符串<br/>
     * 如果给定的值为null，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static String toStr(Object value, String defaultValue) {}

    /**
     * 转换为字符串<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static String toStr(Object value) {}

    /**
     * 转换为字符<br/>
     * 如果给定的值为null，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Character toChar(Object value, Character defaultValue) {}

    /**
     * 转换为字符<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Character toChar(Object value) {}

    /**
     * 转换为byte<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Byte toByte(Object value, Byte defaultValue) {}

    /**
     * 转换为byte<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Byte toByte(Object value) {}

    /**
     * 转换为Short<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Short toShort(Object value, Short defaultValue) {}

    /**
     * 转换为Short<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Short toShort(Object value) {}

    /**
     * 转换为Number<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Number toNumber(Object value, Number defaultValue) {}

    /**
     * 转换为Number<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Number toNumber(Object value) {}

    /**
     * 转换为int<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Integer toInt(Object value, Integer defaultValue) {}

    /**
     * 转换为int<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Integer toInt(Object value) {}

    /**
     * 转换为Integer数组<br/>
     *
     * @param str 被转换的值
     * @return 结果
     */
    public static Integer[] toIntArray(String str) {}

    /**
     * 转换为Long数组<br/>
     *
     * @param str 被转换的值
     * @return 结果
     */
    public static Long[] toLongArray(String str) {}

    /**
     * 转换为Integer数组<br/>
     *
     * @param split 分隔符
     * @param split 被转换的值
     * @return 结果
     */
    public static Integer[] toIntArray(String split, String str) {}

    /**
     * 转换为Long数组<br/>
     *
     * @param split 分隔符
     * @param str   被转换的值
     * @return 结果
     */
    public static Long[] toLongArray(String split, String str) {}

    /**
     * 转换为String数组<br/>
     *
     * @param str 被转换的值
     * @return 结果
     */
    public static String[] toStrArray(String str) {}

    /**
     * 转换为String数组<br/>
     *
     * @param split 分隔符
     * @param split 被转换的值
     * @return 结果
     */
    public static String[] toStrArray(String split, String str) {
        return str.split(split);
    }

    /**
     * 转换为long<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Long toLong(Object value, Long defaultValue) {}

    /**
     * 转换为long<br/>
     * 如果给定的值为<code>null</code>，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Long toLong(Object value) {}

    /**
     * 转换为double<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Double toDouble(Object value, Double defaultValue) {}

    /**
     * 转换为double<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Double toDouble(Object value) {}

    /**
     * 转换为Float<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Float toFloat(Object value, Float defaultValue) {}

    /**
     * 转换为Float<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Float toFloat(Object value) {}

    /**
     * 转换为boolean<br/>
     * String支持的值为：true、false、yes、ok、no，1,0 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static Boolean toBool(Object value, Boolean defaultValue) {}

    /**
     * 转换为boolean<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static Boolean toBool(Object value) {}

    /**
     * 转换为Enum对象<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     *
     * @param clazz        Enum的Class
     * @param value        值
     * @param defaultValue 默认值
     * @return Enum
     */
    public static <E extends Enum<E>> E toEnum(Class<E> clazz, Object value, E defaultValue) {}

    /**
     * 转换为Enum对象<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<code>null</code><br/>
     *
     * @param clazz Enum的Class
     * @param value 值
     * @return Enum
     */
    public static <E extends Enum<E>> E toEnum(Class<E> clazz, Object value) {}

    /**
     * 转换为BigInteger<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static BigInteger toBigInteger(Object value, BigInteger defaultValue) {}

    /**
     * 转换为BigInteger<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<code>null</code><br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static BigInteger toBigInteger(Object value) {}

    /**
     * 转换为BigDecimal<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value        被转换的值
     * @param defaultValue 转换错误时的默认值
     * @return 结果
     */
    public static BigDecimal toBigDecimal(Object value, BigDecimal defaultValue) {}

    /**
     * 转换为BigDecimal<br/>
     * 如果给定的值为空，或者转换失败，返回默认值<br/>
     * 转换失败不会报错
     *
     * @param value 被转换的值
     * @return 结果
     */
    public static BigDecimal toBigDecimal(Object value) {}

    /**
     * 将对象转为字符串<br/>
     * 1、Byte数组和ByteBuffer会被转换为对应字符串的数组 2、对象数组会调用Arrays.toString方法
     *
     * @param obj 对象
     * @return 字符串
     */
    public static String utf8Str(Object obj) {}

    /**
     * 将对象转为字符串<br/>
     * 1、Byte数组和ByteBuffer会被转换为对应字符串的数组 2、对象数组会调用Arrays.toString方法
     *
     * @param obj         对象
     * @param charsetName 字符集
     * @return 字符串
     */
    public static String str(Object obj, String charsetName) {}

    /**
     * 将对象转为字符串<br/>
     * 1、Byte数组和ByteBuffer会被转换为对应字符串的数组 2、对象数组会调用Arrays.toString方法
     *
     * @param obj     对象
     * @param charset 字符集
     * @return 字符串
     */
    public static String str(Object obj, Charset charset) {}

    /**
     * 将byte数组转为字符串
     *
     * @param bytes   byte数组
     * @param charset 字符集
     * @return 字符串
     */
    public static String str(byte[] bytes, String charset) {}

    /**
     * 解码字节码
     *
     * @param data    字符串
     * @param charset 字符集，如果此字段为空，则解码的结果取决于平台
     * @return 解码后的字符串
     */
    public static String str(byte[] data, Charset charset) {}

    /**
     * 将编码的byteBuffer数据转换为字符串
     *
     * @param data    数据
     * @param charset 字符集，如果为空使用当前系统字符集
     * @return 字符串
     */
    public static String str(ByteBuffer data, String charset) {}

    /**
     * 将编码的byteBuffer数据转换为字符串
     *
     * @param data    数据
     * @param charset 字符集，如果为空使用当前系统字符集
     * @return 字符串
     */
    public static String str(ByteBuffer data, Charset charset) {}

    // ----------------------------------------------------------------------- 全角半角转换

    /**
     * 半角转全角
     *
     * @param input String.
     * @return 全角字符串.
     */
    public static String toSBC(String input) {}

    /**
     * 半角转全角
     *
     * @param input         String
     * @param notConvertSet 不替换的字符集合
     * @return 全角字符串.
     */
    public static String toSBC(String input, Set<Character> notConvertSet) {}

    /**
     * 全角转半角
     *
     * @param input String.
     * @return 半角字符串
     */
    public static String toDBC(String input) {}

    /**
     * 替换全角为半角
     *
     * @param text          文本
     * @param notConvertSet 不替换的字符集合
     * @return 替换后的字符
     */
    public static String toDBC(String text, Set<Character> notConvertSet) {}

    /**
     * 数字金额大写转换 先写个完整的然后将如零拾替换成零
     *
     * @param n 数字
     * @return 中文大写数字
     */
    public static String digitUppercase(double n) {}

    /***
     * JSON 转 对象
     * @param json
     * @param pojo
     * @return
     * @throws Exception
     */
    public static Object json2Object(JSONObject json, Class pojo) throws Exception {}

    /***
     * 将JSONObject转换为Map
     * @param jsonObject
     * @return
     */
    public static Map<String, Object> jsonObjToMap(JSONObject jsonObject){}
    
    /***
     * jsonArr转换为Map
     * @param jsonArray
     * @return
     */
    public static Map<String, Object> jsonArrToMap(JSONArray jsonArray) {}
```

## StringUtils（字符串工具类）

### com.whoami.util.text.StringUtils

```java
    /**
     * 获取参数不为空值
     * 
     * @param value defaultValue 要判断的value
     * @return value 返回值
     */
    public static <T> T nvl(T value, T defaultValue)
    {}

    /**
     * * 判断一个Collection是否为空， 包含List，Set，Queue
     * 
     * @param coll 要判断的Collection
     * @return true：为空 false：非空
     */
    public static boolean isEmpty(Collection<?> coll)
    {}

    /**
     * * 判断一个Collection是否非空，包含List，Set，Queue
     * 
     * @param coll 要判断的Collection
     * @return true：非空 false：空
     */
    public static boolean isNotEmpty(Collection<?> coll)
    {}

    /**
     * * 判断一个对象数组是否为空
     * 
     * @param objects 要判断的对象数组
     ** @return true：为空 false：非空
     */
    public static boolean isEmpty(Object[] objects)
    {}

    /**
     * * 判断一个对象数组是否非空
     * 
     * @param objects 要判断的对象数组
     * @return true：非空 false：空
     */
    public static boolean isNotEmpty(Object[] objects)
    {}

    /**
     * * 判断一个Map是否为空
     * 
     * @param map 要判断的Map
     * @return true：为空 false：非空
     */
    public static boolean isEmpty(Map<?, ?> map)
    {}

    /**
     * * 判断一个Map是否为空
     * 
     * @param map 要判断的Map
     * @return true：非空 false：空
     */
    public static boolean isNotEmpty(Map<?, ?> map)
    {}

    /**
     * * 判断一个字符串是否为空串
     * 
     * @param str String
     * @return true：为空 false：非空
     */
    public static boolean isEmpty(String str)
    {}

    /**
     * * 判断一个字符串是否为非空串
     * 
     * @param str String
     * @return true：非空串 false：空串
     */
    public static boolean isNotEmpty(String str)
    {}

    /**
     * * 判断一个对象是否为空
     * 
     * @param object Object
     * @return true：为空 false：非空
     */
    public static boolean isNull(Object object)
    {}

    /**
     * * 判断一个对象是否非空
     * 
     * @param object Object
     * @return true：非空 false：空
     */
    public static boolean isNotNull(Object object)
    {}

    /**
     * * 判断一个对象是否是数组类型（Java基本型别的数组）
     * 
     * @param object 对象
     * @return true：是数组 false：不是数组
     */
    public static boolean isArray(Object object)
    {}

    /**
     * 去空格
     */
    public static String trim(String str)
    {}

    /**
     * 替换指定字符串的指定区间内字符为"*"
     *
     * @param str 字符串
     * @param startInclude 开始位置（包含）
     * @param endExclude 结束位置（不包含）
     * @return 替换后的字符串
     */
    public static String hide(CharSequence str, int startInclude, int endExclude)
    {}

    /**
     * 截取字符串
     * 
     * @param str 字符串
     * @param start 开始
     * @return 结果
     */
    public static String substring(final String str, int start)
    {}

    /**
     * 截取字符串
     * 
     * @param str 字符串
     * @param start 开始
     * @param end 结束
     * @return 结果
     */
    public static String substring(final String str, int start, int end)
    {}

    /**
     * 判断是否为空，并且不是空白字符
     * 
     * @param str 要判断的value
     * @return 结果
     */
    public static boolean hasText(String str)
    {}

    private static boolean containsText(CharSequence str)
    {}

    /**
     * 格式化文本, {} 表示占位符<br/>
     * 此方法只是简单将占位符 {} 按照顺序替换为参数<br/>
     * 如果想输出 {} 使用 \\转义 { 即可，如果想输出 {} 之前的 \ 使用双转义符 \\\\ 即可<br/>
     * 例：<br/>
     * 通常使用：format("this is {} for {}", "a", "b") -> this is a for b<br/>
     * 转义{}： format("this is \\{} for {}", "a", "b") -> this is \{} for a<br/>
     * 转义\： format("this is \\\\{} for {}", "a", "b") -> this is \a for b<br/>
     * 
     * @param template 文本模板，被替换的部分用 {} 表示
     * @param params 参数值
     * @return 格式化后的文本
     */
    public static String format(String template, Object... params)
    {}

    /**
     * 是否为http(s)://开头
     * 
     * @param link 链接
     * @return 结果
     */
    public static boolean ishttp(String link)
    {}

    /**
     * 字符串转set
     * 
     * @param str 字符串
     * @param sep 分隔符
     * @return set集合
     */
    public static final Set<String> str2Set(String str, String sep)
    {}

    /**
     * 字符串转list
     * 
     * @param str 字符串
     * @param sep 分隔符
     * @param filterBlank 过滤纯空白
     * @param trim 去掉首尾空白
     * @return list集合
     */
    public static final List<String> str2List(String str, String sep, boolean filterBlank, boolean trim)
    {}

    /**
     * 判断给定的collection列表中是否包含数组array 判断给定的数组array中是否包含给定的元素value
     *
     * @param collection 给定的集合
     * @param array 给定的数组
     * @return boolean 结果
     */
    public static boolean containsAny(Collection<String> collection, String... array)
    {}

    /**
     * 查找指定字符串是否包含指定字符串列表中的任意一个字符串同时串忽略大小写
     *
     * @param cs 指定字符串
     * @param searchCharSequences 需要检查的字符串数组
     * @return 是否包含任意一个字符串
     */
    public static boolean containsAnyIgnoreCase(CharSequence cs, CharSequence... searchCharSequences)
    {}

    /**
     * 驼峰转下划线命名
     */
    public static String toUnderScoreCase(String str)
    {}

    /**
     * 是否包含字符串
     * 
     * @param str 验证字符串
     * @param strs 字符串组
     * @return 包含返回true
     */
    public static boolean inStringIgnoreCase(String str, String... strs)
    {}

    /**
     * 将下划线大写方式命名的字符串转换为驼峰式。如果转换前的下划线大写方式命名的字符串为空，则返回空字符串。 例如：HELLO_WORLD->HelloWorld
     * 
     * @param name 转换前的下划线大写方式命名的字符串
     * @return 转换后的驼峰式命名的字符串
     */
    public static String convertToCamelCase(String name)
    {}

    /**
     * 驼峰式命名法
     * 例如：user_name->userName
     */
    public static String toCamelCase(String s)
    {}

    /**
     * 查找指定字符串是否匹配指定字符串列表中的任意一个字符串
     * 
     * @param str 指定字符串
     * @param strs 需要检查的字符串数组
     * @return 是否匹配
     */
    public static boolean matches(String str, List<String> strs)
    {}

    /**
     * 判断url是否与规则配置: 
     * ? 表示单个字符; 
     * * 表示一层路径内的任意字符串，不可跨层级; 
     * ** 表示任意层路径;
     * 
     * @param pattern 匹配规则
     * @param url 需要匹配的url
     * @return
     */
    public static boolean isMatch(String pattern, String url)
    {}

    @SuppressWarnings("unchecked")
    public static <T> T cast(Object obj)
    {}

    /**
     * 数字左边补齐0，使之达到指定长度。注意，如果数字转换为字符串后，长度大于size，则只保留 最后size个字符。
     * 
     * @param num 数字对象
     * @param size 字符串指定长度
     * @return 返回数字的字符串格式，该字符串为指定长度。
     */
    public static final String padl(final Number num, final int size)
    {}

    /**
     * 字符串左补齐。如果原始字符串s长度大于size，则只保留最后size个字符。
     * 
     * @param s 原始字符串
     * @param size 字符串指定长度
     * @param c 用于补齐的字符
     * @return 返回指定长度的字符串，由原字符串左补齐或截取得到。
     */
    public static final String padl(final String s, final int size, final char c)
    {}
```



## DateUtil（日期的公共类部分）

### com.whoami.util.DateUtil

```java
    public static String YYYY = "yyyy";

    public static String YYYY_MM = "yyyy-MM";

    public static String YYYY_MM_DD = "yyyy-MM-dd";

    public static String YYYYMMDDHHMMSS = "yyyyMMddHHmmss";

    public static String YYYY_MM_DD_HH_MM_SS = "yyyy-MM-dd HH:mm:ss";

    private static String[] parsePatterns = {
            "yyyy-MM-dd", "yyyy-MM-dd HH:mm:ss", "yyyy-MM-dd HH:mm", "yyyy-MM",
            "yyyy/MM/dd", "yyyy/MM/dd HH:mm:ss", "yyyy/MM/dd HH:mm", "yyyy/MM",
            "yyyy.MM.dd", "yyyy.MM.dd HH:mm:ss", "yyyy.MM.dd HH:mm", "yyyy.MM"};

    /**
     * 获取当前Date型日期
     *
     * @return Date() 当前日期
     */
    public static Date getNowDate() {
    }

    /**
     * 获取当前日期, 默认格式为yyyy-MM-dd
     *
     * @return String
     */
    public static String getDate() {
    }

    public static final String getTime() {
    }

    public static final String dateTimeNow() {
    }

    public static final String dateTimeNow(final String format) {
    }

    public static final String dateTime(final Date date) {
    }

    public static final String parseDateToStr(final String format, final Date date) {
    }

    public static final Date dateTime(final String format, final String ts) {
    }

    /**
     * 日期路径 即年/月/日 如2018/08/08
     */
    public static final String datePath() {
    }

    /**
     * 日期路径 即年/月/日 如20180808
     */
    public static final String dateTime() {
    }

    /**
     * 日期型字符串转化为日期 格式
     */
    public static Date parseDate(Object str) {
    }

    /**
     * 获取服务器启动时间
     */
    public static Date getServerStartDate() {
    }

    /**
     * 计算相差天数
     */
    public static int differentDaysByMillisecond(Date date1, Date date2) {
    }

    /**
     * 计算时间差
     *
     * @param endDate   最后时间
     * @param startTime 开始时间
     * @return 时间差（天/小时/分钟）
     */
    public static String timeDistance(Date endDate, Date startTime) {
    }

    /**
     * 增加 LocalDateTime ==> Date
     */
    public static Date toDate(LocalDateTime temporalAccessor) {
    }

    /**
     * 增加 LocalDate ==> Date
     */
    public static Date toDate(LocalDate temporalAccessor) {
    }

    /**
     * 将日期转化为指定格式的字符串
     *
     * @param date    Date 时间对象
     * @param pattern String 时间格式，可以是年月日时分秒的任意有效组合，如yyyy-MM-dd HH:mm
     *                年：yyyy
     *                月：MM
     *                日：dd
     *                时：HH（24小时制）或hh（12小时制）
     *                分：mm
     *                秒：ss
     * @return String 日期字符串
     */
    public static String getString(Date date, String pattern) {
    }

    public static String getString(long time, String pattern) {
    }

    /**
     * 将日期转化为默认的yyyy-MM-dd格式的字符串
     *
     * @param date Date 时间对象
     * @return String 日期字符串
     */
    public static String getString(Date date) {
    }

    /**
     * 将日期字符串转换为对应格式的日期对象
     *
     * @param strDate String 日期字符串,如2007-02-14 14:25
     * @param format  String 日期格式，与日期字符串的格式对应，如yyyy-MM-dd HH:mm
     *                年：yyyy
     *                月：MM
     *                日：dd
     *                时：HH（24小时制）或hh（12小时制）
     *                分：mm
     *                秒：ss
     * @return Date 日期对象
     */
    public static Date getDate(String strDate, String format) {
    }

    /**
     * 将格式为yyyy-MM-dd的日期字符串转换为日期对象
     *
     * @param strDate String 日期字符串,如2007-02-14
     * @return Date 日期对象
     */
    public static Date getDate(String strDate) {
    }

    /**
     * 获得两个日期对象之间相差的天数
     *
     * @param beginDate Date 开始日期
     * @param endDate   Date 结束日期
     * @return long 相差天数，如果beginDate>endDate，返回负数
     */
    public static int getDays(Date beginDate, Date endDate) {
    }

    /**
     * 获取到相差的时分秒
     *
     * @param inDate
     * @param nowDate
     * @return
     */
    public static long[] getDiffHms(LocalDateTime inDate, LocalDateTime nowDate) {
    }

    //Date转换为LocalDateTime
    public static LocalDateTime convertDateToLDT(Date date) {
    }

    //LocalDateTime转换为Date
    public static Date convertLDTToDate(LocalDateTime time) {
    }


    /**
     * 在指定的日期加上或减去天数
     *
     * @param date Date 日期
     * @param day  int 天数(正数-加;负数-减)
     * @return Date 修改后的日期
     */
    public static Date addDays(Date date, int day) {
    }

    /**
     * 日期比较
     *
     * @param beginDate
     * @param endDate
     * @return
     */
    public static int compareDate(String beginDate, String endDate) {
    }

    public static String getMonday(String strDate) {
    }

    /*
     * 将时间戳转换为时间
     */
    public static String timeStamp2Date(String seconds, String format) {
    }

    public static Date isValidDate(String str) {
    }

    public static Date addYears(Date date, int amount) {
    }

    public static Date addMonths(Date date, int amount) {
    }

    public static Date addWeeks(Date date, int amount) {
    }

    public static Date addHours(Date date, int amount) {
    }

    public static Date addMinutes(Date date, int amount) {
    }

    public static Date addSeconds(Date date, int amount) {
    }

    public static Date addMilliseconds(Date date, int amount) {
    }

    private static Date add(Date date, int calendarField, int amount) {}

    /**
     * 获取周几
     *
     * @param date
     * @return
     */
    public static int dateToWeek(Date date) {}

    /**
     * 验证时间字符串格式输入是否正确
     *
     * @param timeStr
     * @return
     */
    public static boolean isValidDate(String timeStr, String parttern) {}


    /**
     * 根据指定日期 获取到当月的第一天和最后一天
     *
     * @param date
     * @return
     */
    public static String[] getStartDayEndDay(String date, String parttern) {}

    /**
     * 根据输入的年月得到此月的天数
     *
     * @param year
     * @param month
     * @return
     */
    public static int countDaysInMonth(int year, int month) {}

    /**
     * 获得指定日期的前一天
     *
     * @param specifiedDay
     * @return Calendar对象
     * @throws Exception
     */
    public static Calendar getSpecifiedDayBefore(String specifiedDay) {}

    /**
     * 获得指定日期的前一天
     *
     * @param specifiedDay
     * @return
     * @throws Exception
     */
    public static String getSpecifiedDayBeforeStr(String specifiedDay) {}

    /**
     * 获得指定日期的后一天
     *
     * @param specifiedDay
     * @return Calendar对象
     */
    public static Calendar getSpecifiedDayAfter(String specifiedDay) {}

    /**
     * 获得指定日期的后一天
     *
     * @param specifiedDay
     * @return
     */
    public static String getSpecifiedDayAfterStr(String specifiedDay) {}

    /**
     * 格式化日期
     *
     * @param date
     * @param pattern
     * @return
     */
    public static String dateStrToString(String date, String pattern) {}

    /**
     * 根据出生日期得到年龄
     *
     * @param Birthday
     * @param SelectDay
     * @return
     */
    public static String GetAgeFromDate(String Birthday, String SelectDay) {}
```

## FileUtil（文件工具类）

### com.whoami.util.FileUtil

```java
    /**
     * 新建目录
     *
     * @param folderPath String 如 c:/fqf
     * @return boolean
     */
    public static boolean newFolder(String folderPath) {}

    public static boolean exists(String strDirectoryPath) {}

    public static String connectPath(String string, String string2) {}


    /**
     * 返回文件属性
     *
     * @param file
     * @param type
     * @return
     */
    public static String getFileAttribute(File file, String type) {}

    /**
     * 得到指定文件的大小
     *
     * @param fileName 文件的名称或目录
     * @return 返回文件的大小
     */
    public static long getFileSize(File fileName) {}

    /**
     * 格式化大小
     *
     * @param size
     * @return
     */
    private static String transformUnit(long size) {}

    /**
     * 得到文件类型
     *
     * @param file
     * @return
     */
    public static String typeOfFile(File file) {}

    public static String readTxt(String path) {}

    /**
     * 下载图片并转换成base64格式
     *
     * @param imageUrl 图片URL
     * @return 图片base64编码
     */
    public static String downLoadImageToBase64(String imageUrl) {}


    /**
     * 本地文件转base64编码
     *
     * @param filePath 文件所在路径
     * @return base64编码
     */
    public static String fileToBase64(String filePath) throws Exception {}

    /**
     * base64编码转成文件
     *
     * @param base64   文件base64编码
     * @param filename 文件名称
     * @return
     * @throws Exception
     */
    public static File base64ToFile(String base64, String filename) throws Exception {}


    public static InputStream base64ToinputStream(String base64) throws Exception {}

    /**
     * 工具类关闭流
     * 可变参数: ...  只能形参最后一个位置,处理方式与数组一致
     */
    public static void close(Closeable ... io){}
```

## HttpUtil（HTTP请求代理工具）

### com.whoami.util.HttpUtil

```java
    /**
     * 支持的Http method
     */
    private enum HttpMethod {
        POST, DELETE, GET, PUT, HEAD
    }

    /**
     * post 请求
     * @param url
     * @param params &符号连接方式
     * @return
     */
    public static String post(String url, Map params) {}

    /**
     * post 请求
     * @param url
     * @param params &符号连接方式
     * @return
     */
    public static String post(String url, JSONObject params) {}

    /**
     * post 请求
     * @param url
     * @param paramsStr 字符串方式
     * @return
     */
    public static String post(String url, String paramsStr) {}

    /**
     *  post 请求
     * @param url
     * @param params json方式
     * @param headers 请求头信息
     * @return
     */
    public static String post(String url, JSONObject params,Map<String,String> headers) {}

    /**
     *  post 请求
     * @param url
     * @param params json方式
     * @param headers 请求头信息
     * @return
     */
    public static String post(String url, Map<String,Object> params,Map<String,String> headers) {}

    /**
     * POST方法提交Http请求，语义为“增加” <br/>
     * 注意：Http方法中只有POST方法才能使用body来提交内容
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String post(String url, Map params, int connectTimeout, int readTimeout, String charset) {}

    /**
     * POST方法提交Http请求，语义为“增加” <br/>
     * 注意：Http方法中只有POST方法才能使用body来提交内容
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param headers        请求头参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String post(String url, Map params, Map<String, String> headers, int connectTimeout, int readTimeout, String charset) {}

    /**
     * GET方法提交Http请求，语义为“查询”
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String get(String url, Map params, int connectTimeout, int readTimeout, String charset) {}

    /**
     * GET方法提交Http请求，语义为“查询”
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param headers        请求头参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String get(String url, Map params, Map<String, String> headers, int connectTimeout, int readTimeout, String charset) {}

    /**
     * PUT方法提交Http请求，语义为“更改” <br/>
     * 注意：PUT方法也是使用url提交参数内容而非body，所以参数最大长度收到服务器端实现的限制，Resin大概是8K
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String put(String url, Map params, int connectTimeout, int readTimeout, String charset) {}

    /**
     * PUT方法提交Http请求，语义为“更改” <br/>
     * 注意：PUT方法也是使用url提交参数内容而非body，所以参数最大长度收到服务器端实现的限制，Resin大概是8K
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param headers        请求头参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String put(String url, Map params, Map<String, String> headers, int connectTimeout, int readTimeout, String charset) {}

    /**
     * DELETE方法提交Http请求，语义为“删除”
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String delete(String url, Map params, int connectTimeout, int readTimeout, String charset) {}

    /**
     * DELETE方法提交Http请求，语义为“删除”
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param headers        请求头参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String delete(String url, Map params, Map<String, String> headers, int connectTimeout, int readTimeout, String charset) {}

    /**
     * HEAD方法提交Http请求，语义同GET方法  <br/>
     * 跟GET方法不同的是，用该方法请求，服务端不返回message body只返回头信息，能节省带宽
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String head(String url, Map params, int connectTimeout, int readTimeout, String charset) { }

    /**
     * HEAD方法提交Http请求，语义同GET方法  <br/>
     * 跟GET方法不同的是，用该方法请求，服务端不返回message body只返回头信息，能节省带宽
     *
     * @param url            资源路径（如果url中已经包含参数，则params应该为null）
     * @param params         参数
     * @param headers        请求头参数
     * @param connectTimeout 连接超时时间（单位为ms）
     * @param readTimeout    读取超时时间（单位为ms）
     * @param charset        字符集（一般该为“utf-8”）
     * @return
     */
    public static String head(String url, Map params, Map<String, String> headers, int connectTimeout, int readTimeout, String charset) {}


    @SuppressWarnings({"unchecked", "rawtypes"})
    private static String invokeUrl(String url, Map params, Map<String, String> headers, int connectTimeout, int readTimeout, String encoding, HttpMethod method) {}

    private static String invokeStr(String url, String paramsStr, Map<String, String> headers, int connectTimeout, int readTimeout, String encoding, HttpMethod method) {}


    private static CloseableHttpClient getHttpClient() throws KeyManagementException, NoSuchAlgorithmException {}


    /**
     * 绕过验证
     *
     * @return
     * @throws NoSuchAlgorithmException
     * @throws KeyManagementException
     */
    public static SSLContext createIgnoreVerifySSL() throws NoSuchAlgorithmException, KeyManagementException {}


    /**
     * HttpClient get请求
     *
     * @param url
     * @return
     */
    public static String doGet(String url) {}


    /**
     * HttpClient Post请求
     *
     * @param url      请求地址
     * @param jsonData 请求数据
     * @return
     */
    public static String doPost(String url, JSONObject jsonData) {}

    /**
     * HttpClient Post请求 带认证信息
     *
     * @param auth
     * @param url
     * @param jsonData
     * @return
     */
    public static String doPost(String auth, String url, String contentType, JSONObject jsonData) {}

    public static String doPost(Map<String, String> headers, String url, JSONObject jsonData) {}
```

## RedisUtils（RedisUtils工具类）

**RedisUtils工具类，自动装配**

### com.whoami.util.RedisUtils

```java
    public void setRedisTemplate(RedisTemplate<String, Object> redisTemplate) {
        this.redisTemplate = redisTemplate;
    }
    // =============================common============================

    /**
     * 普通缓存获取
     *
     * @param
     * @return 值
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public Set<String> keys(String pattern) {}

    /**
     * 指定缓存失效时间
     *
     * @param key  键
     * @param time 时间(秒)
     * @return
     */
    public boolean expire(String key, long time) {}

    /**
     * 根据key 获取过期时间
     *
     * @param key 键 不能为null
     * @return 时间(秒) 返回0代表为永久有效
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public long getExpire(String key) {}

    /**
     * 判断key是否存在
     *
     * @param key 键
     * @return true 存在 false不存在
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public boolean hasKey(String key) {}

    /**
     * 删除缓存
     *
     * @param key 可以传一个值 或多个
     */
    @SuppressWarnings("unchecked")
    public void del(String... key) {}

    // ============================String=============================

    /**
     * 普通缓存获取
     *
     * @param key 键
     * @return 值
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public Object get(String key) {}

    /**
     * 普通缓存放入
     *
     * @param key   键
     * @param value 值
     * @return true成功 false失败
     */
    public boolean set(String key, Object value) {}

    /**
     * 普通缓存放入并设置时间
     *
     * @param key   键
     * @param value 值
     * @param time  时间(秒) time要大于0 如果time小于等于0 将设置无限期
     * @return true成功 false 失败
     */
    public boolean set(String key, Object value, long time) {}

    /**
     * 递增
     *
     * @param key   键
     * @param delta 要增加几(大于0)
     * @return
     */
    public long incr(String key, long delta) {}

    /**
     * 递减
     *
     * @param key   键
     * @param delta 要减少几(小于0)
     * @return
     */
    public long decr(String key, long delta) {}

    // ================================Map=================================

    /**
     * HashGet
     *
     * @param key  键 不能为null
     * @param item 项 不能为null
     * @return 值
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public Object hget(String key, String item) {}

    /***
     * HashGetKey
     *
     * @param key  键 不能为null
     * @param value 项 不能为null
     * @return
     */
    public Object hgetByVal(String key, String value) {}

    /***
     * JSONObject HashGetKey
     *
     * @param key  键 不能为null
     * @param value 项 不能为null
     * @return
     */
    public String hgetByObjVal(String key, String objkey, String value) {}

    /**
     * 获取hashKey对应的所有键值
     *
     * @param key 键
     * @return 对应的多个键值
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public Map<Object, Object> hmget(String key) {}

    /**
     * HashSet
     *
     * @param key 键
     * @param map 对应多个键值
     * @return true 成功 false 失败
     */
    public boolean hmset(String key, Map<String, Object> map) {}

    /**
     * HashSet 并设置时间
     *
     * @param key  键
     * @param map  对应多个键值
     * @param time 时间(秒)
     * @return true成功 false失败
     */
    public boolean hmset(String key, Map<String, Object> map, long time) {}

    /**
     * 向一张hash表中放入数据,如果不存在将创建
     *
     * @param key   键
     * @param item  项
     * @param value 值
     * @return true 成功 false失败
     */
    public boolean hset(String key, String item, Object value) {}

    /**
     * 向一张hash表中放入数据,如果不存在将创建
     *
     * @param key   键
     * @param item  项
     * @param value 值
     * @param time  时间(秒) 注意:如果已存在的hash表有时间,这里将会替换原有的时间
     * @return true 成功 false失败
     */
    public boolean hset(String key, String item, Object value, long time) {}

    /**
     * 删除hash表中的值
     *
     * @param key  键 不能为null
     * @param item 项 可以使多个 不能为null
     */
    public void hdel(String key, Object... item) { }

    /**
     * 判断hash表中是否有该项的值
     *
     * @param key  键 不能为null
     * @param item 项 不能为null
     * @return true 存在 false不存在
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public boolean hHasKey(String key, String item) {}

    /**
     * hash递增 如果不存在,就会创建一个 并把新增后的值返回
     *
     * @param key  键
     * @param item 项
     * @param by   要增加几(大于0)
     * @return
     */
    public double hincr(String key, String item, double by) {}

    /**
     * hash递减
     *
     * @param key  键
     * @param item 项
     * @param by   要减少记(小于0)
     * @return
     */
    public double hdecr(String key, String item, double by) {}

    // ============================set=============================

    /**
     * 根据key获取Set中的所有值
     *
     * @param key 键
     * @return
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public Set<Object> sGet(String key) {}

    /**
     * 根据value从一个set中查询,是否存在
     *
     * @param key   键
     * @param value 值
     * @return true 存在 false不存在
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public boolean sHasKey(String key, Object value) {}

    /**
     * 将数据放入set缓存
     *
     * @param key    键
     * @param values 值 可以是多个
     * @return 成功个数
     */
    public long sSet(String key, Object... values) {}

    /**
     * 将set数据放入缓存
     *
     * @param key    键
     * @param time   时间(秒)
     * @param values 值 可以是多个
     * @return 成功个数
     */
    public long sSetAndTime(String key, long time, Object... values) {}

    /**
     * 获取set缓存的长度
     *
     * @param key 键
     * @return
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public long sGetSetSize(String key) {}

    /**
     * 移除值为value的
     *
     * @param key    键
     * @param values 值 可以是多个
     * @return 移除的个数
     */
    public long setRemove(String key, Object... values) {}
    
    // ===============================list=================================

    /**
     * 获取list缓存的内容
     *
     * @param key   键
     * @param start 开始
     * @param end   结束 0 到 -1代表所有值
     * @return
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public List<Object> lGet(String key, long start, long end) {}

    /**
     * 获取list缓存的长度
     *
     * @param key 键
     * @return
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public long lGetListSize(String key) {}

    /**
     * 通过索引 获取list中的值
     *
     * @param key   键
     * @param index 索引 index>=0时， 0 表头，1 第二个元素，依次类推；index<0时，-1，表尾，-2倒数第二个元素，依次类推
     * @return
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public Object lGetIndex(String key, long index) { }

    /**
     * 将list放入缓存
     *
     * @param key   键
     * @param value 值
     * @return
     */
    public boolean lSet(String key, Object value) {}

    /**
     * 将list放入缓存
     *
     * @param key   键
     * @param value 值
     * @param time  时间(秒)
     * @return
     */
    public boolean lSet(String key, Object value, long time) {}

    /**
     * 将list放入缓存
     *
     * @param key   键
     * @param value 值
     * @return
     */
    public boolean lSet(String key, List<Object> value) {}

    /**
     * 将list放入缓存
     *
     * @param key   键
     * @param value 值
     * @param time  时间(秒)
     * @return
     */
    public boolean lSet(String key, List<Object> value, long time) {}

    /**
     * 根据索引修改list中的某条数据
     *
     * @param key   键
     * @param index 索引
     * @param value 值
     * @return
     */
    public boolean lUpdateIndex(String key, long index, Object value) {}

    /**
     * 移除N个值为value
     *
     * @param key   键
     * @param count 移除多少个
     * @param value 值
     * @return 移除的个数
     */
    public long lRemove(String key, long count, Object value) {}

    /**
     * 按键的排序获取对应的值
     *
     * @param keys 多个键
     * @return List<Object>
     */
    @Transactional(readOnly = true, propagation = Propagation.REQUIRES_NEW)
    public List<Object> mget(Collection<String> keys) {}


    /**
     * 缓存基本的对象，Integer、String、实体类等
     *
     * @param key 缓存的键值
     * @param value 缓存的值
     */
    public <T> void setCacheObject(final String key, final T value)
    {}

    /**
     * 缓存基本的对象，Integer、String、实体类等
     *
     * @param key 缓存的键值
     * @param value 缓存的值
     * @param timeout 时间
     * @param timeUnit 时间颗粒度
     */
    public <T> void setCacheObject(final String key, final T value, final Integer timeout, final TimeUnit timeUnit)
    {}


    /**
     * 设置有效时间
     *
     * @param key Redis键
     * @param timeout 超时时间
     * @param unit 时间单位
     * @return true=设置成功；false=设置失败
     */
    public boolean expire(final String key, final long timeout, final TimeUnit unit)
    {}

    /**
     * 获得缓存的基本对象。
     *
     * @param key 缓存键值
     * @return 缓存键值对应的数据
     */
    public <T> T getCacheObject(final String key)
    {}

    /**
     * 删除单个对象
     *
     * @param key
     */
    public boolean deleteObject(final String key)
    {}

    /**
     * 删除集合对象
     *
     * @param collection 多个对象
     * @return
     */
    public boolean deleteObject(final Collection collection)
    {
        return redisTemplate.delete(collection) > 0;
    }

    /**
     * 缓存List数据
     *
     * @param key 缓存的键值
     * @param dataList 待缓存的List数据
     * @return 缓存的对象
     */
    public <T> long setCacheList(final String key, final List<T> dataList)
    {}

    /**
     * 获得缓存的list对象
     *
     * @param key 缓存的键值
     * @return 缓存键值对应的数据
     */
    public <T> List<T> getCacheList(final String key)
    {}

    /**
     * 缓存Set
     *
     * @param key 缓存键值
     * @param dataSet 缓存的数据
     * @return 缓存数据的对象
     */
    public <T> BoundSetOperations<String, T> setCacheSet(final String key, final Set<T> dataSet)
    {}

    /**
     * 获得缓存的set
     *
     * @param key
     * @return
     */
    public <T> Set<T> getCacheSet(final String key)
    {}

    /**
     * 缓存Map
     *
     * @param key
     * @param dataMap
     */
    public <T> void setCacheMap(final String key, final Map<String, T> dataMap)
    {}

    /**
     * 获得缓存的Map
     *
     * @param key
     * @return
     */
    public <T> Map<Object, Object> getCacheMap(final String key)
    {}

    /**
     * 往Hash中存入数据
     *
     * @param key Redis键
     * @param hKey Hash键
     * @param value 值
     */
    public <T> void setCacheMapValue(final String key, final String hKey, final T value)
    {}

    /**
     * 获取Hash中的数据
     *
     * @param key Redis键
     * @param hKey Hash键
     * @return Hash中的对象
     */
    public <T> T getCacheMapValue(final String key, final String hKey)
    {}

    /**
     * 获取多个Hash中的数据
     *
     * @param key Redis键
     * @param hKeys Hash键集合
     * @return Hash对象集合
     */
    public <T> List<T> getMultiCacheMapValue(final String key, final Collection<Object> hKeys)
    {}

    /**
     * 删除Hash中的某条数据
     *
     * @param key Redis键
     * @param hKey Hash键
     * @return 是否成功
     */
    public boolean deleteCacheMapValue(final String key, final String hKey)
    {}
```

## ServletUtils（ServletUtils客户端工具类）

### com.whoami.util.ServletUtils

```java
    /**
     * 获取String参数
     */
    public static String getParameter(String name)
    {}

    /**
     * 获取String参数
     */
    public static String getParameter(String name, String defaultValue)
    {}

    /**
     * 获取Integer参数
     */
    public static Integer getParameterToInt(String name)
    {}

    /**
     * 获取Integer参数
     */
    public static Integer getParameterToInt(String name, Integer defaultValue)
    {}

    /**
     * 获取Boolean参数
     */
    public static Boolean getParameterToBool(String name)
    {}

    /**
     * 获取Boolean参数
     */
    public static Boolean getParameterToBool(String name, Boolean defaultValue)
    {}

    /**
     * 获得所有请求参数
     *
     * @param request 请求对象{@link ServletRequest}
     * @return Map
     */
    public static Map<String, String[]> getParams(ServletRequest request)
    {}

    /**
     * 获得所有请求参数
     *
     * @param request 请求对象{@link HttpServletRequest}
     * @return Map
     */
    public static Map<String, Object> getParamMap(HttpServletRequest request){}

    /**
     * 获得所有请求参数
     *
     * @param request 请求对象{@link ServletRequest}
     * @return Map
     */
    public static Map<String, String> getParamMap(ServletRequest request)
    {}

    /**
     * 获取request
     */
    public static HttpServletRequest getRequest()
    {}

    /**
     * 获取response
     */
    public static HttpServletResponse getResponse()
    {}

    /**
     * 获取session
     */
    public static HttpSession getSession()
    {}

    public static ServletRequestAttributes getRequestAttributes()
    {}

    /**
     * 将字符串渲染到客户端
     * 
     * @param response 渲染对象
     * @param string 待渲染的字符串
     */
    public static void renderString(HttpServletResponse response, String string)
    {}

    /**
     * 是否是Ajax异步请求
     * 
     * @param request
     */
    public static boolean isAjaxRequest(HttpServletRequest request)
    {}

    /**
     * 内容编码
     * 
     * @param str 内容
     * @return 编码后的内容
     */
    public static String urlEncode(String str)
    {}

    /**
     * 内容解码
     * 
     * @param str 内容
     * @return 解码后的内容
     */
    public static String urlDecode(String str)
    {}

    /***
     * 获取sessionobj
     * @param request 1
     * @return 2
     */
    public static Map<String, Object> getSessionObj(HttpServletRequest request) {}
```

## IdUtils（ID生成器工具类）

### com.whoami.util.uuid.IdUtils

```java
    /**
     * 获得一个UUID
     *
     * @return String UUID
     */
    public static String getUUID() {}

    /**
     * 获取随机UUID
     *
     * @return 随机UUID
     */
    public static String randomUUID() {}

    /**
     * 简化的UUID，去掉了横线
     *
     * @return 简化的UUID，去掉了横线
     */
    public static String simpleUUID() {}

    /**
     * 获取随机UUID，使用性能更好的ThreadLocalRandom生成UUID
     *
     * @return 随机UUID
     */
    public static String fastUUID() {}

    /**
     * 简化的UUID，去掉了横线，使用性能更好的ThreadLocalRandom生成UUID
     *
     * @return 简化的UUID，去掉了横线
     */
    public static String fastSimpleUUID() {}
```

## EscapeUtil （转义和反转义工具类）

### com.whoami.util.html.EscapeUtil

```java
   /**
     * 转义文本中的HTML字符为安全的字符
     * 
     * @param text 被转义的文本
     * @return 转义后的文本
     */
    public static String escape(String text)
    {}

    /**
     * 还原被转义的HTML特殊字符
     * 
     * @param content 包含转义符的HTML内容
     * @return 转换后的字符串
     */
    public static String unescape(String content)
    {}

    /**
     * 清除所有HTML标签，但是不删除标签内的内容
     * 
     * @param content 文本
     * @return 清除标签后的文本
     */
    public static String clean(String content)
    {}

    /**
     * Escape编码
     * 
     * @param text 被编码的文本
     * @return 编码后的字符
     */
    private static String encode(String text)
    {}

    /**
     * Escape解码
     * 
     * @param content 被转义的内容
     * @return 解码后的字符串
     */
    public static String decode(String content)
    {}
```

## ImageKit（图像工具类）

### com.whoami.kit.ImageKit

```java
    /**
     * 生成形如data:image/jpeg;base64,iVBORw0KGgoA……的字符串，将图片文件Data URI化
     *
     * @param imageFilePath 图片文件路径
     * @return 形如data:image/jpeg;base64,iVBORw0KGgoA……的字符串
     * @throws IOException
     */
    public static String encodeDataUri(String imageFilePath) throws IOException{}
    
    /**
     * 生成形如data:image/jpeg;base64,iVBORw0KGgoA……的字符串，将图片文件Data URI化
     *
     * @param imageFile 图片文件对象
     * @return 形如data:image/jpeg;base64,iVBORw0KGgoA……的字符串
     * @throws IOException
     */
    public static String encodeDataUri(File imageFile) throws IOException{}
    
    /**
     * 将文件编码成base64格式
     *
     * @param imageFilePath 图片文件路径
     * @return base64编码格式的字符串
     * @throws IOException
     */
    public static String encodeBase64(String imageFilePath) throws IOException{}
    
    /**
     * 将文件编码成base64格式
     *
     * @param imageFile 图片文件对象
     * @return base64编码格式的字符串
     * @throws IOException
     */
    public static String encodeBase64(File imageFile) throws IOException{}
```













