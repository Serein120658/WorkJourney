标签绑定

选择幼儿仓库   target 为1

表示入库订单列表中的所有的幼儿订单

![image-20251230150812837](12.标签绑定.assets/image-20251230150812837.png)

具体的商品信息则是  上面订单中的所有商品列表  不管是否重复，没入库都可以在手持机上入库

![image-20251230151002102](12.标签绑定.assets/image-20251230151002102.png)

手持机上对应的商品列表即为需要入幼儿仓库的商品

## 上面的是自己的想法   现在是不使用的













## 具体的实现方式

![image-20251230180200877](12.标签绑定.assets/image-20251230180200877.png)


拿到的商品信息是从类似的这种效果
![image-20251230180234155](12.标签绑定.assets/image-20251230180234155.png)

**点击具体的商品之后就是可以点击去绑定**

**商品的数量基本上决定标签的数量**







这里还是两个消息去获取入库的和库存的没有绑标签的





库存的finish了 一半       **入库完成后绑定标签的**   

总的库存  出入库都会往里面写数据  修改库存量 

标签如何修改库存量呢   ？？？？ 出库拿走了那些标签

数量减少 ？？？







## 新建的库存绑标签的表

buy_foodstoragedetailrfid

每个标签的计量单位    conversion   拿走多少标签  就是多少单位的   **总库存 -  出库的**

foodnum    rfidnum   whid   conversion    unit(库存单位)   state(状态)   

物品的编号   标签号     对应的规格    state

​												规格就是    conversion   unit 

扫到3个标签   那就对应   3 * conversion  unit



## 库存详情是如何判断还有的 ？？？？ 

oprnum   oprjin  不为0



## BUG

现有的食品的筛选有问题   匹配问题





## 新入库的绑定标签

**之前的是库存绑定标签的**







## 库存详情的绑定rfid 表





## dbutil中的批量操作

```
 /**
     * 插入批量语句
     *
     * @param dtype 数据库类型
     * @param did   数据库连接关键字
     * @param sqls  sql字符串多个分号分隔
     * @return 结果
     * code 没有代表成功  1 数据库类型不能为空,2:数据库连接失败 3:执行语句出错
     * 对象对应传入sql下表返回执行结果
     */
    public static JSONObject insertSql(String dtype, String did, String sqls) {}
```





## 获取未绑定的批次
