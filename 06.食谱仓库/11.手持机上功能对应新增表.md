## 针对功能表设计





### 库存详情

**buy_foodstoragedetail_rfid**





## 沟通后

出库需要有相应的记录

buy_foodoutstoragedetail_rfid



盘库也需要

buy_foodcheckstoragedetail_rfid



三个表的结构是类似的















## SQL

```sql
/*
 Navicat Premium Dump SQL

 Source Server         : test_12
 Source Server Type    : PostgreSQL
 Source Server Version : 120005 (120005)
 Source Host           : 39.106.47.97:5432
 Source Catalog        : tb_y_4e1b0dc9433b4ceaa4ba90f9b8a8066e
 Source Schema         : public

 Target Server Type    : PostgreSQL
 Target Server Version : 120005 (120005)
 File Encoding         : 65001

 Date: 04/01/2026 13:32:04
*/


-- ----------------------------
-- Table structure for buy_foodstoragedetail_rfid
-- ----------------------------
DROP TABLE IF EXISTS "public"."buy_foodstoragedetail_rfid";
CREATE TABLE "public"."buy_foodstoragedetail_rfid" (
  "id" int4 NOT NULL,
  "detailid" int4 NOT NULL,
  "foodnum" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "batchnum" varchar(40) COLLATE "pg_catalog"."default",
  "whid" int4,
  "conversion" numeric(10,3),
  "unit" varchar(10) COLLATE "pg_catalog"."default",
  "rfidnum" varchar(255) COLLATE "pg_catalog"."default",
  "status" int2,
  "lan" varchar(6) COLLATE "pg_catalog"."default" DEFAULT 'zh'::character varying,
  "uid" int4,
  "departno" varchar(16) COLLATE "pg_catalog"."default",
  "creatime" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "alterid" int4,
  "altime" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "isdel" int2
)
;
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."detailid" IS '库存明细id';
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."foodnum" IS '食物编号';
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."batchnum" IS '入库批次号';
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."whid" IS '仓库id';
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."conversion" IS '单位重量，单位转斤';
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."unit" IS '绑定的food对应的库存单位';
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."rfidnum" IS 'rfid标签号';
COMMENT ON COLUMN "public"."buy_foodstoragedetail_rfid"."status" IS '标签绑定状态  1 已绑  0 未绑';

-- ----------------------------
-- Primary Key structure for table buy_foodstoragedetail_rfid
-- ----------------------------
ALTER TABLE "public"."buy_foodstoragedetail_rfid" ADD CONSTRAINT "buy_fooddetailrfid_pkey" PRIMARY KEY ("id");




-- 出库明细RFID表
DROP TABLE IF EXISTS "public"."buy_foodoutstoragedetail_rfid";
CREATE TABLE "public"."buy_foodoutstoragedetail_rfid" (
  "id" int4 NOT NULL,
  "detailid" int4 NOT NULL,
  "foodnum" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "batchnum" varchar(40) COLLATE "pg_catalog"."default",
  "whid" int4,
  "conversion" numeric(10,3),
  "unit" varchar(10) COLLATE "pg_catalog"."default",
  "rfidnum" varchar(255) COLLATE "pg_catalog"."default",
  "status" int2,
  "lan" varchar(6) COLLATE "pg_catalog"."default" DEFAULT 'zh'::character varying,
  "uid" int4,
  "departno" varchar(16) COLLATE "pg_catalog"."default",
  "creatime" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "alterid" int4,
  "altime" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "isdel" int2
);

COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."detailid" IS '出库明细id';
COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."foodnum" IS '食物编号';
COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."batchnum" IS '出库批次号';
COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."whid" IS '仓库id';
COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."conversion" IS '单位重量，单位转斤';
COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."unit" IS '绑定的food对应的库存单位';
COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."rfidnum" IS 'rfid标签号';
COMMENT ON COLUMN "public"."buy_foodoutstoragedetail_rfid"."status" IS '标签绑定状态  1 已绑  0 未绑';

ALTER TABLE "public"."buy_foodoutstoragedetail_rfid" ADD CONSTRAINT "buy_foodoutstoragedetail_rfid_pkey" PRIMARY KEY ("id");


-- 盘点明细RFID表
DROP TABLE IF EXISTS "public"."buy_foodcheckstoragedetail_rfid";
CREATE TABLE "public"."buy_foodcheckstoragedetail_rfid" (
  "id" int4 NOT NULL,
  "detailid" int4 NOT NULL,
  "foodnum" varchar(20) COLLATE "pg_catalog"."default" NOT NULL,
  "batchnum" varchar(40) COLLATE "pg_catalog"."default",
  "whid" int4,
  "conversion" numeric(10,3),
  "unit" varchar(10) COLLATE "pg_catalog"."default",
  "rfidnum" varchar(255) COLLATE "pg_catalog"."default",
  "status" int2,
  "lan" varchar(6) COLLATE "pg_catalog"."default" DEFAULT 'zh'::character varying,
  "uid" int4,
  "departno" varchar(16) COLLATE "pg_catalog"."default",
  "creatime" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "alterid" int4,
  "altime" timestamp(6) DEFAULT CURRENT_TIMESTAMP,
  "isdel" int2
);

COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."detailid" IS '盘点明细id';
COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."foodnum" IS '食物编号';
COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."batchnum" IS '盘点批次号';
COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."whid" IS '仓库id';
COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."conversion" IS '单位重量，单位转斤';
COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."unit" IS '绑定的food对应的库存单位';
COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."rfidnum" IS 'rfid标签号';
COMMENT ON COLUMN "public"."buy_foodcheckstoragedetail_rfid"."status" IS '标签绑定状态  1 已绑  0 未绑';

ALTER TABLE "public"."buy_foodcheckstoragedetail_rfid" ADD CONSTRAINT "buy_foodcheckstoragedetail_rfid_pkey" PRIMARY KEY ("id");

```

